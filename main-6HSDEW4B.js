var iw=Object.defineProperty,ow=Object.defineProperties;var sw=Object.getOwnPropertyDescriptors;var Gh=Object.getOwnPropertySymbols;var aw=Object.prototype.hasOwnProperty,cw=Object.prototype.propertyIsEnumerable;var zh=(t,e,r)=>e in t?iw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v=(t,e)=>{for(var r in e||={})aw.call(e,r)&&zh(t,r,e[r]);if(Gh)for(var r of Gh(e))cw.call(e,r)&&zh(t,r,e[r]);return t},I=(t,e)=>ow(t,sw(e));function Wh(t,e){return Object.is(t,e)}var Ve=null,ts=!1,ns=1,pn=Symbol("SIGNAL");function fe(t){let e=Ve;return Ve=t,e}var is={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ll(t){if(ts)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(mr(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&Ti(Ve)){let r=Ve.producerNode[e];os(r,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=Ti(Ve)?Qh(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function lw(){ns++}function qh(t){if(!(Ti(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ns)){if(!t.producerMustRecompute(t)&&!fl(t)){t.dirty=!1,t.lastCleanEpoch=ns;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ns}}function Zh(t){if(t.liveConsumerNode===void 0)return;let e=ts;ts=!0;try{for(let r of t.liveConsumerNode)r.dirty||uw(r)}finally{ts=e}}function Yh(){return Ve?.consumerAllowSignalWrites!==!1}function uw(t){t.dirty=!0,Zh(t),t.consumerMarkedDirty?.(t)}function ul(t){return t&&(t.nextProducerIndex=0),fe(t)}function dl(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ti(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)os(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function fl(t){mr(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(qh(r),n!==r.version))return!0}return!1}function Kh(t){if(mr(t),Ti(t))for(let e=0;e<t.producerNode.length;e++)os(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Qh(t,e,r){if(Jh(t),mr(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=Qh(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(e)-1}function os(t,e){if(Jh(t),mr(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)os(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];mr(i),i.producerIndexOfThis[n]=e}}function Ti(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function mr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Jh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Xh(t){let e=Object.create(dw);e.computation=t;let r=()=>{if(qh(e),ll(e),e.value===rs)throw e.error;return e.value};return r[pn]=e,r}var al=Symbol("UNSET"),cl=Symbol("COMPUTING"),rs=Symbol("ERRORED"),dw=I(v({},is),{value:al,dirty:!0,error:null,equal:Wh,producerMustRecompute(t){return t.value===al||t.value===cl},producerRecomputeValue(t){if(t.value===cl)throw new Error("Detected cycle in computations.");let e=t.value;t.value=cl;let r=ul(t),n;try{n=t.computation()}catch(i){n=rs,t.error=i}finally{dl(t,r)}if(e!==al&&e!==rs&&n!==rs&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function fw(){throw new Error}var ep=fw;function tp(){ep()}function np(t){ep=t}var hw=null;function rp(t){let e=Object.create(op);e.value=t;let r=()=>(ll(e),e.value);return r[pn]=e,r}function hl(t,e){Yh()||tp(),t.equal(t.value,e)||(t.value=e,pw(t))}function ip(t,e){Yh()||tp(),hl(t,e(t.value))}var op=I(v({},is),{equal:Wh,value:void 0});function pw(t){t.version++,lw(),Zh(t),hw?.()}function B(t){return typeof t=="function"}function mn(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ss=mn(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function jn(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(B(n))try{n()}catch(o){e=o instanceof ss?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sp(o)}catch(s){e=e??[],s instanceof ss?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ss(e)}}add(e){var r;if(e&&e!==this)if(this.closed)sp(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&jn(r,e)}remove(e){let{_finalizers:r}=this;r&&jn(r,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var pl=be.EMPTY;function as(t){return t instanceof be||t&&"closed"in t&&B(t.remove)&&B(t.add)&&B(t.unsubscribe)}function sp(t){B(t)?t():t.unsubscribe()}var xt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var gr={setTimeout(t,e,...r){let{delegate:n}=gr;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=gr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function cs(t){gr.setTimeout(()=>{let{onUnhandledError:e}=xt;if(e)e(t);else throw t})}function Kt(){}var ap=ml("C",void 0,void 0);function cp(t){return ml("E",void 0,t)}function lp(t){return ml("N",t,void 0)}function ml(t,e,r){return{kind:t,value:e,error:r}}var $n=null;function vr(t){if(xt.useDeprecatedSynchronousErrorHandling){let e=!$n;if(e&&($n={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=$n;if($n=null,r)throw n}}else t()}function up(t){xt.useDeprecatedSynchronousErrorHandling&&$n&&($n.errorThrown=!0,$n.error=t)}var Vn=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,as(e)&&e.add(this)):this.destination=vw}static create(e,r,n){return new Qt(e,r,n)}next(e){this.isStopped?vl(lp(e),this):this._next(e)}error(e){this.isStopped?vl(cp(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vl(ap,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mw=Function.prototype.bind;function gl(t,e){return mw.call(t,e)}var yl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){ls(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){ls(n)}else ls(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){ls(r)}}},Qt=class extends Vn{constructor(e,r,n){super();let i;if(B(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&xt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&gl(e.next,o),error:e.error&&gl(e.error,o),complete:e.complete&&gl(e.complete,o)}):i=e}this.destination=new yl(i)}};function ls(t){xt.useDeprecatedSynchronousErrorHandling?up(t):cs(t)}function gw(t){throw t}function vl(t,e){let{onStoppedNotification:r}=xt;r&&gr.setTimeout(()=>r(t,e))}var vw={closed:!0,next:Kt,error:gw,complete:Kt};var yr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ue(t){return t}function _l(...t){return wl(t)}function wl(t){return t.length===0?Ue:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var G=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=_w(r)?r:new Qt(r,n,i);return vr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=dp(n),new n((i,o)=>{let s=new Qt({next:a=>{try{r(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[yr](){return this}pipe(...r){return wl(r)(this)}toPromise(r){return r=dp(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function dp(t){var e;return(e=t??xt.Promise)!==null&&e!==void 0?e:Promise}function yw(t){return t&&B(t.next)&&B(t.error)&&B(t.complete)}function _w(t){return t&&t instanceof Vn||yw(t)&&as(t)}function Cl(t){return B(t?.lift)}function j(t){return e=>{if(Cl(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(t,e,r,n,i){return new Mi(t,e,r,n,i)}var Mi=class extends Vn{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _r(){return j((t,e)=>{let r=null;t._refCount++;let n=F(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var wr=class extends G{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,Cl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let r=this.getSubject();e.add(this.source.subscribe(F(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return _r()(this)}};var Cr={schedule(t){let e=requestAnimationFrame,r=cancelAnimationFrame,{delegate:n}=Cr;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);let i=e(o=>{r=void 0,t(o)});return new be(()=>r?.(i))},requestAnimationFrame(...t){let{delegate:e}=Cr;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=Cr;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var fp=mn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var H=(()=>{class t extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new us(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new fp}next(r){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){vr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?pl:(this.currentObservers=null,o.push(r),new be(()=>{this.currentObservers=null,jn(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new G;return r.source=this,r}}return t.create=(e,r)=>new us(e,r),t})(),us=class extends H{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:pl}};var Me=class extends H{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Ai={now(){return(Ai.delegate||Date).now()},delegate:void 0};var Ri=class extends H{constructor(e=1/0,r=1/0,n=Ai){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(e),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){let{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var ds=class extends be{constructor(e,r){super()}schedule(e,r=0){return this}};var Oi={setInterval(t,e,...r){let{delegate:n}=Oi;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=Oi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gn=class extends ds{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return Oi.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&Oi.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,jn(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var Dr=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};Dr.now=Ai.now;var vn=class extends Dr{constructor(e,r=Dr.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var Jt=new vn(gn),hp=Jt;var fs=class extends gn{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}schedule(e,r=0){return r>0?super.schedule(e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)}execute(e,r){return r>0||this.closed?super.execute(e,r):this._execute(e,r)}requestAsyncId(e,r,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,r,n):(e.flush(this),0)}};var hs=class extends vn{};var Ni=new hs(fs);var ps=class extends gn{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return n!==null&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=Cr.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,r,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);let{actions:o}=e;r!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==r&&(Cr.cancelAnimationFrame(r),e._scheduled=void 0)}};var ms=class extends vn{flush(e){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}};var gs=new ms(ps);var je=new G(t=>t.complete());function vs(t){return t&&B(t.schedule)}function Dl(t){return t[t.length-1]}function ys(t){return B(Dl(t))?t.pop():void 0}function Lt(t){return vs(Dl(t))?t.pop():void 0}function pp(t,e){return typeof Dl(t)=="number"?t.pop():e}function gp(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(d){s(d)}}function c(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function mp(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bn(t){return this instanceof Bn?(this.v=t,this):new Bn(t)}function vp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(h){return new Promise(function(g,_){o.push([f,h,g,_])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(g){d(o[0][3],g)}}function c(f){f.value instanceof Bn?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function yp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof mp=="function"?mp(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var br=t=>t&&typeof t.length=="number"&&typeof t!="function";function _s(t){return B(t?.then)}function ws(t){return B(t[yr])}function Cs(t){return Symbol.asyncIterator&&B(t?.[Symbol.asyncIterator])}function Ds(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function ww(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bs=ww();function Es(t){return B(t?.[bs])}function Is(t){return vp(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield Bn(r.read());if(i)return yield Bn(void 0);yield yield Bn(n)}}finally{r.releaseLock()}})}function Ss(t){return B(t?.getReader)}function he(t){if(t instanceof G)return t;if(t!=null){if(ws(t))return Cw(t);if(br(t))return Dw(t);if(_s(t))return bw(t);if(Cs(t))return _p(t);if(Es(t))return Ew(t);if(Ss(t))return Iw(t)}throw Ds(t)}function Cw(t){return new G(e=>{let r=t[yr]();if(B(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Dw(t){return new G(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function bw(t){return new G(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,cs)})}function Ew(t){return new G(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function _p(t){return new G(e=>{Sw(t,e).catch(r=>e.error(r))})}function Iw(t){return _p(Is(t))}function Sw(t,e){var r,n,i,o;return gp(this,void 0,void 0,function*(){try{for(r=yp(t);n=yield r.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})}function Ke(t,e,r,n=0,i=!1){let o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Xt(t,e=0){return j((r,n)=>{r.subscribe(F(n,i=>Ke(n,t,()=>n.next(i),e),()=>Ke(n,t,()=>n.complete(),e),i=>Ke(n,t,()=>n.error(i),e)))})}function xs(t,e=0){return j((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function wp(t,e){return he(t).pipe(xs(e),Xt(e))}function Cp(t,e){return he(t).pipe(xs(e),Xt(e))}function Dp(t,e){return new G(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function bp(t,e){return new G(r=>{let n;return Ke(r,e,()=>{n=t[bs](),Ke(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>B(n?.return)&&n.return()})}function Ts(t,e){if(!t)throw new Error("Iterable cannot be null");return new G(r=>{Ke(r,e,()=>{let n=t[Symbol.asyncIterator]();Ke(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Ep(t,e){return Ts(Is(t),e)}function Ip(t,e){if(t!=null){if(ws(t))return wp(t,e);if(br(t))return Dp(t,e);if(_s(t))return Cp(t,e);if(Cs(t))return Ts(t,e);if(Es(t))return bp(t,e);if(Ss(t))return Ep(t,e)}throw Ds(t)}function Le(t,e){return e?Ip(t,e):he(t)}function z(...t){let e=Lt(t);return Le(t,e)}function yn(t,e){let r=B(t)?t:()=>t,n=i=>i.error(r());return new G(e?i=>e.schedule(n,0,i):n)}var _n=class t{constructor(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}observe(e){return bl(this,e)}do(e,r,n){let{kind:i,value:o,error:s}=this;return i==="N"?e?.(o):i==="E"?r?.(s):n?.()}accept(e,r,n){var i;return B((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)}toObservable(){let{kind:e,value:r,error:n}=this,i=e==="N"?z(r):e==="E"?yn(()=>n):e==="C"?je:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};_n.completeNotification=new _n("C");function bl(t,e){var r,n,i;let{kind:o,value:s,error:a}=t;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(r=e.next)===null||r===void 0||r.call(e,s):o==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(i=e.complete)===null||i===void 0||i.call(e)}function Ms(t){return!!t&&(t instanceof G||B(t.lift)&&B(t.subscribe))}var en=mn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function As(t){return t instanceof Date&&!isNaN(t)}var xw=mn(t=>function(r=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r});function El(t,e){let{first:r,each:n,with:i=Tw,scheduler:o=e??Jt,meta:s=null}=As(t)?{first:t}:typeof t=="number"?{each:t}:t;if(r==null&&n==null)throw new TypeError("No timeout provided.");return j((a,c)=>{let l,u,d=null,f=0,h=g=>{u=Ke(c,o,()=>{try{l.unsubscribe(),he(i({meta:s,lastValue:d,seen:f})).subscribe(c)}catch(_){c.error(_)}},g)};l=a.subscribe(F(c,g=>{u?.unsubscribe(),f++,c.next(d=g),n>0&&h(n)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),d=null})),!f&&h(r!=null?typeof r=="number"?r:+r-o.now():n)})}function Tw(t){throw new xw(t)}function y(t,e){return j((r,n)=>{let i=0;r.subscribe(F(n,o=>{n.next(t.call(e,o,i++))}))})}var{isArray:Mw}=Array;function Aw(t,e){return Mw(e)?t(...e):t(e)}function Rs(t){return y(e=>Aw(t,e))}var{isArray:Rw}=Array,{getPrototypeOf:Ow,prototype:Nw,keys:kw}=Object;function Sp(t){if(t.length===1){let e=t[0];if(Rw(e))return{args:e,keys:null};if(Pw(e)){let r=kw(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function Pw(t){return t&&typeof t=="object"&&Ow(t)===Nw}function xp(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function Ge(...t){let e=Lt(t),r=ys(t),{args:n,keys:i}=Sp(t);if(n.length===0)return Le([],e);let o=new G(Fw(n,e,i?s=>xp(i,s):Ue));return r?o.pipe(Rs(r)):o}function Fw(t,e,r=Ue){return n=>{Tp(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Tp(e,()=>{let l=Le(t[c],e),u=!1;l.subscribe(F(n,d=>{o[c]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function Tp(t,e,r){t?Ke(r,t,e):e()}function Mp(t,e,r,n,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=_=>l<n?g(_):c.push(_),g=_=>{o&&e.next(_),l++;let b=!1;he(r(_,u++)).subscribe(F(e,A=>{i?.(A),o?h(A):e.next(A)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<n;){let A=c.shift();s?Ke(e,s,()=>g(A)):g(A)}f()}catch(A){e.error(A)}}))};return t.subscribe(F(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ae(t,e,r=1/0){return B(e)?Ae((n,i)=>y((o,s)=>e(n,o,i,s))(he(t(n,i))),r):(typeof e=="number"&&(r=e),j((n,i)=>Mp(n,i,t,r)))}function ki(t=1/0){return Ae(Ue,t)}function Ap(){return ki(1)}function Er(...t){return Ap()(Le(t,Lt(t)))}function Pi(t){return new G(e=>{he(t()).subscribe(e)})}var Lw=["addListener","removeListener"],jw=["addEventListener","removeEventListener"],$w=["on","off"];function gt(t,e,r,n){if(B(r)&&(n=r,r=void 0),n)return gt(t,e,r).pipe(Rs(n));let[i,o]=Hw(t)?jw.map(s=>a=>t[s](e,a,r)):Vw(t)?Lw.map(Rp(t,e)):Bw(t)?$w.map(Rp(t,e)):[];if(!i&&br(t))return Ae(s=>gt(s,e,r))(he(t));if(!i)throw new TypeError("Invalid event target");return new G(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function Rp(t,e){return r=>n=>t[r](e,n)}function Vw(t){return B(t.addListener)&&B(t.removeListener)}function Bw(t){return B(t.on)&&B(t.off)}function Hw(t){return B(t.addEventListener)&&B(t.removeEventListener)}function Os(t=0,e,r=hp){let n=-1;return e!=null&&(vs(e)?r=e:n=e),new G(i=>{let o=As(t)?+t-r.now():t;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function Il(t=0,e=Jt){return t<0&&(t=0),Os(t,t,e)}function rt(...t){let e=Lt(t),r=pp(t,1/0),n=t;return n.length?n.length===1?he(n[0]):ki(r)(Le(n,e)):je}function ie(t,e){return j((r,n)=>{let i=0;r.subscribe(F(n,o=>t.call(e,o,i++)&&n.next(o)))})}function Op(t){return j((e,r)=>{let n=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let l=i;i=null,r.next(l)}s&&r.complete()},c=()=>{o=null,s&&r.complete()};e.subscribe(F(r,l=>{n=!0,i=l,o||he(t(l)).subscribe(o=F(r,a,c))},()=>{s=!0,(!n||!o||o.closed)&&r.complete()}))})}function Sl(t,e=Jt){return Op(()=>Os(t,e))}function vt(t){return j((e,r)=>{let n=null,i=!1,o;n=e.subscribe(F(r,void 0,void 0,s=>{o=he(t(s,vt(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Np(t,e,r,n,i){return(o,s)=>{let a=r,c=e,l=0;o.subscribe(F(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),n&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function tn(t,e){return B(e)?Ae(t,e,1):Ae(t,1)}function xl(t,e=Jt){return j((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,n.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),n.add(i);return}a()}r.subscribe(F(n,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function wn(t){return j((e,r)=>{let n=!1;e.subscribe(F(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Qe(t){return t<=0?()=>je:j((e,r)=>{let n=0;e.subscribe(F(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function Tl(){return j((t,e)=>{t.subscribe(F(e,Kt))})}function Ml(t){return y(()=>t)}function Al(){return j((t,e)=>{t.subscribe(F(e,r=>bl(r,e)))})}function Ns(t,e=Ue){return t=t??Uw,j((r,n)=>{let i,o=!0;r.subscribe(F(n,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}function Uw(t,e){return t===e}function ks(t=Gw){return j((e,r)=>{let n=!1;e.subscribe(F(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function Gw(){return new en}function Ps(t,e){return e?r=>r.pipe(Ps((n,i)=>he(t(n,i)).pipe(y((o,s)=>e(n,o,i,s))))):j((r,n)=>{let i=0,o=null,s=!1;r.subscribe(F(n,a=>{o||(o=F(n,void 0,()=>{o=null,s&&n.complete()}),he(t(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function Ir(t){return j((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function jt(t,e){let r=arguments.length>=2;return n=>n.pipe(t?ie((i,o)=>t(i,o,n)):Ue,Qe(1),r?wn(e):ks(()=>new en))}function Fs(t,e,r,n){return j((i,o)=>{let s;!e||typeof e=="function"?s=e:{duration:r,element:s,connector:n}=e;let a=new Map,c=g=>{a.forEach(g),g(o)},l=g=>c(_=>_.error(g)),u=0,d=!1,f=new Mi(o,g=>{try{let _=t(g),b=a.get(_);if(!b){a.set(_,b=n?n():new H);let A=h(_,b);if(o.next(A),r){let X=F(b,()=>{b.complete(),X?.unsubscribe()},void 0,void 0,()=>a.delete(_));f.add(he(r(A)).subscribe(X))}}b.next(s?s(g):g)}catch(_){l(_)}},()=>c(g=>g.complete()),l,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(f);function h(g,_){let b=new G(A=>{u++;let X=_.subscribe(A);return()=>{X.unsubscribe(),--u===0&&d&&f.unsubscribe()}});return b.key=g,b}})}function Sr(t){return t<=0?()=>je:j((e,r)=>{let n=[];e.subscribe(F(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function Rl(t,e){let r=arguments.length>=2;return n=>n.pipe(t?ie((i,o)=>t(i,o,n)):Ue,Sr(1),r?wn(e):ks(()=>new en))}function Ol(){return j((t,e)=>{t.subscribe(F(e,r=>{e.next(_n.createNext(r))},()=>{e.next(_n.createComplete()),e.complete()},r=>{e.next(_n.createError(r)),e.complete()}))})}function Nl(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return y(r=>{let n=r;for(let i=0;i<e;i++){let o=n?.[t[i]];if(typeof o<"u")n=o;else return}return n})}function Hn(t,e){return j(Np(t,e,arguments.length>=2,!0))}function Pl(t={}){let{connector:e=()=>new H,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},g=()=>{let _=s;h(),_?.unsubscribe()};return j((_,b)=>{l++,!d&&!u&&f();let A=c=c??e();b.add(()=>{l--,l===0&&!d&&!u&&(a=kl(g,i))}),A.subscribe(b),!s&&l>0&&(s=new Qt({next:X=>A.next(X),error:X=>{d=!0,f(),a=kl(h,r,X),A.error(X)},complete:()=>{u=!0,f(),a=kl(h,n),A.complete()}}),he(_).subscribe(s))})(o)}}function kl(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new Qt({next:()=>{n.unsubscribe(),t()}});return he(e(...r)).subscribe(n)}function Fl(t){return ie((e,r)=>t<=r)}function xr(...t){let e=Lt(t);return j((r,n)=>{(e?Er(t,r,e):Er(t,r)).subscribe(n)})}function ze(t,e){return j((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(F(n,c=>{i?.unsubscribe();let l=0,u=o++;he(t(c,u)).subscribe(i=F(n,d=>n.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $e(t){return j((e,r)=>{he(t).subscribe(F(r,()=>r.complete(),Kt)),!r.closed&&e.subscribe(r)})}function J(t,e,r){let n=B(t)||e||r?{next:t,error:e,complete:r}:t;return n?j((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(F(o,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),o.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):Ue}function ge(...t){let e=ys(t);return j((r,n)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)he(t[c]).subscribe(F(n,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Ue))&&(s=null))},Kt));r.subscribe(F(n,c=>{if(a){let l=[c,...o];n.next(e?e(...l):l)}}))})}var _m="https://g.co/ng/security#xss",W=class extends Error{constructor(e,r){super(Gu(e,r)),this.code=e}};function Gu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ki(t){return{toString:t}.toString()}var Ls="__parameters__";function Ww(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function qw(t,e,r){return Ki(()=>{let n=Ww(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Ls)?c[Ls]:Object.defineProperty(c,Ls,{value:[]})[Ls];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var nn=globalThis;function Te(t){for(let e in t)if(t[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function kp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Zw=Te({__forward_ref__:Te});function wm(t){return t.__forward_ref__=wm,t.toString=function(){return ot(this())},t}function et(t){return Cm(t)?t():t}function Cm(t){return typeof t=="function"&&t.hasOwnProperty(Zw)&&t.__forward_ref__===wm}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function _t(t){return{providers:t.providers||[],imports:t.imports||[]}}function ha(t){return Pp(t,bm)||Pp(t,Em)}function Dm(t){return ha(t)!==null}function Pp(t,e){return t.hasOwnProperty(e)?t[e]:null}function Yw(t){let e=t&&(t[bm]||t[Em]);return e||null}function Fp(t){return t&&(t.hasOwnProperty(Lp)||t.hasOwnProperty(Kw))?t[Lp]:null}var bm=Te({\u0275prov:Te}),Lp=Te({\u0275inj:Te}),Em=Te({ngInjectableDef:Te}),Kw=Te({ngInjectorDef:Te}),E=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=T({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Im(t){return t&&!!t.\u0275providers}var Qw=Te({\u0275cmp:Te}),Jw=Te({\u0275dir:Te}),Xw=Te({\u0275pipe:Te}),eC=Te({\u0275mod:Te}),qs=Te({\u0275fac:Te}),Fi=Te({__NG_ELEMENT_ID__:Te}),jp=Te({__NG_ENV_ID__:Te});function Rr(t){return typeof t=="string"?t:t==null?"":String(t)}function tC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Rr(t)}function nC(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function zu(t,e){throw new W(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),Xl;function Sm(){return Xl}function it(t){let e=Xl;return Xl=t,e}function xm(t,e,r){let n=ha(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&ce.Optional)return null;if(e!==void 0)return e;zu(t,"Injector")}var rC={},Li=rC,eu="__NG_DI_FLAG__",Zs="ngTempTokenPath",iC="ngTokenPath",oC=/\n/gm,sC="\u0275",$p="__source",Or;function aC(){return Or}function Cn(t){let e=Or;return Or=t,e}function cC(t,e=ce.Default){if(Or===void 0)throw new W(-203,!1);return Or===null?xm(t,void 0,e):Or.get(t,e&ce.Optional?null:void 0,e)}function D(t,e=ce.Default){return(Sm()||cC)(et(t),e)}function C(t,e=ce.Default){return D(t,pa(e))}function pa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function tu(t){let e=[];for(let r=0;r<t.length;r++){let n=et(t[r]);if(Array.isArray(n)){if(n.length===0)throw new W(900,!1);let i,o=ce.Default;for(let s=0;s<n.length;s++){let a=n[s],c=uC(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(D(i,o))}else e.push(D(n))}return e}function lC(t,e){return t[eu]=e,t.prototype[eu]=e,t}function uC(t){return t[eu]}function dC(t,e,r,n){let i=t[Zs];throw e[$p]&&i.unshift(e[$p]),t.message=fC(`
`+t.message,i,r,n),t[iC]=i,t[Zs]=null,t}function fC(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sC?t.slice(2):t;let i=ot(e);if(Array.isArray(e))i=e.map(ot).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):ot(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(oC,`
  `)}`}var Wu=lC(qw("Inject",t=>({token:t})),-1);function zn(t,e){let r=t.hasOwnProperty(qs);return r?t[qs]:null}function qu(t,e){t.forEach(r=>Array.isArray(r)?qu(r,e):e(r))}function Tm(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function Ys(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function hC(t,e){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function pC(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=r,t[e+1]=n}}function mC(t,e,r){let n=Qi(t,e);return n>=0?t[n|1]=r:(n=~n,pC(t,n,e,r)),n}function Ll(t,e){let r=Qi(t,e);if(r>=0)return t[r|1]}function Qi(t,e){return gC(t,e,1)}function gC(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}var ji={},Mt=[],Rt=new E(""),Mm=new E("",-1),Am=new E(""),Ks=class{get(e,r=Li){if(r===Li){let n=new Error(`NullInjectorError: No provider for ${ot(e)}!`);throw n.name="NullInjectorError",n}return r}},Rm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Rm||{}),Bt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Bt||{}),ke=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ke||{});function vC(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function nu(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{let o=i,s=r[++n];_C(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function yC(t){return t===3||t===4||t===6}function _C(t){return t.charCodeAt(0)===64}function Zu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?Vp(t,r,i,null,e[++n]):Vp(t,r,i,null,null))}}return t}function Vp(t,e,r,n,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[o+1]=i);return}else if(n===t[o+1]){t[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),n!==null&&t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var Om="ng-template";function wC(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&vC(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(Yu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function Yu(t){return t.type===4&&t.value!==Om}function CC(t,e,r){let n=t.type===4&&!r?Om:t.value;return e===n}function DC(t,e,r){let n=4,i=t.attrs,o=i!==null?IC(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!Tt(n)&&!Tt(c))return!1;if(s&&Tt(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!CC(t,c,r)||c===""&&e.length===1){if(Tt(n))return!1;s=!0}}else if(n&8){if(i===null||!wC(t,i,c,r)){if(Tt(n))return!1;s=!0}}else{let l=e[++a],u=bC(c,i,Yu(t),r);if(u===-1){if(Tt(n))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),n&2&&l!==d){if(Tt(n))return!1;s=!0}}}}return Tt(n)||s}function Tt(t){return(t&1)===0}function bC(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return SC(e,t)}function Nm(t,e,r=!1){for(let n=0;n<e.length;n++)if(DC(t,e[n],r))return!0;return!1}function EC(t){let e=t.attrs;if(e!=null){let r=e.indexOf(5);if(!(r&1))return e[r+1]}return null}function IC(t){for(let e=0;e<t.length;e++){let r=t[e];if(yC(r))return e}return t.length}function SC(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function xC(t,e){e:for(let r=0;r<e.length;r++){let n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function Bp(t,e){return t?":not("+e.trim()+")":e}function TC(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if(typeof s=="string")if(n&2){let a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!Tt(s)&&(e+=Bp(o,i),i=""),n=s,o=o||!Tt(n);r++}return i!==""&&(e+=Bp(o,i)),e}function MC(t){return t.map(TC).join(",")}function AC(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++n]):i===8&&r.push(o);else{if(!Tt(i))break;i=o}n++}return{attrs:e,classes:r}}function Y(t){return Ki(()=>{let e=jm(t),r=I(v({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Rm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Bt.Emulated,styles:t.styles||Mt,_:null,schemas:t.schemas||null,tView:null,id:""});$m(r);let n=t.dependencies;return r.directiveDefs=Up(n,!1),r.pipeDefs=Up(n,!0),r.id=NC(r),r})}function RC(t){return bn(t)||km(t)}function OC(t){return t!==null}function wt(t){return Ki(()=>({type:t.type,bootstrap:t.bootstrap||Mt,declarations:t.declarations||Mt,imports:t.imports||Mt,exports:t.exports||Mt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Hp(t,e){if(t==null)return ji;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],o,s,a=ke.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(r[o]=a!==ke.None?[n,a]:n,e[o]=s):r[o]=n}return r}function sn(t){return Ki(()=>{let e=jm(t);return $m(e),e})}function Ku(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function bn(t){return t[Qw]||null}function km(t){return t[Jw]||null}function Pm(t){return t[Xw]||null}function Fm(t){let e=bn(t)||km(t)||Pm(t);return e!==null?e.standalone:!1}function Lm(t,e){let r=t[eC]||null;if(!r&&e===!0)throw new Error(`Type ${ot(t)} does not have '\u0275mod' property.`);return r}function jm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ji,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Hp(t.inputs,e),outputs:Hp(t.outputs),debugInfo:null}}function $m(t){t.features?.forEach(e=>e(t))}function Up(t,e){if(!t)return null;let r=e?Pm:RC;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(OC)}function NC(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Nt(t){return{\u0275providers:t}}function kC(...t){return{\u0275providers:Vm(!0,t),\u0275fromNgModule:!0}}function Vm(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return qu(e,s=>{let a=s;ru(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&Bm(i,o),r}function Bm(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Qu(i,o=>{e(o,n)})}}function ru(t,e,r,n){if(t=et(t),!t)return!1;let i=null,o=Fp(t),s=!o&&bn(t);if(!o&&!s){let c=t.ngModule;if(o=Fp(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)ru(l,e,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let l;try{qu(o.imports,u=>{ru(u,e,r,n)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Bm(l,e)}if(!a){let l=zn(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:Am,useValue:i,multi:!0},i),e({provide:Rt,useValue:()=>D(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Qu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Qu(t,e){for(let r of t)Im(r)&&(r=r.\u0275providers),Array.isArray(r)?Qu(r,e):e(r)}var PC=Te({provide:String,useValue:Te});function Hm(t){return t!==null&&typeof t=="object"&&PC in t}function FC(t){return!!(t&&t.useExisting)}function LC(t){return!!(t&&t.useFactory)}function kr(t){return typeof t=="function"}function jC(t){return!!t.useClass}var ma=new E(""),Hs={},$C={},jl;function ga(){return jl===void 0&&(jl=new Ks),jl}var st=class{},$i=class extends st{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ou(e,s=>this.processProvider(s)),this.records.set(Mm,Tr(void 0,this)),i.has("environment")&&this.records.set(st,Tr(void 0,this));let o=this.records.get(ma);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Am,Mt,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=Cn(this),n=it(void 0),i;try{return e()}finally{Cn(r),it(n)}}get(e,r=Li,n=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jp))return e[jp](this);n=pa(n);let i,o=Cn(this),s=it(void 0);try{if(!(n&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=GC(e)&&ha(e);l&&this.injectableDefInScope(l)?c=Tr(iu(e),Hs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&ce.Self?ga():this.parent;return r=n&ce.Optional&&r===Li?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[Zs]=a[Zs]||[]).unshift(ot(e)),o)throw a;return dC(a,e,"R3InjectorError",this.source)}else throw a}finally{it(s),Cn(o)}}resolveInjectorInitializers(){let e=fe(null),r=Cn(this),n=it(void 0),i;try{let o=this.get(Rt,Mt,ce.Self);for(let s of o)s()}finally{Cn(r),it(n),fe(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(ot(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=et(e);let r=kr(e)?e:et(e&&e.provide),n=BC(e);if(!kr(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Tr(void 0,Hs,!0),i.factory=()=>tu(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=fe(null);try{return r.value===Hs&&(r.value=$C,r.value=r.factory()),typeof r.value=="object"&&r.value&&UC(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{fe(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=et(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function iu(t){let e=ha(t),r=e!==null?e.factory:zn(t);if(r!==null)return r;if(t instanceof E)throw new W(204,!1);if(t instanceof Function)return VC(t);throw new W(204,!1)}function VC(t){if(t.length>0)throw new W(204,!1);let r=Yw(t);return r!==null?()=>r.factory(t):()=>new t}function BC(t){if(Hm(t))return Tr(void 0,t.useValue);{let e=Um(t);return Tr(e,Hs)}}function Um(t,e,r){let n;if(kr(t)){let i=et(t);return zn(i)||iu(i)}else if(Hm(t))n=()=>et(t.useValue);else if(LC(t))n=()=>t.useFactory(...tu(t.deps||[]));else if(FC(t))n=()=>D(et(t.useExisting));else{let i=et(t&&(t.useClass||t.provide));if(HC(t))n=()=>new i(...tu(t.deps));else return zn(i)||iu(i)}return n}function Tr(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function HC(t){return!!t.deps}function UC(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GC(t){return typeof t=="function"||typeof t=="object"&&t instanceof E}function ou(t,e){for(let r of t)Array.isArray(r)?ou(r,e):r&&Im(r)?ou(r.\u0275providers,e):e(r)}function Jn(t,e){t instanceof $i&&t.assertNotDestroyed();let r,n=Cn(t),i=it(void 0);try{return e()}finally{Cn(n),it(i)}}function Gm(){return Sm()!==void 0||aC()!=null}function zm(t){if(!Gm())throw new W(-203,!1)}function zC(t){return typeof t=="function"}var an=0,oe=1,Z=2,Xe=3,At=4,dt=5,Pr=6,Vi=7,Je=8,Fr=9,Ot=10,We=11,Bi=12,Gp=13,Hr=14,yt=15,va=16,Mr=17,Lr=18,ya=19,Wm=20,Dn=21,$l=22,Wn=23,at=25,qm=1;var qn=7,Qs=8,Js=9,tt=10,Ju=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ju||{});function Un(t){return Array.isArray(t)&&typeof t[qm]=="object"}function cn(t){return Array.isArray(t)&&t[qm]===!0}function Zm(t){return(t.flags&4)!==0}function _a(t){return t.componentOffset>-1}function Xu(t){return(t.flags&1)===1}function Ur(t){return!!t.template}function WC(t){return(t[Z]&512)!==0}var su=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Ym(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Xn(){return Km}function Km(t){return t.type.prototype.ngOnChanges&&(t.setInput=ZC),qC}Xn.ngInherit=!0;function qC(){let t=Jm(this),e=t?.current;if(e){let r=t.previous;if(r===ji)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function ZC(t,e,r,n,i){let o=this.declaredInputs[n],s=Jm(t)||YC(t,{previous:ji,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new su(l&&l.currentValue,r,c===ji),Ym(t,e,i,r)}var Qm="__ngSimpleChanges__";function Jm(t){return t[Qm]||null}function YC(t,e){return t[Qm]=e}var zp=null;var $t=function(t,e,r){zp?.(t,e,r)},Xm="svg",KC="math",QC=!1;function JC(){return QC}function Ht(t){for(;Array.isArray(t);)t=t[an];return t}function eg(t,e){return Ht(e[t])}function kt(t,e){return Ht(e[t.index])}function ed(t,e){return t.data[e]}function XC(t,e){return t[e]}function In(t,e){let r=e[t];return Un(r)?r:r[an]}function td(t){return(t[Z]&128)===128}function eD(t){return cn(t[Xe])}function Xs(t,e){return e==null?null:t[e]}function tg(t){t[Mr]=0}function tD(t){t[Z]&1024||(t[Z]|=1024,td(t)&&Hi(t))}function nD(t,e){for(;t>0;)e=e[Hr],t--;return e}function nd(t){return!!(t[Z]&9216||t[Wn]?.dirty)}function au(t){t[Ot].changeDetectionScheduler?.notify(1),nd(t)?Hi(t):t[Z]&64&&(JC()?(t[Z]|=1024,Hi(t)):t[Ot].changeDetectionScheduler?.notify())}function Hi(t){t[Ot].changeDetectionScheduler?.notify();let e=Ui(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!td(e)));)e=Ui(e)}function ng(t,e){if((t[Z]&256)===256)throw new W(911,!1);t[Dn]===null&&(t[Dn]=[]),t[Dn].push(e)}function rD(t,e){if(t[Dn]===null)return;let r=t[Dn].indexOf(e);r!==-1&&t[Dn].splice(r,1)}function Ui(t){let e=t[Xe];return cn(e)?e[Xe]:e}var se={lFrame:fg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iD(){return se.lFrame.elementDepthCount}function oD(){se.lFrame.elementDepthCount++}function sD(){se.lFrame.elementDepthCount--}function rg(){return se.bindingsEnabled}function ig(){return se.skipHydrationRootTNode!==null}function aD(t){return se.skipHydrationRootTNode===t}function cD(){se.skipHydrationRootTNode=null}function xe(){return se.lFrame.lView}function Ct(){return se.lFrame.tView}function ve(t){return se.lFrame.contextLView=t,t[Je]}function ye(t){return se.lFrame.contextLView=null,t}function Pt(){let t=og();for(;t!==null&&t.type===64;)t=t.parent;return t}function og(){return se.lFrame.currentTNode}function lD(){let t=se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ji(t,e){let r=se.lFrame;r.currentTNode=t,r.isParent=e}function sg(){return se.lFrame.isParent}function ag(){se.lFrame.isParent=!1}function uD(){let t=se.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function dD(){return se.lFrame.bindingIndex}function fD(t){return se.lFrame.bindingIndex=t}function wa(){return se.lFrame.bindingIndex++}function cg(t){let e=se.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function hD(){return se.lFrame.inI18n}function pD(t,e){let r=se.lFrame;r.bindingIndex=r.bindingRootIndex=t,cu(e)}function mD(){return se.lFrame.currentDirectiveIndex}function cu(t){se.lFrame.currentDirectiveIndex=t}function gD(t){let e=se.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function lg(t){se.lFrame.currentQueryIndex=t}function vD(t){let e=t[oe];return e.type===2?e.declTNode:e.type===1?t[dt]:null}function ug(t,e,r){if(r&ce.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(r&ce.Host);)if(i=vD(o),i===null||(o=o[Hr],i.type&10))break;if(i===null)return!1;e=i,t=o}let n=se.lFrame=dg();return n.currentTNode=e,n.lView=t,!0}function rd(t){let e=dg(),r=t[oe];se.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function dg(){let t=se.lFrame,e=t===null?null:t.child;return e===null?fg(t):e}function fg(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hg(){let t=se.lFrame;return se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pg=hg;function id(){let t=hg();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function yD(t){return(se.lFrame.contextLView=nD(t,se.lFrame.contextLView))[Je]}function Sn(){return se.lFrame.selectedIndex}function Zn(t){se.lFrame.selectedIndex=t}function _D(){let t=se.lFrame;return ed(t.tView,t.selectedIndex)}function Ie(){se.lFrame.currentNamespace=Xm}function Pe(){wD()}function wD(){se.lFrame.currentNamespace=null}function CD(){return se.lFrame.currentNamespace}var mg=!0;function od(){return mg}function sd(t){mg=t}function DD(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){let s=Km(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}function ad(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),c&&(t.viewHooks??=[]).push(-r,c),l&&((t.viewHooks??=[]).push(r,l),(t.viewCheckHooks??=[]).push(r,l)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function Us(t,e,r){gg(t,e,3,r)}function Gs(t,e,r,n){(t[Z]&3)===r&&gg(t,e,r,n)}function Vl(t,e){let r=t[Z];(r&3)===e&&(r&=16383,r+=1,t[Z]=r)}function gg(t,e,r,n){let i=n!==void 0?t[Mr]&65535:0,o=n??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[Mr]+=65536),(a<o||o==-1)&&(bD(t,r,e,c),t[Mr]=(t[Mr]&4294901760)+c+2),c++}function Wp(t,e){$t(4,t,e);let r=fe(null);try{e.call(t)}finally{fe(r),$t(5,t,e)}}function bD(t,e,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=t[s];i?t[Z]>>14<t[Mr]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,Wp(a,o)):Wp(a,o)}var Nr=-1,Yn=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function ED(t){return t instanceof Yn}function ID(t){return(t.flags&8)!==0}function SD(t){return(t.flags&16)!==0}function vg(t){return t!==Nr}function ea(t){return t&32767}function xD(t){return t>>16}function ta(t,e){let r=xD(t),n=e;for(;r>0;)n=n[Hr],r--;return n}var lu=!0;function na(t){let e=lu;return lu=t,e}var TD=256,yg=TD-1,_g=5,MD=0,Vt={};function AD(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Fi)&&(n=r[Fi]),n==null&&(n=r[Fi]=MD++);let i=n&yg,o=1<<i;e.data[t+(i>>_g)]|=o}function ra(t,e){let r=wg(t,e);if(r!==-1)return r;let n=e[oe];n.firstCreatePass&&(t.injectorIndex=e.length,Bl(n.data,t),Bl(e,null),Bl(n.blueprint,null));let i=cd(t,e),o=t.injectorIndex;if(vg(i)){let s=ea(i),a=ta(i,e),c=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Bl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=Ig(i),n===null)return Nr;if(r++,i=i[Hr],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return Nr}function uu(t,e,r){AD(t,e,r)}function Cg(t,e,r){if(r&ce.Optional||t!==void 0)return t;zu(e,"NodeInjector")}function Dg(t,e,r,n){if(r&ce.Optional&&n===void 0&&(n=null),!(r&(ce.Self|ce.Host))){let i=t[Fr],o=it(void 0);try{return i?i.get(e,n,r&ce.Optional):xm(e,n,r&ce.Optional)}finally{it(o)}}return Cg(n,e,r)}function bg(t,e,r,n=ce.Default,i){if(t!==null){if(e[Z]&2048&&!(n&ce.Self)){let s=PD(t,e,r,n,Vt);if(s!==Vt)return s}let o=Eg(t,e,r,n,Vt);if(o!==Vt)return o}return Dg(e,r,n,i)}function Eg(t,e,r,n,i){let o=ND(r);if(typeof o=="function"){if(!ug(e,t,n))return n&ce.Host?Cg(i,r,n):Dg(e,r,n,i);try{let s;if(s=o(n),s==null&&!(n&ce.Optional))zu(r);else return s}finally{pg()}}else if(typeof o=="number"){let s=null,a=wg(t,e),c=Nr,l=n&ce.Host?e[yt][dt]:null;for((a===-1||n&ce.SkipSelf)&&(c=a===-1?cd(t,e):e[a+8],c===Nr||!Zp(n,!1)?a=-1:(s=e[oe],a=ea(c),e=ta(c,e)));a!==-1;){let u=e[oe];if(qp(o,a,u.data)){let d=RD(a,e,r,s,n,l);if(d!==Vt)return d}c=e[a+8],c!==Nr&&Zp(n,e[oe].data[a+8]===l)&&qp(o,a,e)?(s=u,a=ea(c),e=ta(c,e)):a=-1}}return i}function RD(t,e,r,n,i,o){let s=e[oe],a=s.data[t+8],c=n==null?_a(a)&&lu:n!=s&&(a.type&3)!==0,l=i&ce.Host&&o===a,u=OD(a,s,r,c,l);return u!==null?jr(e,s,u,a):Vt}function OD(t,e,r,n,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=n?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&r===g||h>=c&&g.type===r)return h}if(i){let h=s[c];if(h&&Ur(h)&&h.type===r)return c}return null}function jr(t,e,r,n){let i=t[r],o=e.data;if(ED(i)){let s=i;s.resolving&&nC(tC(o[r]));let a=na(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?it(s.injectImpl):null,u=ug(t,n,ce.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&DD(r,o[r],e)}finally{l!==null&&it(l),na(a),s.resolving=!1,pg()}}return i}function ND(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fi)?t[Fi]:void 0;return typeof e=="number"?e>=0?e&yg:kD:e}function qp(t,e,r){let n=1<<t;return!!(r[e+(t>>_g)]&n)}function Zp(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var Gn=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return bg(this._tNode,this._lView,e,pa(n),r)}};function kD(){return new Gn(Pt(),xe())}function er(t){return Ki(()=>{let e=t.prototype.constructor,r=e[qs]||du(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let o=i[qs]||du(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function du(t){return Cm(t)?()=>{let e=du(et(t));return e&&e()}:zn(t)}function PD(t,e,r,n,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Z]&2048&&!(s[Z]&512);){let a=Eg(o,s,r,n|ce.Self,Vt);if(a!==Vt)return a;let c=o.parent;if(!c){let l=s[Wm];if(l){let u=l.get(r,Vt,n);if(u!==Vt)return u}c=Ig(s),s=s[Hr]}o=c}return i}function Ig(t){let e=t[oe],r=e.type;return r===2?e.declTNode:r===1?t[dt]:null}function Yp(t,e=null,r=null,n){let i=Sg(t,e,r,n);return i.resolveInjectorInitializers(),i}function Sg(t,e=null,r=null,n,i=new Set){let o=[r||Mt,kC(t)];return n=n||(typeof t=="object"?void 0:ot(t)),new $i(o,e||ga(),n||null,i)}var Gr=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return Yp({name:""},i,n,"");{let o=n.name??"";return Yp({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Li,e.NULL=new Ks,e.\u0275prov=T({token:e,providedIn:"any",factory:()=>D(Mm)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var FD="ngOriginalError";function Hl(t){return t[FD]}var ut=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&Hl(e);for(;r&&Hl(r);)r=Hl(r);return r||null}},xg=new E("",{providedIn:"root",factory:()=>C(ut).handleError.bind(void 0)}),Xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LD,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),fu=class extends Xi{constructor(e){super(),this._lView=e}onDestroy(e){return ng(this._lView,e),()=>rD(this._lView,e)}};function LD(){return new fu(xe())}function jD(){return ld(Pt(),xe())}function ld(t,e){return new Ft(kt(t,e))}var Ft=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=jD;let t=e;return t})();var hu=class extends H{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Gm()&&(this.destroyRef=C(Xi,{optional:!0})??void 0)}emit(e){let r=fe(null);try{super.next(e)}finally{fe(r)}}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ul(o),i&&(i=Ul(i)),s&&(s=Ul(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof be&&e.add(a),a}};function Ul(t){return e=>{setTimeout(t,void 0,e)}}var we=hu;function Tg(t){return(t.flags&128)===128}var Mg=new Map,$D=0;function VD(){return $D++}function BD(t){Mg.set(t[ya],t)}function HD(t){Mg.delete(t[ya])}var Kp="__ngContext__";function Kn(t,e){Un(e)?(t[Kp]=e[ya],BD(e)):t[Kp]=e}function Ag(t){return Og(t[Bi])}function Rg(t){return Og(t[At])}function Og(t){for(;t!==null&&!cn(t);)t=t[At];return t}var pu;function Ng(t){pu=t}function kg(){if(pu!==void 0)return pu;if(typeof document<"u")return document;throw new W(210,!1)}var ud=new E("",{providedIn:"root",factory:()=>UD}),UD="ng",dd=new E(""),xn=new E("",{providedIn:"platform",factory:()=>"unknown"});var fd=new E("",{providedIn:"root",factory:()=>kg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var GD="h",zD="b";var WD=()=>null;function hd(t,e,r=!1){return WD(t,e,r)}var Pg=!1,qD=new E("",{providedIn:"root",factory:()=>Pg});var js;function ZD(){if(js===void 0&&(js=null,nn.trustedTypes))try{js=nn.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return js}function Ca(t){return ZD()?.createHTML(t)||t}var $s;function YD(){if($s===void 0&&($s=null,nn.trustedTypes))try{$s=nn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return $s}function Qp(t){return YD()?.createHTML(t)||t}var ia=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_m})`}};function Da(t){return t instanceof ia?t.changingThisBreaksApplicationSecurity:t}function Fg(t,e){let r=KD(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${_m})`)}return r===e}function KD(t){return t instanceof ia&&t.getTypeName()||null}function QD(t){let e=new gu(t);return JD()?new mu(e):e}var mu=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let r=new window.DOMParser().parseFromString(Ca(e),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(e):(r.removeChild(r.firstChild),r)}catch{return null}}},gu=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let r=this.inertDocument.createElement("template");return r.innerHTML=Ca(e),r}};function JD(){try{return!!new window.DOMParser().parseFromString(Ca(""),"text/html")}catch{return!1}}var XD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Lg(t){return t=String(t),t.match(XD)?t:"unsafe:"+t}function ln(t){let e={};for(let r of t.split(","))e[r]=!0;return e}function eo(...t){let e={};for(let r of t)for(let n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}var jg=ln("area,br,col,hr,img,wbr"),$g=ln("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Vg=ln("rp,rt"),eb=eo(Vg,$g),tb=eo($g,ln("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nb=eo(Vg,ln("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jp=eo(jg,tb,nb,eb),Bg=ln("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),rb=ln("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ib=ln("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),ob=eo(Bg,rb,ib),sb=ln("script,style,template"),vu=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0,i=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){i.push(r),r=lb(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=cb(r);if(o){r=o;break}r=i.pop()}}return this.buf.join("")}startElement(e){let r=Xp(e).toLowerCase();if(!Jp.hasOwnProperty(r))return this.sanitizedSomething=!0,!sb.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=e.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!ob.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Bg[a]&&(c=Lg(c)),this.buf.push(" ",s,'="',em(c),'"')}return this.buf.push(">"),!0}endElement(e){let r=Xp(e).toLowerCase();Jp.hasOwnProperty(r)&&!jg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(em(e))}};function ab(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function cb(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Hg(e);return e}function lb(t){let e=t.firstChild;if(e&&ab(t,e))throw Hg(e);return e}function Xp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Hg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var ub=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,db=/([^\#-~ |!])/g;function em(t){return t.replace(/&/g,"&amp;").replace(ub,function(e){let r=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(db,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Vs;function Ug(t,e){let r=null;try{Vs=Vs||QD(t);let n=e?String(e):"";r=Vs.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=Vs.getInertBodyElement(n)}while(n!==o);let a=new vu().sanitizeChildren(tm(r)||r);return Ca(a)}finally{if(r){let n=tm(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function tm(t){return"content"in t&&fb(t)?t.content:null}function fb(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var pd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(pd||{});function ba(t){let e=hb();return e?Qp(e.sanitize(pd.HTML,t)||""):Fg(t,"HTML")?Qp(Da(t)):Ug(kg(),Rr(t))}function hb(){let t=xe();return t&&t[Ot].sanitizer}function Gg(t){return t instanceof Function?t():t}var rn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(rn||{}),pb;function md(t,e){return pb(t,e)}function Ar(t,e,r,n,i){if(n!=null){let o,s=!1;cn(n)?o=n:Un(n)&&(s=!0,n=n[an]);let a=Ht(n);t===0&&r!==null?i==null?Yg(e,r,a):oa(e,r,a,i||null,!0):t===1&&r!==null?oa(e,r,a,i||null,!0):t===2?Mb(e,a,s):t===3&&e.destroyNode(a),o!=null&&Rb(e,t,o,r,i)}}function mb(t,e){return t.createText(e)}function gb(t,e,r){t.setValue(e,r)}function zg(t,e,r){return t.createElement(e,r)}function vb(t,e){Wg(t,e),e[an]=null,e[dt]=null}function yb(t,e,r,n,i,o){n[an]=i,n[dt]=e,Ia(t,n,r,1,i,o)}function Wg(t,e){e[Ot].changeDetectionScheduler?.notify(1),Ia(t,e,e[We],2,null,null)}function _b(t){let e=t[Bi];if(!e)return Gl(t[oe],t);for(;e;){let r=null;if(Un(e))r=e[Bi];else{let n=e[tt];n&&(r=n)}if(!r){for(;e&&!e[At]&&e!==t;)Un(e)&&Gl(e[oe],e),e=e[Xe];e===null&&(e=t),Un(e)&&Gl(e[oe],e),r=e&&e[At]}e=r}}function wb(t,e,r,n){let i=tt+n,o=r.length;n>0&&(r[i-1][At]=e),n<o-tt?(e[At]=r[i],Tm(r,tt+n,e)):(r.push(e),e[At]=null),e[Xe]=r;let s=e[va];s!==null&&r!==s&&Cb(s,e);let a=e[Lr];a!==null&&a.insertView(t),au(e),e[Z]|=128}function Cb(t,e){let r=t[Js],i=e[Xe][Xe][yt];e[yt]!==i&&(t[Z]|=Ju.HasTransplantedViews),r===null?t[Js]=[e]:r.push(e)}function qg(t,e){let r=t[Js],n=r.indexOf(e);r.splice(n,1)}function Gi(t,e){if(t.length<=tt)return;let r=tt+e,n=t[r];if(n){let i=n[va];i!==null&&i!==t&&qg(i,n),e>0&&(t[r-1][At]=n[At]);let o=Ys(t,tt+e);vb(n[oe],n);let s=o[Lr];s!==null&&s.detachView(o[oe]),n[Xe]=null,n[At]=null,n[Z]&=-129}return n}function Ea(t,e){if(!(e[Z]&256)){let r=e[We];r.destroyNode&&Ia(t,e,r,3,null,null),_b(e)}}function Gl(t,e){if(e[Z]&256)return;let r=fe(null);try{e[Z]&=-129,e[Z]|=256,e[Wn]&&Kh(e[Wn]),bb(t,e),Db(t,e),e[oe].type===1&&e[We].destroy();let n=e[va];if(n!==null&&cn(e[Xe])){n!==e[Xe]&&qg(n,e);let i=e[Lr];i!==null&&i.detachView(t)}HD(e)}finally{fe(r)}}function Db(t,e){let r=t.cleanup,n=e[Vi];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(e[Vi]=null);let i=e[Dn];if(i!==null){e[Dn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function bb(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof Yn)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];$t(4,a,c);try{c.call(a)}finally{$t(5,a,c)}}else{$t(4,i,o);try{o.call(i)}finally{$t(5,i,o)}}}}}function Zg(t,e,r){return Eb(t,e.parent,r)}function Eb(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[an];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=t.data[n.directiveStart+i];if(o===Bt.None||o===Bt.Emulated)return null}return kt(n,r)}}function oa(t,e,r,n,i){t.insertBefore(e,r,n,i)}function Yg(t,e,r){t.appendChild(e,r)}function nm(t,e,r,n,i){n!==null?oa(t,e,r,n,i):Yg(t,e,r)}function Ib(t,e,r,n){t.removeChild(e,r,n)}function gd(t,e){return t.parentNode(e)}function Sb(t,e){return t.nextSibling(e)}function Kg(t,e,r){return Tb(t,e,r)}function xb(t,e,r){return t.type&40?kt(t,r):null}var Tb=xb,rm;function vd(t,e,r,n){let i=Zg(t,n,e),o=e[We],s=n.parent||e[dt],a=Kg(s,n,e);if(i!=null)if(Array.isArray(r))for(let c=0;c<r.length;c++)nm(o,i,r[c],a,!1);else nm(o,i,r,a,!1);rm!==void 0&&rm(o,n,e,r,i)}function zs(t,e){if(e!==null){let r=e.type;if(r&3)return kt(e,t);if(r&4)return yu(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return zs(t,n);{let i=t[e.index];return cn(i)?yu(-1,i):Ht(i)}}else{if(r&32)return md(e,t)()||Ht(t[e.index]);{let n=Qg(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=Ui(t[yt]);return zs(i,n)}else return zs(t,e.next)}}}return null}function Qg(t,e){if(e!==null){let n=t[yt][dt],i=e.projection;return n.projection[i]}return null}function yu(t,e){let r=tt+t+1;if(r<e.length){let n=e[r],i=n[oe].firstChild;if(i!==null)return zs(n,i)}return e[qn]}function Mb(t,e,r){let n=gd(t,e);n&&Ib(t,n,e,r)}function yd(t,e,r,n,i,o,s){for(;r!=null;){let a=n[r.index],c=r.type;if(s&&e===0&&(a&&Kn(Ht(a),n),r.flags|=2),(r.flags&32)!==32)if(c&8)yd(t,e,r.child,n,i,o,!1),Ar(e,t,i,a,o);else if(c&32){let l=md(r,n),u;for(;u=l();)Ar(e,t,i,u,o);Ar(e,t,i,a,o)}else c&16?Jg(t,e,n,r,i,o):Ar(e,t,i,a,o);r=s?r.projectionNext:r.next}}function Ia(t,e,r,n,i,o){yd(r,n,t.firstChild,e,i,o,!1)}function Ab(t,e,r){let n=e[We],i=Zg(t,r,e),o=r.parent||e[dt],s=Kg(o,r,e);Jg(n,0,e,r,i,s)}function Jg(t,e,r,n,i,o){let s=r[yt],c=s[dt].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ar(e,t,i,u,o)}else{let l=c,u=s[Xe];Tg(n)&&(l.flags|=128),yd(t,e,l,u,i,o,!0)}}function Rb(t,e,r,n,i){let o=r[qn],s=Ht(r);o!==s&&Ar(e,t,n,o,i);for(let a=tt;a<r.length;a++){let c=r[a];Ia(c[oe],c,t,e,n,o)}}function Ob(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:rn.DashCase;i==null?t.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=rn.Important),t.setStyle(r,n,i,o))}}function Nb(t,e,r){t.setAttribute(e,"style",r)}function Xg(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function ev(t,e,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&nu(t,e,n),i!==null&&Xg(t,e,i),o!==null&&Nb(t,e,o)}var un={};function S(t=1){tv(Ct(),xe(),Sn()+t,!1)}function tv(t,e,r,n){if(!n)if((e[Z]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Us(e,o,r)}else{let o=t.preOrderHooks;o!==null&&Gs(e,o,0,r)}Zn(r)}function Q(t,e=ce.Default){let r=xe();if(r===null)return D(t,e);let n=Pt();return bg(n,r,et(t),e)}function nv(t,e,r,n,i,o){let s=fe(null);try{let a=null;i&ke.SignalBased&&(a=e[n][pn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ke.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,r,n):Ym(e,a,n,o)}finally{fe(s)}}function kb(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Zn(~i);else{let o=i,s=r[++n],a=r[++n];pD(s,o);let c=e[o];a(2,c)}}}finally{Zn(-1)}}function Sa(t,e,r,n,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[an]=i,d[Z]=n|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(d[Z]|=2048),tg(d),d[Xe]=d[Hr]=t,d[Je]=r,d[Ot]=s||t&&t[Ot],d[We]=a||t&&t[We],d[Fr]=c||t&&t[Fr]||null,d[dt]=o,d[ya]=VD(),d[Pr]=u,d[Wm]=l,d[yt]=e.type==2?t[yt]:d,d}function to(t,e,r,n,i){let o=t.data[e];if(o===null)o=Pb(t,e,r,n,i),hD()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=lD();o.injectorIndex=s===null?-1:s.injectorIndex}return Ji(o,!0),o}function Pb(t,e,r,n,i){let o=og(),s=sg(),a=s?o:o&&o.parent,c=t.data[e]=Vb(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function rv(t,e,r,n){if(r===0)return-1;let i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function iv(t,e,r,n,i){let o=Sn(),s=n&2;try{Zn(-1),s&&e.length>at&&tv(t,e,at,!1),$t(s?2:0,i),r(n,i)}finally{Zn(o),$t(s?3:1,i)}}function ov(t,e,r){if(Zm(e)){let n=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=r[s];a.contentQueries(1,c,s)}}}finally{fe(n)}}}function sv(t,e,r){rg()&&(qb(t,e,r,kt(r,e)),(r.flags&64)===64&&dv(t,e,r))}function av(t,e,r=kt){let n=e.localNames;if(n!==null){let i=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(e,t):t[s];t[i++]=a}}}function cv(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=_d(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function _d(t,e,r,n,i,o,s,a,c,l,u){let d=at+n,f=d+i,h=Fb(d,f),g=typeof l=="function"?l():l;return h[oe]={type:t,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Fb(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:un);return r}function Lb(t,e,r,n){let o=n.get(qD,Pg)||r===Bt.ShadowDom,s=t.selectRootElement(e,o);return jb(s),s}function jb(t){$b(t)}var $b=()=>null;function Vb(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return ig()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function im(t,e,r,n,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,c=ke.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?om(n,r,l,a,c):om(n,r,l,a)}return n}function om(t,e,r,n,i){let o;t.hasOwnProperty(r)?(o=t[r]).push(e,n):o=t[r]=[e,n],i!==void 0&&o.push(i)}function Bb(t,e,r){let n=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=n;u<i;u++){let d=o[u],f=r?r.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;c=im(0,d.inputs,u,c,h),l=im(1,d.outputs,u,l,g);let _=c!==null&&s!==null&&!Yu(e)?nE(c,u,s):null;a.push(_)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Hb(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Ub(t,e,r,n,i,o,s,a){let c=kt(e,r),l=e.inputs,u;!a&&l!=null&&(u=l[n])?(wd(t,r,u,n,i),_a(e)&&Gb(r,e.index)):e.type&3?(n=Hb(n),i=s!=null?s(i,e.value||"",n):i,o.setProperty(c,n,i)):e.type&12}function Gb(t,e){let r=In(e,t);r[Z]&16||(r[Z]|=64)}function lv(t,e,r,n){if(rg()){let i=n===null?null:{"":-1},o=Yb(t,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&uv(t,e,r,s,i,a),i&&Kb(r,n,i)}r.mergedAttrs=Zu(r.mergedAttrs,r.attrs)}function uv(t,e,r,n,i,o){for(let l=0;l<n.length;l++)uu(ra(r,e),t,n[l].type);Jb(r,t.data.length,n.length);for(let l=0;l<n.length;l++){let u=n[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=rv(t,e,n.length,null);for(let l=0;l<n.length;l++){let u=n[l];r.mergedAttrs=Zu(r.mergedAttrs,u.hostAttrs),Xb(t,r,e,c,u),Qb(c,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),c++}Bb(t,r,o)}function zb(t,e,r,n,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Wb(s)!=a&&s.push(a),s.push(r,n,o)}}function Wb(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function qb(t,e,r,n){let i=r.directiveStart,o=r.directiveEnd;_a(r)&&eE(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||ra(r,e),Kn(n,e);let s=r.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=jr(e,t,a,r);if(Kn(l,e),s!==null&&tE(e,a-i,l,c,r,s),Ur(c)){let u=In(r.index,e);u[Je]=jr(e,t,a,r)}}}function dv(t,e,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=mD();try{Zn(o);for(let a=n;a<i;a++){let c=t.data[a],l=e[a];cu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Zb(c,l)}}finally{Zn(-1),cu(s)}}function Zb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Yb(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(Nm(e,s.selectors,!1))if(n||(n=[]),Ur(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let c=a.length;_u(t,e,c)}else n.unshift(s),_u(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function _u(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function Kb(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=r[e[i+1]];if(o==null)throw new W(-301,!1);n.push(e[i],o)}}}function Qb(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Ur(e)&&(r[""]=t)}}function Jb(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function Xb(t,e,r,n,i){t.data[n]=i;let o=i.factory||(i.factory=zn(i.type,!0)),s=new Yn(o,Ur(i),Q);t.blueprint[n]=s,r[n]=s,zb(t,e,n,rv(t,r,i.hostVars,un),i)}function eE(t,e,r){let n=kt(e,t),i=cv(r),o=t[Ot].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=xa(t,Sa(t,i,null,s,n,e,null,o.createRenderer(n,r),null,null,null));t[e.index]=a}function tE(t,e,r,n,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];nv(n,r,c,l,u,d)}}function nE(t,e,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],r[i+1]);break}}i+=2}return n}function fv(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function hv(t,e){let r=t.contentQueries;if(r!==null){let n=fe(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=t.data[s];lg(o),a.contentQueries(2,e[s],s)}}}finally{fe(n)}}}function xa(t,e){return t[Bi]?t[Gp][At]=e:t[Bi]=e,t[Gp]=e,e}function wu(t,e,r){lg(0);let n=fe(null);try{e(t,r)}finally{fe(n)}}function rE(t){return t[Vi]||(t[Vi]=[])}function iE(t){return t.cleanup||(t.cleanup=[])}function pv(t,e){let r=t[Fr],n=r?r.get(ut,null):null;n&&n.handleError(e)}function wd(t,e,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],c=r[o++],l=e[s],u=t.data[s];nv(u,l,n,a,c,i)}}function mv(t,e,r){let n=eg(e,t);gb(t[We],n,r)}function oE(t,e){let r=In(e,t),n=r[oe];sE(n,r);let i=r[an];i!==null&&r[Pr]===null&&(r[Pr]=hd(i,r[Fr])),Cd(n,r,r[Je])}function sE(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function Cd(t,e,r){rd(e);try{let n=t.viewQuery;n!==null&&wu(1,n,r);let i=t.template;i!==null&&iv(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[Lr]?.finishViewCreation(t),t.staticContentQueries&&hv(t,e),t.staticViewQueries&&wu(2,t.viewQuery,r);let o=t.components;o!==null&&aE(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[Z]&=-5,id()}}function aE(t,e){for(let r=0;r<e.length;r++)oE(t,e[r])}function Dd(t,e,r,n){let i=fe(null);try{let o=e.tView,a=t[Z]&4096?4096:16,c=Sa(t,o,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=t[e.index];c[va]=l;let u=t[Lr];return u!==null&&(c[Lr]=u.createEmbeddedView(o)),Cd(o,c,r),c}finally{fe(i)}}function gv(t,e){let r=tt+e;if(r<t.length)return t[r]}function zi(t,e){return!e||e.firstChild===null||Tg(t)}function Ta(t,e,r,n=!0){let i=e[oe];if(wb(i,e,t,r),n){let s=yu(r,t),a=e[We],c=gd(a,t[qn]);c!==null&&yb(i,t[dt],a,e,c,s)}let o=e[Pr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vv(t,e){let r=Gi(t,e);return r!==void 0&&Ea(r[oe],r),r}function sa(t,e,r,n,i=!1){for(;r!==null;){let o=e[r.index];o!==null&&n.push(Ht(o)),cn(o)&&cE(o,n);let s=r.type;if(s&8)sa(t,e,r.child,n);else if(s&32){let a=md(r,e),c;for(;c=a();)n.push(c)}else if(s&16){let a=Qg(e,r);if(Array.isArray(a))n.push(...a);else{let c=Ui(e[yt]);sa(c[oe],c,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function cE(t,e){for(let r=tt;r<t.length;r++){let n=t[r],i=n[oe].firstChild;i!==null&&sa(n[oe],n,i,e)}t[qn]!==t[an]&&e.push(t[qn])}var yv=[];function lE(t){return t[Wn]??uE(t)}function uE(t){let e=yv.pop()??Object.create(fE);return e.lView=t,e}function dE(t){t.lView[Wn]!==t&&(t.lView=null,yv.push(t))}var fE=I(v({},is),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hi(t.lView)},consumerOnSignalRead(){this.lView[Wn]=this}}),_v=100;function wv(t,e=!0,r=0){let n=t[Ot],i=n.rendererFactory,o=!1;o||i.begin?.();try{hE(t,r)}catch(s){throw e&&pv(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function hE(t,e){Cu(t,e);let r=0;for(;nd(t);){if(r===_v)throw new W(103,!1);r++,Cu(t,1)}}function pE(t,e,r,n){let i=e[Z];if((i&256)===256)return;let o=!1;!o&&e[Ot].inlineEffectRunner?.flush(),rd(e);let s=null,a=null;!o&&mE(t)&&(a=lE(e),s=ul(a));try{tg(e),fD(t.bindingStartIndex),r!==null&&iv(t,e,r,2,n);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Us(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Gs(e,d,0,null),Vl(e,0)}if(gE(e),Cv(e,0),t.contentQueries!==null&&hv(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Us(e,d)}else{let d=t.contentHooks;d!==null&&Gs(e,d,1),Vl(e,1)}kb(t,e);let l=t.components;l!==null&&bv(e,l,0);let u=t.viewQuery;if(u!==null&&wu(2,u,n),!o)if(c){let d=t.viewCheckHooks;d!==null&&Us(e,d)}else{let d=t.viewHooks;d!==null&&Gs(e,d,2),Vl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[$l]){for(let d of e[$l])d();e[$l]=null}o||(e[Z]&=-73)}catch(c){throw Hi(e),c}finally{a!==null&&(dl(a,s),dE(a)),id()}}function mE(t){return t.type!==2}function Cv(t,e){for(let r=Ag(t);r!==null;r=Rg(r))for(let n=tt;n<r.length;n++){let i=r[n];Dv(i,e)}}function gE(t){for(let e=Ag(t);e!==null;e=Rg(e)){if(!(e[Z]&Ju.HasTransplantedViews))continue;let r=e[Js];for(let n=0;n<r.length;n++){let i=r[n],o=i[Xe];tD(i)}}}function vE(t,e,r){let n=In(e,t);Dv(n,r)}function Dv(t,e){td(t)&&Cu(t,e)}function Cu(t,e){let n=t[oe],i=t[Z],o=t[Wn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&fl(o)),o&&(o.dirty=!1),t[Z]&=-9217,s)pE(n,t,n.template,t[Je]);else if(i&8192){Cv(t,1);let a=n.components;a!==null&&bv(t,a,1)}}function bv(t,e,r){for(let n=0;n<e.length;n++)vE(t,e[n],r)}function bd(t){for(t[Ot].changeDetectionScheduler?.notify();t;){t[Z]|=64;let e=Ui(t);if(WC(t)&&!e)return t;t=e}return null}var $r=class{get rootNodes(){let e=this._lView,r=e[oe];return sa(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Je]}set context(e){this._lView[Je]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Xe];if(cn(e)){let r=e[Qs],n=r?r.indexOf(this):-1;n>-1&&(Gi(e,n),Ys(r,n))}this._attachedToViewContainer=!1}Ea(this._lView[oe],this._lView)}onDestroy(e){ng(this._lView,e)}markForCheck(){bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){au(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,wv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Wg(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e,au(this._lView)}};var tj=new RegExp(`^(\\d+)*(${zD}|${GD})*(.*)`);var yE=()=>null;function Wi(t,e){return yE(t,e)}var Du=class{},bu=class{},aa=class{};function _E(t){let e=Error(`No component factory found for ${ot(t)}.`);return e[wE]=t,e}var wE="ngComponent";var Eu=class{resolveComponentFactory(e){throw _E(e)}},Ma=(()=>{let e=class e{};e.NULL=new Eu;let t=e;return t})(),qi=class{},Aa=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>CE();let t=e;return t})();function CE(){let t=xe(),e=Pt(),r=In(e.index,t);return(Un(r)?r:t)[We]}var DE=(()=>{let e=class e{};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),zl={};var sm=new Set;function zr(t){sm.has(t)||(sm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function am(...t){}function bE(){let t=typeof nn.requestAnimationFrame=="function",e=nn[t?"requestAnimationFrame":"setTimeout"],r=nn[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var Ee=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=bE().nativeRequestAnimationFrame,SE(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,EE,am,am);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},EE={};function Ed(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function IE(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(nn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Iu(t),t.isCheckStableRunning=!0,Ed(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Iu(t))}function SE(t){let e=()=>{IE(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(xE(a))return r.invokeTask(i,o,s,a);try{return cm(t),r.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lm(t)}},onInvoke:(r,n,i,o,s,a,c)=>{try{return cm(t),r.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),lm(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Iu(t),Ed(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Iu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function cm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lm(t){t._nesting--,Ed(t)}function xE(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ev=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Su(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=kp(i,a);else if(o==2){let c=a,l=e[++s];n=kp(n,c+": "+l+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var ca=class extends Ma{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=bn(e);return new Vr(r,this.ngModule)}};function um(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function TE(t){let e=t.toLowerCase();return e==="svg"?Xm:e==="math"?KC:null}var xu=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=pa(n);let i=this.injector.get(e,zl,n);return i!==zl||r===zl?i:this.parentInjector.get(e,r,n)}},Vr=class extends aa{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=um(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return um(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=MC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof st?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new xu(e,s):e,c=a.get(qi,null);if(c===null)throw new W(407,!1);let l=a.get(DE,null),u=a.get(Ev,null),d=a.get(Du,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=n?Lb(h,n,this.componentDef.encapsulation,a):zg(h,g,TE(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let A=null;_!==null&&(A=hd(_,a,!0));let X=_d(0,null,null,1,0,null,null,null,null,null,null),de=Sa(null,X,null,b,null,null,f,h,a,null,A);rd(de);let U,ee;try{let q=this.componentDef,Oe,Ne=null;q.findHostDirectiveDefs?(Oe=[],Ne=new Map,q.findHostDirectiveDefs(q,Oe,Ne),Oe.push(q)):Oe=[q];let Ce=ME(de,_),Ye=AE(Ce,_,q,Oe,de,f,h);ee=ed(X,at),_&&NE(h,q,_,n),r!==void 0&&kE(ee,this.ngContentSelectors,r),U=OE(Ye,q,Oe,Ne,de,[PE]),Cd(X,de,null)}finally{id()}return new Tu(this.componentType,U,ld(ee,de),de,ee)}finally{fe(o)}}},Tu=class extends bu{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new $r(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let o=this._rootLView;wd(o[oe],o,i,e,r),this.previousInputValues.set(e,r);let s=In(this._tNode.index,o);bd(s)}}get injector(){return new Gn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ME(t,e){let r=t[oe],n=at;return t[n]=e,to(r,n,2,"#host",null)}function AE(t,e,r,n,i,o,s){let a=i[oe];RE(n,t,e,s);let c=null;e!==null&&(c=hd(e,i[Fr]));let l=o.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=Sa(i,cv(r),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&_u(a,t,n.length-1),xa(i,d),i[t.index]=d}function RE(t,e,r,n){for(let i of t)e.mergedAttrs=Zu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Su(e,e.mergedAttrs,!0),r!==null&&ev(n,r,e))}function OE(t,e,r,n,i,o){let s=Pt(),a=i[oe],c=kt(s,i);uv(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,f=jr(i,a,d,s);Kn(f,i)}dv(a,i,s),c&&Kn(c,i);let l=jr(i,a,s.directiveStart+s.componentOffset,s);if(t[Je]=i[Je]=l,o!==null)for(let u of o)u(l,e);return ov(a,s,i),l}function NE(t,e,r,n){if(n)nu(t,r,["ng-version","17.3.9"]);else{let{attrs:i,classes:o}=AC(e.selectors[0]);i&&nu(t,r,i),o&&o.length>0&&Xg(t,r,o.join(" "))}}function kE(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function PE(){let t=Pt();ad(xe()[oe],t)}var tr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FE;let t=e;return t})();function FE(){let t=Pt();return jE(t,xe())}var LE=tr,Iv=class extends LE{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return ld(this._hostTNode,this._hostLView)}get injector(){return new Gn(this._hostTNode,this._hostLView)}get parentInjector(){let e=cd(this._hostTNode,this._hostLView);if(vg(e)){let r=ta(e,this._hostLView),n=ea(e),i=r[oe].data[n+8];return new Gn(i,r)}else return new Gn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=dm(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-tt}createEmbeddedView(e,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=Wi(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,zi(this._hostTNode,s)),a}createComponent(e,r,n,i,o){let s=e&&!zC(e),a;if(s)a=r;else{let g=r||{};a=g.index,n=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new Vr(bn(e)),l=n||this.parentInjector;if(!o&&c.ngModule==null){let _=(s?l:this.parentInjector).get(st,null);_&&(o=_)}let u=bn(c.componentType??{}),d=Wi(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,zi(this._hostTNode,d)),h}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(eD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Xe],l=new Iv(c,c[dt],c[Xe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(r),s=this._lContainer;return Ta(s,i,o,n),e.attachToViewContainerRef(),Tm(Wl(s),o,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=dm(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=Gi(this._lContainer,r);n&&(Ys(Wl(this._lContainer),r),Ea(n[oe],n))}detach(e){let r=this._adjustIndex(e,-1),n=Gi(this._lContainer,r);return n&&Ys(Wl(this._lContainer),r)!=null?new $r(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function dm(t){return t[Qs]}function Wl(t){return t[Qs]||(t[Qs]=[])}function jE(t,e){let r,n=e[t.index];return cn(n)?r=n:(r=fv(n,e,null,t),e[t.index]=r,xa(e,r)),VE(r,e,t,n),new Iv(r,t,e)}function $E(t,e){let r=t[We],n=r.createComment(""),i=kt(e,t),o=gd(r,i);return oa(r,o,n,Sb(r,i),!1),n}var VE=UE,BE=()=>!1;function HE(t,e,r){return BE(t,e,r)}function UE(t,e,r,n){if(t[qn])return;let i;r.type&8?i=Ht(n):i=$E(e,r),t[qn]=i}function Id(t,e){zr("NgSignals");let r=rp(t),n=r[pn];return e?.equal&&(n.equal=e.equal),r.set=i=>hl(n,i),r.update=i=>ip(n,i),r.asReadonly=GE.bind(r),r}function GE(){let t=this[pn];if(t.readonlyFn===void 0){let e=()=>this();e[pn]=t,t.readonlyFn=e}return t.readonlyFn}function Wr(t){let e=t.inputConfig,r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];Array.isArray(i)&&i[3]&&(r[n]=i[3])}t.inputTransforms=r}var En=class{},Zi=class{};var Mu=class extends En{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ca(this);let i=Lm(e);this._bootstrapComponents=Gg(i.bootstrap),this._r3Injector=Sg(e,r,[{provide:En,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver},...n],ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Au=class extends Zi{constructor(e){super(),this.moduleType=e}create(e){return new Mu(this.moduleType,e,[])}};var la=class extends En{constructor(e){super(),this.componentFactoryResolver=new ca(this),this.instance=null;let r=new $i([...e.providers,{provide:En,useValue:this},{provide:Ma,useValue:this.componentFactoryResolver}],e.parent||ga(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sd(t,e,r=null){return new la({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var Ra=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zE(t,e,r){return t[e]=r}function on(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function WE(t,e,r,n){let i=on(t,e,r);return on(t,e+1,n)||i}function qE(t,e,r,n,i){let o=WE(t,e,r,n);return on(t,e+2,i)||o}function ZE(t){return(t.flags&32)===32}function YE(t,e,r,n,i,o,s,a,c){let l=e.consts,u=to(e,t,4,s||null,Xs(l,a));lv(e,r,u,Xs(l,c)),ad(e,u);let d=u.tView=_d(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function O(t,e,r,n,i,o,s,a){let c=xe(),l=Ct(),u=t+at,d=l.firstCreatePass?YE(u,l,c,e,r,n,i,o,s):l.data[u];Ji(d,!1);let f=KE(l,c,d,t);od()&&vd(l,c,f,d),Kn(f,c);let h=fv(f,c,f,d);return c[u]=h,xa(c,h),HE(h,d,c),Xu(d)&&sv(l,c,d),s!=null&&av(c,d,a),O}var KE=QE;function QE(t,e,r,n){return sd(!0),e[We].createComment("")}function JE(t,e,r,n){return on(t,wa(),r)?e+Rr(r)+n:un}function XE(t,e,r,n,i,o,s,a){let c=dD(),l=qE(t,c,r,i,s);return cg(3),l?e+Rr(r)+n+Rr(i)+o+Rr(s)+a:un}function Bs(t,e){return t<<17|e<<2}function Qn(t){return t>>17&32767}function eI(t){return(t&2)==2}function tI(t,e){return t&131071|e<<17}function Ru(t){return t|2}function Br(t){return(t&131068)>>2}function ql(t,e){return t&-131069|e<<2}function nI(t){return(t&1)===1}function Ou(t){return t|1}function rI(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=Qn(s),c=Br(s);t[n]=r;let l=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||Qi(d,u)>0)&&(l=!0)}else u=r;if(i)if(c!==0){let f=Qn(t[a+1]);t[n+1]=Bs(f,a),f!==0&&(t[f+1]=ql(t[f+1],n)),t[a+1]=tI(t[a+1],n)}else t[n+1]=Bs(a,0),a!==0&&(t[a+1]=ql(t[a+1],n)),a=n;else t[n+1]=Bs(c,0),a===0?a=n:t[c+1]=ql(t[c+1],n),c=n;l&&(t[n+1]=Ru(t[n+1])),fm(t,u,n,!0),fm(t,u,n,!1),iI(e,u,t,n,o),s=Bs(a,c),o?e.classBindings=s:e.styleBindings=s}function iI(t,e,r,n,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Qi(o,e)>=0&&(r[n+1]=Ou(r[n+1]))}function fm(t,e,r,n){let i=t[r+1],o=e===null,s=n?Qn(i):Br(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];oI(c,e)&&(a=!0,t[s+1]=n?Ou(l):Ru(l)),s=n?Qn(l):Br(l)}a&&(t[r+1]=n?Ru(i):Ou(i))}function oI(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Qi(t,e)>=0:!1}function te(t,e,r){let n=xe(),i=wa();if(on(n,i,e)){let o=Ct(),s=_D();Ub(o,s,n,t,e,n[We],r,!1)}return te}function hm(t,e,r,n,i){let o=e.inputs,s=i?"class":"style";wd(t,r,o[s],s,n)}function ft(t,e){return sI(t,e,null,!0),ft}function sI(t,e,r,n){let i=xe(),o=Ct(),s=cg(2);if(o.firstUpdatePass&&cI(o,t,s,n),e!==un&&on(i,s,e)){let a=o.data[Sn()];hI(o,a,i,i[We],t,i[s+1]=pI(e,r),n,s)}}function aI(t,e){return e>=t.expandoStartIndex}function cI(t,e,r,n){let i=t.data;if(i[r+1]===null){let o=i[Sn()],s=aI(t,r);mI(o,n)&&e===null&&!s&&(e=!1),e=lI(i,o,e,n),rI(i,o,e,r,s,n)}}function lI(t,e,r,n){let i=gD(t),o=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=Zl(null,t,e,r,n),r=Yi(r,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(r=Zl(i,t,e,r,n),o===null){let c=uI(t,e,n);c!==void 0&&Array.isArray(c)&&(c=Zl(null,t,e,c[1],n),c=Yi(c,e.attrs,n),dI(t,e,n,c))}else o=fI(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),r}function uI(t,e,r){let n=r?e.classBindings:e.styleBindings;if(Br(n)!==0)return t[Qn(n)]}function dI(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[Qn(i)]=n}function fI(t,e,r){let n,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;n=Yi(n,s,r)}return Yi(n,e.attrs,r)}function Zl(t,e,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=e[a],n=Yi(n,o.hostAttrs,i),o!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function Yi(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mC(t,s,r?!0:e[++o]))}return t===void 0?null:t}function hI(t,e,r,n,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=nI(l)?pm(c,e,r,i,Br(l),s):void 0;if(!ua(u)){ua(o)||eI(l)&&(o=pm(c,null,r,i,a,s));let d=eg(Sn(),r);Ob(n,s,d,i,o)}}function pm(t,e,r,n,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=r[i+1];f===un&&(f=d?Mt:void 0);let h=d?Ll(f,n):u===n?f:void 0;if(l&&!ua(h)&&(h=Ll(c,n)),ua(h)&&(a=h,s))return a;let g=t[i+1];i=s?Qn(g):Br(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ll(c,n))}return a}function ua(t){return t!==void 0}function pI(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ot(Da(t)))),t}function mI(t,e){return(t.flags&(e?8:16))!==0}var Nu=class{destroy(e){}updateValue(e,r){}swap(e,r){let n=Math.min(e,r),i=Math.max(e,r),o=this.detach(i);if(i-n>1){let s=this.detach(n);this.attach(n,o),this.attach(i,s)}else this.attach(n,o)}move(e,r){this.attach(r,this.detach(e))}};function Yl(t,e,r,n,i){return t===r&&Object.is(e,n)?1:Object.is(i(t,e),i(r,n))?-1:0}function gI(t,e,r){let n,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=t.at(o),l=e[o],u=Yl(o,c,o,l,r);if(u!==0){u<0&&t.updateValue(o,l),o++;continue}let d=t.at(s),f=e[a],h=Yl(s,d,a,f,r);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let g=r(o,c),_=r(s,d),b=r(o,l);if(Object.is(b,_)){let A=r(a,f);Object.is(A,g)?(t.swap(o,s),t.updateValue(s,f),a--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(n??=new da,i??=gm(t,o,s,r),ku(t,n,o,b))t.updateValue(o,l),o++,s++;else if(i.has(b))n.set(g,t.detach(o)),s--;else{let A=t.create(o,e[o]);t.attach(o,A),o++,s++}}for(;o<=a;)mm(t,n,r,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=t.at(o),u=c.value,d=Yl(o,l,o,u,r);if(d!==0)d<0&&t.updateValue(o,u),o++,c=a.next();else{n??=new da,i??=gm(t,o,s,r);let f=r(o,u);if(ku(t,n,o,f))t.updateValue(o,u),o++,s++,c=a.next();else if(!i.has(f))t.attach(o,t.create(o,u)),o++,s++,c=a.next();else{let h=r(o,l);n.set(h,t.detach(o)),s--}}}for(;!c.done;)mm(t,n,r,t.length,c.value),c=a.next()}for(;o<=s;)t.destroy(t.detach(s--));n?.forEach(a=>{t.destroy(a)})}function ku(t,e,r,n){return e!==void 0&&e.has(n)?(t.attach(r,e.get(n)),e.delete(n),!0):!1}function mm(t,e,r,n,i){if(ku(t,e,n,r(n,i)))t.updateValue(n,i);else{let o=t.create(n,i);t.attach(n,o)}}function gm(t,e,r,n){let i=new Set;for(let o=e;o<=r;o++)i.add(n(o,t.at(o)));return i}var da=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let r=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(r)?(this.kvMap.set(e,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,r){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(n);)n=i.get(n);i.set(n,r)}else this.kvMap.set(e,r)}forEach(e){for(let[r,n]of this.kvMap)if(e(n,r),this._vMap!==void 0){let i=this._vMap;for(;i.has(n);)n=i.get(n),e(n,r)}}};function P(t,e,r){zr("NgControlFlow");let n=xe(),i=wa(),o=ju(n,at+t),s=0;if(on(n,i,e)){let a=fe(null);try{if(vv(o,s),e!==-1){let c=$u(n[oe],at+e),l=Wi(o,c.tView.ssrId),u=Dd(n,c,r,{dehydratedView:l});Ta(o,u,s,zi(c,l))}}finally{fe(a)}}else{let a=gv(o,s);a!==void 0&&(a[Je]=r)}}var Pu=class{constructor(e,r,n){this.lContainer=e,this.$implicit=r,this.$index=n}get $count(){return this.lContainer.length-tt}};function Tn(t,e){return e}var Fu=class{constructor(e,r,n){this.hasEmptyBlock=e,this.trackByFn=r,this.liveCollection=n}};function Mn(t,e,r,n,i,o,s,a,c,l,u,d,f){zr("NgControlFlow");let h=c!==void 0,g=xe(),_=a?s.bind(g[yt][Je]):s,b=new Fu(h,_);g[at+t]=b,O(t+1,e,r,n,i,o),h&&O(t+2,c,l,u,d,f)}var Lu=class extends Nu{constructor(e,r,n){super(),this.lContainer=e,this.hostLView=r,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-tt}at(e){return this.getLView(e)[Je].$implicit}attach(e,r){let n=r[Pr];this.needsIndexUpdate||=e!==this.length,Ta(this.lContainer,r,e,zi(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,vI(this.lContainer,e)}create(e,r){let n=Wi(this.lContainer,this.templateTNode.tView.ssrId);return Dd(this.hostLView,this.templateTNode,new Pu(this.lContainer,r,e),{dehydratedView:n})}destroy(e){Ea(e[oe],e)}updateValue(e,r){this.getLView(e)[Je].$implicit=r}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Je].$index=e}getLView(e){return yI(this.lContainer,e)}};function An(t){let e=fe(null),r=Sn();try{let n=xe(),i=n[oe],o=n[r];if(o.liveCollection===void 0){let a=r+1,c=ju(n,a),l=$u(i,a);o.liveCollection=new Lu(c,n,l)}else o.liveCollection.reset();let s=o.liveCollection;if(gI(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=wa(),c=s.length===0;if(on(n,a,c)){let l=r+2,u=ju(n,l);if(c){let d=$u(i,l),f=Wi(u,d.tView.ssrId),h=Dd(n,d,void 0,{dehydratedView:f});Ta(u,h,0,zi(d,f))}else vv(u,0)}}}finally{fe(e)}}function ju(t,e){return t[e]}function vI(t,e){return Gi(t,e)}function yI(t,e){return gv(t,e)}function $u(t,e){return ed(t,e)}function _I(t,e,r,n,i,o){let s=e.consts,a=Xs(s,i),c=to(e,t,2,n,a);return lv(e,r,c,Xs(s,o)),c.attrs!==null&&Su(c,c.attrs,!1),c.mergedAttrs!==null&&Su(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function p(t,e,r,n){let i=xe(),o=Ct(),s=at+t,a=i[We],c=o.firstCreatePass?_I(s,o,i,e,r,n):o.data[s],l=wI(o,i,c,a,e,t);i[s]=l;let u=Xu(c);return Ji(c,!0),ev(a,l,c),!ZE(c)&&od()&&vd(o,i,l,c),iD()===0&&Kn(l,i),oD(),u&&(sv(o,i,c),ov(o,c,i)),n!==null&&av(i,c),p}function m(){let t=Pt();sg()?ag():(t=t.parent,Ji(t,!1));let e=t;aD(e)&&cD(),sD();let r=Ct();return r.firstCreatePass&&(ad(r,t),Zm(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&ID(e)&&hm(r,e,xe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SD(e)&&hm(r,e,xe(),e.stylesWithoutHost,!1),m}function R(t,e,r,n){return p(t,e,r,n),m(),R}var wI=(t,e,r,n,i,o)=>(sd(!0),zg(n,i,CD()));function De(){return xe()}var fa="en-US";var CI=fa;function DI(t){typeof t=="string"&&(CI=t.toLowerCase().replace(/_/g,"-"))}function L(t,e,r,n){let i=xe(),o=Ct(),s=Pt();return EI(o,i,i[We],s,t,e,n),L}function bI(t,e,r,n){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=e[Vi],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function EI(t,e,r,n,i,o,s){let a=Xu(n),l=t.firstCreatePass&&iE(t),u=e[Je],d=rE(e),f=!0;if(n.type&3||s){let _=kt(n,e),b=s?s(_):_,A=d.length,X=s?U=>s(Ht(U[n.index])):n.index,de=null;if(!s&&a&&(de=bI(t,e,i,n.index)),de!==null){let U=de.__ngLastListenerFn__||de;U.__ngNextListenerFn__=o,de.__ngLastListenerFn__=o,f=!1}else{o=ym(n,e,u,o,!1);let U=r.listen(b,i,o);d.push(o,U),l&&l.push(i,X,A,A+1)}}else o=ym(n,e,u,o,!1);let h=n.outputs,g;if(f&&h!==null&&(g=h[i])){let _=g.length;if(_)for(let b=0;b<_;b+=2){let A=g[b],X=g[b+1],ee=e[A][X].subscribe(o),q=d.length;d.push(o,ee),l&&l.push(i,n.index,q,-(q+1))}}}function vm(t,e,r,n){let i=fe(null);try{return $t(6,e,r),r(n)!==!1}catch(o){return pv(t,o),!1}finally{$t(7,e,r),fe(i)}}function ym(t,e,r,n,i){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?In(t.index,e):e;bd(a);let c=vm(e,r,n,s),l=o.__ngNextListenerFn__;for(;l;)c=vm(e,r,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function M(t=1){return yD(t)}function II(t,e){let r=null,n=EC(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){r=i;continue}if(n===null?Nm(t,o,!0):xC(n,o))return i}return r}function xd(t){let e=xe()[yt][dt];if(!e.projection){let r=t?t.length:1,n=e.projection=hC(r,null),i=n.slice(),o=e.child;for(;o!==null;){let s=t?II(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function Td(t,e=0,r){let n=xe(),i=Ct(),o=to(i,at+t,16,null,r||null);o.projection===null&&(o.projection=e),ag(),(!n[Pr]||ig())&&(o.flags&32)!==32&&Ab(i,n,o)}function SI(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function w(t,e=""){let r=xe(),n=Ct(),i=t+at,o=n.firstCreatePass?to(n,i,1,e,null):n.data[i],s=xI(n,r,o,e,t);r[i]=s,od()&&vd(n,r,s,o),Ji(o,!1)}var xI=(t,e,r,n,i)=>(sd(!0),mb(e[We],n));function ht(t){return Dt("",t,""),ht}function Dt(t,e,r){let n=xe(),i=JE(n,t,e,r);return i!==un&&mv(n,Sn(),i),Dt}function Md(t,e,r,n,i,o,s){let a=xe(),c=XE(a,t,e,r,n,i,o,s);return c!==un&&mv(a,Sn(),c),Md}function TI(t,e,r){let n=Ct();if(n.firstCreatePass){let i=Ur(t);Vu(r,n.data,n.blueprint,i,!0),Vu(e,n.data,n.blueprint,i,!1)}}function Vu(t,e,r,n,i){if(t=et(t),Array.isArray(t))for(let o=0;o<t.length;o++)Vu(t[o],e,r,n,i);else{let o=Ct(),s=xe(),a=Pt(),c=kr(t)?t:et(t.provide),l=Um(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(kr(t)||!t.multi){let h=new Yn(l,i,Q),g=Ql(c,e,i?u:u+f,d);g===-1?(uu(ra(a,s),o,c),Kl(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(h),s.push(h)):(r[g]=h,s[g]=h)}else{let h=Ql(c,e,u+f,d),g=Ql(c,e,u,u+f),_=h>=0&&r[h],b=g>=0&&r[g];if(i&&!b||!i&&!_){uu(ra(a,s),o,c);let A=RI(i?AI:MI,r.length,i,n,l);!i&&b&&(r[g].providerFactory=A),Kl(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(A),s.push(A)}else{let A=Sv(r[i?g:h],l,!i&&n);Kl(o,t,h>-1?h:g,A)}!i&&n&&b&&r[g].componentProviders++}}}function Kl(t,e,r,n){let i=kr(e),o=jC(e);if(i||o){let c=(o?et(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(r);u===-1?l.push(r,[n,c]):l[u+1].push(n,c)}else l.push(r,c)}}}function Sv(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Ql(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function MI(t,e,r,n){return Bu(this.multi,[])}function AI(t,e,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=jr(r,r[oe],this.providerFactory.index,n);o=a.slice(0,s),Bu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Bu(i,o);return o}function Bu(t,e){for(let r=0;r<t.length;r++){let n=t[r];e.push(n())}return e}function RI(t,e,r,n,i){let o=new Yn(t,r,Q);return o.multi=[],o.index=e,o.componentProviders=0,Sv(o,i,n&&!r),o}function no(t,e=[]){return r=>{r.providersResolver=(n,i)=>TI(n,i?i(t):t,e)}}var OI=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Vm(!1,n.type),o=i.length>0?Sd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(D(st))});let t=e;return t})();function K(t){zr("NgStandalone"),t.getStandaloneInjector=e=>e.get(OI).getOrCreateStandaloneInjector(t)}function NI(t,e){let r=t[e];return r===un?void 0:r}function kI(t,e,r,n,i,o){let s=e+r;return on(t,s,i)?zE(t,s+1,o?n.call(o,i):n(i)):NI(t,s+1)}function $(t,e){let r=Ct(),n,i=t+at;r.firstCreatePass?(n=PI(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=zn(n.type,!0)),s,a=it(Q);try{let c=na(!1),l=o();return na(c),SI(r,xe(),i,l),l}finally{it(a)}}function PI(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function V(t,e,r){let n=t+at,i=xe(),o=XC(i,n);return FI(i,n)?kI(i,uD(),e,o.transform,r,o):o.transform(r)}function FI(t,e){return t[oe].data[e].pure}var Oa=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var xv=new E("");function qr(t){return!!t&&typeof t.then=="function"}function Ad(t){return!!t&&typeof t.subscribe=="function"}var Tv=new E(""),Mv=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=C(Tv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(qr(s))n.push(s);else if(Ad(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rd=new E("");function LI(){np(()=>{throw new W(600,!1)})}function jI(t){return t.isBoundToModule}function $I(t,e,r){try{let n=r();return qr(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var nr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=C(xg),this.afterRenderEffectManager=C(Ev),this.externalTestViews=new Set,this.beforeRender=new H,this.afterTick=new H,this.componentTypes=[],this.components=[],this.isStable=C(Ra).hasPendingTasks.pipe(y(n=>!n)),this._injector=C(st)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof aa;if(!this._injector.get(Mv).done){let h=!o&&Fm(n),g=!1;throw new W(405,g)}let a;o?a=n:a=this._injector.get(Ma).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=jI(a)?void 0:this._injector.get(En),l=i||a.selector,u=a.create(Gr.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(xv,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Jl(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new W(101,!1);let i=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,fe(i)}}detectChangesInAttachedViews(n){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===_v)throw new W(103,!1);if(n){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)VI(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Hu(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Hu(s))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Jl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Rd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Jl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Jl(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function VI(t,e,r){!e&&!Hu(t)||BI(t,r,e)}function Hu(t){return nd(t)}function BI(t,e,r){let n;r?(n=0,t[Z]|=1024):t[Z]&64?n=0:n=1,wv(t,e,n)}var Uu=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Od=(()=>{let e=class e{compileModuleSync(n){return new Au(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=Lm(n),s=Gg(o.declarations).reduce((a,c)=>{let l=bn(c);return l&&a.push(new Vr(l)),a},[]);return new Uu(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var HI=(()=>{let e=class e{constructor(){this.zone=C(Ee),this.applicationRef=C(nr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UI(t){return[{provide:Ee,useFactory:t},{provide:Rt,multi:!0,useFactory:()=>{let e=C(HI,{optional:!0});return()=>e.initialize()}},{provide:Rt,multi:!0,useFactory:()=>{let e=C(qI);return()=>{e.initialize()}}},{provide:xg,useFactory:GI}]}function GI(){let t=C(Ee),e=C(ut);return r=>t.runOutsideAngular(()=>e.handleError(r))}function zI(t){let e=UI(()=>new Ee(WI(t)));return Nt([[],e])}function WI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var qI=(()=>{let e=class e{constructor(){this.subscription=new be,this.initialized=!1,this.zone=C(Ee),this.pendingTasks=C(Ra)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ZI(){return typeof $localize<"u"&&$localize.locale||fa}var Nd=new E("",{providedIn:"root",factory:()=>C(Nd,ce.Optional|ce.SkipSelf)||ZI()});var Av=new E("");var Ws=null;function YI(t=[],e){return Gr.create({name:e,providers:[{provide:ma,useValue:"platform"},{provide:Av,useValue:new Set([()=>Ws=null])},...t]})}function KI(t=[]){if(Ws)return Ws;let e=YI(t);return Ws=e,LI(),QI(e),e}function QI(t){t.get(dd,null)?.forEach(r=>r())}function Na(){return!1}var dn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JI;let t=e;return t})();function JI(t){return XI(Pt(),xe(),(t&16)===16)}function XI(t,e,r){if(_a(t)&&!r){let n=In(t.index,e);return new $r(n,n)}else if(t.type&47){let n=e[yt];return new $r(n,e)}return null}function Rv(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=KI(n),o=[zI(),...r||[]],a=new la({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(Ee);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(ut,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=i.get(Av);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),$I(l,c,()=>{let h=a.get(Mv);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Nd,fa);DI(g||fa);let _=a.get(nr);return e!==void 0&&_.bootstrap(e),_})})})}catch(e){return Promise.reject(e)}}function ro(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ka(t,e){zr("NgSignals");let r=Xh(t);return e?.equal&&(r[pn].equal=e.equal),r}function Pa(t){let e=fe(null);try{return t()}finally{fe(e)}}function Ov(t,e){let r=bn(t),n=e.elementInjector||ga();return new Vr(r).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}var jv=null;function Zr(){return jv}function $v(t){jv??=t}var Fa=class{};var Fe=new E(""),Vv=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>C(rS),providedIn:"platform"});let t=e;return t})();var rS=(()=>{let e=class e extends Vv{constructor(){super(),this._doc=C(Fe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zr().getBaseHref(this._doc)}onPopState(n){let i=Zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=Zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Bv(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function Nv(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function rr(t){return t&&t[0]!=="?"?"?"+t:t}var ja=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>C(Hv),providedIn:"root"});let t=e;return t})(),iS=new E(""),Hv=(()=>{let e=class e extends ja{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??C(Fe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Bv(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+rr(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+rr(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+rr(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(D(Vv),D(iS,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var io=(()=>{let e=class e{constructor(n){this._subject=new we,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=aS(Nv(kv(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+rr(i))}normalize(n){return e.stripTrailingSlash(sS(this._basePath,kv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+rr(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=rr,e.joinWithSlash=Bv,e.stripTrailingSlash=Nv,e.\u0275fac=function(i){return new(i||e)(D(ja))},e.\u0275prov=T({token:e,factory:()=>oS(),providedIn:"root"});let t=e;return t})();function oS(){return new io(D(ja))}function sS(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function kv(t){return t.replace(/\/index.html$/,"")}function aS(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}function Uv(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var kd=/\s+/,Pv=[],$a=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=Pv,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(kd):Pv}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(kd):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(kd).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Q(Ft),Q(Aa))},e.\u0275dir=sn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[ke.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();function cS(t,e){return new W(2100,!1)}var Pd=class{createSubscription(e,r){return Pa(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){Pa(()=>e.unsubscribe())}},Fd=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},lS=new Fd,uS=new Pd,bt=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(qr(n))return lS;if(Ad(n))return uS;throw cS(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Q(dn,16))},e.\u0275pipe=Ku({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Gv=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ku({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();var Ld="browser",dS="server";function zv(t){return t===Ld}function jd(t){return t===dS}var La=class{};var Bd=class extends Fa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hd=class t extends Bd{static makeCurrent(){$v(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=hS();return r==null?null:pS(r)}resetBaseElement(){oo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Uv(document.cookie,e)}},oo=null;function hS(){return oo=oo||document.querySelector("base"),oo?oo.getAttribute("href"):null}function pS(t){return new URL(t,document.baseURI).pathname}var mS=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Ud=new E(""),Yv=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(D(Ud),D(Ee))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Va=class{constructor(e){this._doc=e}},$d="ng-app-id",Kv=(()=>{let e=class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jd(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${$d}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute($d),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute($d,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(D(Fe),D(ud),D(fd,8),D(xn))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Vd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zd=/%COMP%/g,Qv="%COMP%",gS=`_nghost-${Qv}`,vS=`_ngcontent-${Qv}`,yS=!0,_S=new E("",{providedIn:"root",factory:()=>yS});function wS(t){return vS.replace(zd,t)}function CS(t){return gS.replace(zd,t)}function Jv(t,e){return e.map(r=>r.replace(zd,t))}var Wv=(()=>{let e=class e{constructor(n,i,o,s,a,c,l,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=jd(c),this.defaultRenderer=new so(n,a,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Bt.ShadowDom&&(i=I(v({},i),{encapsulation:Bt.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof Ba?o.applyToHost(n):o instanceof ao&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Bt.Emulated:s=new Ba(l,u,i,this.appId,d,a,c,f);break;case Bt.ShadowDom:return new Gd(l,u,n,i,a,c,this.nonce,f);default:s=new ao(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(D(Yv),D(Kv),D(ud),D(_S),D(Fe),D(xn),D(Ee),D(fd))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),so=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Vd[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(qv(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(qv(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new W(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=Vd[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Vd[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(rn.DashCase|rn.Important)?e.style.setProperty(r,n,i&rn.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&rn.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=Zr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function qv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gd=class extends so{constructor(e,r,n,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Jv(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ao=class extends so{constructor(e,r,n,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=c?Jv(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ba=class extends ao{constructor(e,r,n,i,o,s,a,c){let l=i+"-"+n.id;super(e,r,n,o,s,a,c,l),this.contentAttr=wS(l),this.hostAttr=CS(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},DS=(()=>{let e=class e extends Va{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(D(Fe))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Zv=["alt","control","meta","shift"],bS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ES={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},IS=(()=>{let e=class e extends Va{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zr().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Zv.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(n,i){let o=bS[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Zv.forEach(a=>{if(a!==o){let c=ES[a];c(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(D(Fe))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function Xv(t,e){return Rv(v({rootComponent:t},SS(e)))}function SS(t){return{appProviders:[...RS,...t?.providers??[]],platformProviders:AS}}function xS(){Hd.makeCurrent()}function TS(){return new ut}function MS(){return Ng(document),document}var AS=[{provide:xn,useValue:Ld},{provide:dd,useValue:xS,multi:!0},{provide:Fe,useFactory:MS,deps:[]}];var RS=[{provide:ma,useValue:"root"},{provide:ut,useFactory:TS,deps:[]},{provide:Ud,useClass:DS,multi:!0,deps:[Fe,Ee,xn]},{provide:Ud,useClass:IS,multi:!0,deps:[Fe]},Wv,Kv,Yv,{provide:qi,useExisting:Wv},{provide:La,useClass:mS,deps:[]},[]];var e0=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(D(Fe))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ne="primary",bo=Symbol("RouteTitle"),Kd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Xr(t){return new Kd(t)}function PS(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function FS(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Ut(t[r],e[r]))return!1;return!0}function Ut(t,e){let r=t?Qd(t):void 0,n=e?Qd(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!a0(t[i],e[i]))return!1;return!0}function Qd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function a0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function c0(t){return t.length>0?t[t.length-1]:null}function Nn(t){return Ms(t)?t:qr(t)?Le(Promise.resolve(t)):z(t)}var LS={exact:u0,subset:d0},l0={exact:jS,subset:$S,ignored:()=>!0};function t0(t,e,r){return LS[r.paths](t.root,e.root,r.matrixParams)&&l0[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function jS(t,e){return Ut(t,e)}function u0(t,e,r){if(!or(t.segments,e.segments)||!Ga(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!u0(t.children[n],e.children[n],r))return!1;return!0}function $S(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>a0(t[r],e[r]))}function d0(t,e,r){return f0(t,e,e.segments,r)}function f0(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!or(i,r)||e.hasChildren()||!Ga(i,r,n))}else if(t.segments.length===r.length){if(!or(t.segments,r)||!Ga(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!d0(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!or(t.segments,i)||!Ga(t.segments,i,n)||!t.children[ne]?!1:f0(t.children[ne],e,o,n)}}function Ga(t,e,r){return e.every((n,i)=>l0[r](t[i].parameters,n.parameters))}var Rn=class{constructor(e=new Se([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){return HS.serialize(this)}},Se=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return za(this)}},ir=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Xr(this.parameters),this._parameterMap}toString(){return p0(this)}};function VS(t,e){return or(t,e)&&t.every((r,n)=>Ut(r.parameters,e[n].parameters))}function or(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function BS(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===ne&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==ne&&(r=r.concat(e(i,n)))}),r}var Ef=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new qa,providedIn:"root"});let t=e;return t})(),qa=class{parse(e){let r=new Xd(e);return new Rn(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${co(e.root,!0)}`,n=zS(e.queryParams),i=typeof e.fragment=="string"?`#${US(e.fragment)}`:"";return`${r}${n}${i}`}},HS=new qa;function za(t){return t.segments.map(e=>p0(e)).join("/")}function co(t,e){if(!t.hasChildren())return za(t);if(e){let r=t.children[ne]?co(t.children[ne],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ne&&n.push(`${i}:${co(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=BS(t,(n,i)=>i===ne?[co(t.children[ne],!1)]:[`${i}:${co(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[ne]!=null?`${za(t)}/${r[0]}`:`${za(t)}/(${r.join("//")})`}}function h0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ha(t){return h0(t).replace(/%3B/gi,";")}function US(t){return encodeURI(t)}function Jd(t){return h0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wa(t){return decodeURIComponent(t)}function n0(t){return Wa(t.replace(/\+/g,"%20"))}function p0(t){return`${Jd(t.path)}${GS(t.parameters)}`}function GS(t){return Object.entries(t).map(([e,r])=>`;${Jd(e)}=${Jd(r)}`).join("")}function zS(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Ha(r)}=${Ha(i)}`).join("&"):`${Ha(r)}=${Ha(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var WS=/^[^\/()?;#]+/;function Wd(t){let e=t.match(WS);return e?e[0]:""}var qS=/^[^\/()?;=#]+/;function ZS(t){let e=t.match(qS);return e?e[0]:""}var YS=/^[^=?&#]+/;function KS(t){let e=t.match(YS);return e?e[0]:""}var QS=/^[^&#]+/;function JS(t){let e=t.match(QS);return e?e[0]:""}var Xd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[ne]=new Se(e,r)),n}parseSegment(){let e=Wd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new ir(Wa(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=ZS(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=Wd(this.remaining);i&&(n=i,this.capture(n))}e[Wa(r)]=Wa(n)}parseQueryParam(e){let r=KS(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=JS(this.remaining);s&&(n=s,this.capture(n))}let i=n0(r),o=n0(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Wd(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[ne]:new Se([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function m0(t){return t.segments.length>0?new Se([],{[ne]:t}):t}function g0(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=g0(i);if(n===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new Se(t.segments,e);return XS(r)}function XS(t){if(t.numberOfChildren===1&&t.children[ne]){let e=t.children[ne];return new Se(t.segments.concat(e.segments),e.children)}return t}function ei(t){return t instanceof Rn}function e1(t,e,r=null,n=null){let i=v0(t);return y0(i,e,r,n)}function v0(t){let e;function r(o){let s={};for(let c of o.children){let l=r(c);s[c.outlet]=l}let a=new Se(o.url,s);return o===t&&(e=a),a}let n=r(t.root),i=m0(n);return e??i}function y0(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return qd(i,i,i,r,n);let o=t1(e);if(o.toRoot())return qd(i,i,new Se([],{}),r,n);let s=n1(o,i,t),a=s.processChildren?fo(s.segmentGroup,s.index,o.commands):w0(s.segmentGroup,s.index,o.commands);return qd(i,s.segmentGroup,a,r,n)}function Za(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function mo(t){return typeof t=="object"&&t!=null&&t.outlets}function qd(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=r:s=_0(t,e,r);let a=m0(g0(s));return new Rn(a,o,i)}function _0(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=_0(o,e,r)}),new Se(t.segments,n)}var Ya=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&Za(n[0]))throw new W(4003,!1);let i=n.find(mo);if(i&&i!==c0(n))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function t1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ya(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ya(r,e,n)}var Qr=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function n1(t,e,r){if(t.isAbsolute)return new Qr(e,!0,0);if(!r)return new Qr(e,!1,NaN);if(r.parent===null)return new Qr(r,!0,0);let n=Za(t.commands[0])?0:1,i=r.segments.length-1+n;return r1(r,i,t.numberOfDoubleDots)}function r1(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new W(4005,!1);i=n.segments.length}return new Qr(n,!1,i-o)}function i1(t){return mo(t[0])?t[0].outlets:{[ne]:t}}function w0(t,e,r){if(t??=new Se([],{}),t.segments.length===0&&t.hasChildren())return fo(t,e,r);let n=o1(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Se(t.segments.slice(0,n.pathIndex),{});return o.children[ne]=new Se(t.segments.slice(n.pathIndex),t.children),fo(o,0,i)}else return n.match&&i.length===0?new Se(t.segments,{}):n.match&&!t.hasChildren()?ef(t,e,r):n.match?fo(t,0,i):ef(t,e,r)}function fo(t,e,r){if(r.length===0)return new Se(t.segments,{});{let n=i1(r),i={};if(Object.keys(n).some(o=>o!==ne)&&t.children[ne]&&t.numberOfChildren===1&&t.children[ne].segments.length===0){let o=fo(t.children[ne],e,r);return new Se(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=w0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Se(t.segments,i)}}function o1(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let s=t.segments[i],a=r[n];if(mo(a))break;let c=`${a}`,l=n<r.length-1?r[n+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!i0(c,l,s))return o;n+=2}else{if(!i0(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function ef(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(mo(o)){let c=s1(o.outlets);return new Se(n,c)}if(i===0&&Za(r[0])){let c=t.segments[e];n.push(new ir(c.path,r0(r[0]))),i++;continue}let s=mo(o)?o.outlets[ne]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&Za(a)?(n.push(new ir(s,r0(a))),i+=2):(n.push(new ir(s,{})),i++)}return new Se(n,{})}function s1(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=ef(new Se([],{}),0,n))}),e}function r0(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function i0(t,e,r){return t==r.path&&Ut(e,r.parameters)}var ho="imperative",qe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(qe||{}),Et=class{constructor(e,r){this.id=e,this.url=r}},go=class extends Et{constructor(e,r,n="imperative",i=null){super(e,r),this.type=qe.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends Et{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(mt||{}),tf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(tf||{}),On=class extends Et{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ar=class extends Et{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=qe.NavigationSkipped}},vo=class extends Et{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ka=class extends Et{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class extends Et{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class extends Et{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},of=class extends Et{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class extends Et{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cf=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lf=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uf=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},df=class{constructor(e){this.snapshot=e,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{constructor(e){this.snapshot=e,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var yo=class{},_o=class{constructor(e){this.url=e}};var hf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new nc,this.attachRef=null}},nc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new hf,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qa=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=pf(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=pf(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=mf(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mf(e,this._root).map(r=>r.value)}};function pf(t,e){if(t===e.value)return e;for(let r of e.children){let n=pf(t,r);if(n)return n}return null}function mf(t,e){if(t===e.value)return[e];for(let r of e.children){let n=mf(t,r);if(n.length)return n.unshift(e),n}return[]}var pt=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function Kr(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var Ja=class extends Qa{constructor(e,r){super(e),this.snapshot=r,Sf(this,e)}toString(){return this.snapshot.toString()}};function C0(t){let e=a1(t),r=new Me([new ir("",{})]),n=new Me({}),i=new Me({}),o=new Me({}),s=new Me(""),a=new ti(r,n,o,s,i,ne,t,e.root);return a.snapshot=e.root,new Ja(new pt(a,[]),e)}function a1(t){let e={},r={},n={},i="",o=new wo([],e,n,i,r,ne,t,null,{});return new Xa("",new pt(o,[]))}var ti=class{constructor(e,r,n,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(y(l=>l[bo]))??z(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(y(e=>Xr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(y(e=>Xr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function If(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:v(v({},e.params),t.params),data:v(v({},e.data),t.data),resolve:v(v(v(v({},t.data),e.data),i?.data),t._resolvedData)}:n={params:v({},t.params),data:v({},t.data),resolve:v(v({},t.data),t._resolvedData??{})},i&&b0(i)&&(n.resolve[bo]=i.title),n}var wo=class{get title(){return this.data?.[bo]}constructor(e,r,n,i,o,s,a,c,l){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Xa=class extends Qa{constructor(e,r){super(r),this.url=e,Sf(this,r)}toString(){return D0(this._root)}};function Sf(t,e){e.value._routerState=t,e.children.forEach(r=>Sf(t,r))}function D0(t){let e=t.children.length>0?` { ${t.children.map(D0).join(", ")} } `:"";return`${t.value}${e}`}function Zd(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Ut(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Ut(e.params,r.params)||t.paramsSubject.next(r.params),FS(e.url,r.url)||t.urlSubject.next(r.url),Ut(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function gf(t,e){let r=Ut(t.params,e.params)&&VS(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||gf(t.parent,e.parent))}function b0(t){return typeof t.title=="string"||t.title===null}var xf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.parentContexts=C(nc),this.location=C(tr),this.changeDetector=C(dn),this.environmentInjector=C(st),this.inputBinder=C(Tf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new vf(n,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=sn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]});let t=e;return t})(),vf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===ti?this.route:e===nc?this.childContexts:this.parent.get(e,r)}},Tf=new E("");function c1(t,e,r){let n=Co(t,e._root,r?r._root:void 0);return new Ja(n,e)}function Co(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=l1(t,e,r);return new pt(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Co(t,a)),s}}let n=u1(e.value),i=e.children.map(o=>Co(t,o));return new pt(n,i)}}function l1(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return Co(t,n,i);return Co(t,n)})}function u1(t){return new ti(new Me(t.url),new Me(t.params),new Me(t.queryParams),new Me(t.fragment),new Me(t.data),t.outlet,t.component,t)}var E0="ngNavigationCancelingError";function I0(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=ei(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=S0(!1,mt.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function S0(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[E0]=!0,r.cancellationCode=e,r}function d1(t){return x0(t)&&ei(t.url)}function x0(t){return!!t&&t[E0]}var f1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["ng-component"]],standalone:!0,features:[K],decls:1,vars:0,template:function(i,o){i&1&&R(0,"router-outlet")},dependencies:[xf],encapsulation:2});let t=e;return t})();function h1(t,e){return t.providers&&!t._injector&&(t._injector=Sd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mf(t){let e=t.children&&t.children.map(Mf),r=e?I(v({},t),{children:e}):v({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==ne&&(r.component=f1),r}function Gt(t){return t.outlet||ne}function p1(t,e){let r=t.filter(n=>Gt(n)===e);return r.push(...t.filter(n=>Gt(n)!==e)),r}function Eo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var m1=(t,e,r,n)=>y(i=>(new yf(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),yf=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Zd(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=Kr(r);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=Kr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=Kr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=Kr(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new ff(o.value.snapshot))}),e.children.length&&this.forwardEvent(new uf(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Zd(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Zd(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Eo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},ec=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Jr=class{constructor(e,r){this.component=e,this.route=r}};function g1(t,e,r){let n=t._root,i=e?e._root:null;return lo(n,i,r,[n.value])}function v1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ri(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!Dm(t)?t:e.get(t):n}function lo(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kr(e);return t.children.forEach(s=>{y1(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>po(a,r.getContext(s),i)),i}function y1(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ec(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?lo(t,e,a?a.children:null,n,i):lo(t,e,r,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Jr(a.outlet.component,s))}else s&&po(e,a,i),i.canActivateChecks.push(new ec(n)),o.component?lo(t,null,a?a.children:null,n,i):lo(t,null,r,n,i);return i}function _1(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!or(t.url,e.url);case"pathParamsOrQueryParamsChange":return!or(t.url,e.url)||!Ut(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gf(t,e)||!Ut(t.queryParams,e.queryParams);case"paramsChange":default:return!gf(t,e)}}function po(t,e,r){let n=Kr(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?e?po(s,e.children.getContext(o),r):po(s,null,r):po(s,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Jr(e.outlet.component,i)):r.canDeactivateChecks.push(new Jr(null,i)):r.canDeactivateChecks.push(new Jr(null,i))}function Io(t){return typeof t=="function"}function w1(t){return typeof t=="boolean"}function C1(t){return t&&Io(t.canLoad)}function D1(t){return t&&Io(t.canActivate)}function b1(t){return t&&Io(t.canActivateChild)}function E1(t){return t&&Io(t.canDeactivate)}function I1(t){return t&&Io(t.canMatch)}function T0(t){return t instanceof en||t?.name==="EmptyError"}var Ua=Symbol("INITIAL_VALUE");function ni(){return ze(t=>Ge(t.map(e=>e.pipe(Qe(1),xr(Ua)))).pipe(y(e=>{for(let r of e)if(r!==!0){if(r===Ua)return Ua;if(r===!1||r instanceof Rn)return r}return!0}),ie(e=>e!==Ua),Qe(1)))}function S1(t,e){return Ae(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?z(I(v({},r),{guardsResult:!0})):x1(s,n,i,t).pipe(Ae(a=>a&&w1(a)?T1(n,o,t,e):z(a)),y(a=>I(v({},r),{guardsResult:a})))})}function x1(t,e,r,n){return Le(t).pipe(Ae(i=>N1(i.component,i.route,r,e,n)),jt(i=>i!==!0,!0))}function T1(t,e,r,n){return Le(e).pipe(tn(i=>Er(A1(i.route.parent,n),M1(i.route,n),O1(t,i.path,r),R1(t,i.route,r))),jt(i=>i!==!0,!0))}function M1(t,e){return t!==null&&e&&e(new df(t)),z(!0)}function A1(t,e){return t!==null&&e&&e(new lf(t)),z(!0)}function R1(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return z(!0);let i=n.map(o=>Pi(()=>{let s=Eo(e)??r,a=ri(o,s),c=D1(a)?a.canActivate(e,t):Jn(s,()=>a(e,t));return Nn(c).pipe(jt())}));return z(i).pipe(ni())}function O1(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>v1(s)).filter(s=>s!==null).map(s=>Pi(()=>{let a=s.guards.map(c=>{let l=Eo(s.node)??r,u=ri(c,l),d=b1(u)?u.canActivateChild(n,t):Jn(l,()=>u(n,t));return Nn(d).pipe(jt())});return z(a).pipe(ni())}));return z(o).pipe(ni())}function N1(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let c=Eo(e)??i,l=ri(a,c),u=E1(l)?l.canDeactivate(t,e,r,n):Jn(c,()=>l(t,e,r,n));return Nn(u).pipe(jt())});return z(s).pipe(ni())}function k1(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=ri(s,t),c=C1(a)?a.canLoad(e,r):Jn(t,()=>a(e,r));return Nn(c)});return z(o).pipe(ni(),M0(n))}function M0(t){return _l(J(e=>{if(ei(e))throw I0(t,e)}),y(e=>e===!0))}function P1(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=ri(s,t),c=I1(a)?a.canMatch(e,r):Jn(t,()=>a(e,r));return Nn(c)});return z(o).pipe(ni(),M0(n))}var Do=class{constructor(e){this.segmentGroup=e||null}},tc=class extends Error{constructor(e){super(),this.urlTree=e}};function Yr(t){return yn(new Do(t))}function F1(t){return yn(new W(4e3,!1))}function L1(t){return yn(S0(!1,mt.GuardRejected))}var _f=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return z(n);if(i.numberOfChildren>1||!i.children[ne])return F1(e.redirectTo);i=i.children[ne]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new tc(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new Rn(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,n,i)}),new Se(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},wf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j1(t,e,r,n,i){let o=Af(t,e,r);return o.matched?(n=h1(e,n),P1(n,e,r,i).pipe(y(s=>s===!0?o:v({},wf)))):z(o)}function Af(t,e,r){if(e.path==="**")return $1(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?v({},wf):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PS)(r,t,e);if(!i)return v({},wf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?v(v({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $1(t){return{matched:!0,parameters:t.length>0?c0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function o0(t,e,r,n){return r.length>0&&H1(t,r,n)?{segmentGroup:new Se(e,B1(n,new Se(r,t.children))),slicedSegments:[]}:r.length===0&&U1(t,r,n)?{segmentGroup:new Se(t.segments,V1(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Se(t.segments,t.children),slicedSegments:r}}function V1(t,e,r,n){let i={};for(let o of r)if(rc(t,e,o)&&!n[Gt(o)]){let s=new Se([],{});i[Gt(o)]=s}return v(v({},n),i)}function B1(t,e){let r={};r[ne]=e;for(let n of t)if(n.path===""&&Gt(n)!==ne){let i=new Se([],{});r[Gt(n)]=i}return r}function H1(t,e,r){return r.some(n=>rc(t,e,n)&&Gt(n)!==ne)}function U1(t,e,r){return r.some(n=>rc(t,e,n))}function rc(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function G1(t,e,r,n){return Gt(t)!==n&&(n===ne||!rc(e,r,t))?!1:Af(e,t,r).matched}function z1(t,e,r){return e.length===0&&!t.children[r]}var Cf=class{};function W1(t,e,r,n,i,o,s="emptyOnly"){return new Df(t,e,r,n,i,s,o).recognize()}var q1=31,Df=class{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _f(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=o0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(y(r=>{let n=new wo([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,{},ne,this.rootComponentType,null,{}),i=new pt(n,r),o=new Xa("",i),s=e1(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,ne).pipe(vt(n=>{if(n instanceof tc)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Do?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=If(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(y(o=>o instanceof pt?[o]:[]))}processChildren(e,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return Le(i).pipe(tn(o=>{let s=n.children[o],a=p1(r,o);return this.processSegmentGroup(e,a,s,o)}),Hn((o,s)=>(o.push(...s),o)),wn(null),Rl(),Ae(o=>{if(o===null)return Yr(n);let s=A0(o);return Z1(s),z(s)}))}processSegment(e,r,n,i,o,s){return Le(r).pipe(tn(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,o,s).pipe(vt(c=>{if(c instanceof Do)return z(null);throw c}))),jt(a=>!!a),vt(a=>{if(T0(a))return z1(n,i,o)?z(new Cf):Yr(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,o,s,a){return G1(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s):Yr(i):Yr(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Af(r,i,o);if(!a)return Yr(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>q1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ae(f=>this.processSegment(e,n,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,r,n,i,o){let s=j1(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),s.pipe(ze(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(ze(({routes:c})=>{let l=n._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new wo(u,f,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,K1(n),Gt(n),n.component??n._loadedComponent??null,n,Q1(n)),{segmentGroup:g,slicedSegments:_}=o0(r,u,d,c);if(_.length===0&&g.hasChildren())return this.processChildren(l,c,g).pipe(y(A=>A===null?null:new pt(h,A)));if(c.length===0&&_.length===0)return z(new pt(h,[]));let b=Gt(n)===o;return this.processSegment(l,c,g,_,b?ne:o,!0).pipe(y(A=>new pt(h,A instanceof pt?[A]:[])))}))):Yr(r)))}getChildConfig(e,r,n){return r.children?z({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?z({routes:r._loadedRoutes,injector:r._loadedInjector}):k1(e,r,n,this.urlSerializer).pipe(Ae(i=>i?this.configLoader.loadChildren(e,r).pipe(J(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):L1(r))):z({routes:[],injector:e})}};function Z1(t){t.sort((e,r)=>e.value.outlet===ne?-1:r.value.outlet===ne?1:e.value.outlet.localeCompare(r.value.outlet))}function Y1(t){let e=t.value.routeConfig;return e&&e.path===""}function A0(t){let e=[],r=new Set;for(let n of t){if(!Y1(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=A0(n.children);e.push(new pt(n.value,i))}return e.filter(n=>!r.has(n))}function K1(t){return t.data||{}}function Q1(t){return t.resolve||{}}function J1(t,e,r,n,i,o){return Ae(s=>W1(t,e,r,n,s.extractedUrl,i,o).pipe(y(({state:a,tree:c})=>I(v({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function X1(t,e){return Ae(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return z(r);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of R0(c))s.add(l);let a=0;return Le(s).pipe(tn(c=>o.has(c)?ex(c,n,t,e):(c.data=If(c,c.parent,t).resolve,z(void 0))),J(()=>a++),Sr(1),Ae(c=>a===s.size?z(r):je))})}function R0(t){let e=t.children.map(r=>R0(r)).flat();return[t,...e]}function ex(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!b0(i)&&(o[bo]=i.title),tx(o,t,e,n).pipe(y(s=>(t._resolvedData=s,t.data=If(t,t.parent,r).resolve,null)))}function tx(t,e,r,n){let i=Qd(t);if(i.length===0)return z({});let o={};return Le(i).pipe(Ae(s=>nx(t[s],e,r,n).pipe(jt(),J(a=>{o[s]=a}))),Sr(1),Ml(o),vt(s=>T0(s)?je:yn(s)))}function nx(t,e,r,n){let i=Eo(e)??n,o=ri(t,i),s=o.resolve?o.resolve(e,r):Jn(i,()=>o(e,r));return Nn(s)}function Yd(t){return ze(e=>{let r=t(e);return r?Le(r).pipe(y(()=>e)):z(e)})}var O0=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===ne);return i}getResolvedTitleForRoute(n){return n.data[bo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>C(rx),providedIn:"root"});let t=e;return t})(),rx=(()=>{let e=class e extends O0{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(D(e0))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rf=new E("",{providedIn:"root",factory:()=>({})}),Of=new E(""),ix=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=C(Od)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Nn(n.loadComponent()).pipe(y(N0),J(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Ir(()=>{this.componentLoaders.delete(n)})),o=new wr(i,()=>new H).pipe(_r());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ox(i,this.compiler,n,this.onLoadEndListener).pipe(Ir(()=>{this.childrenLoaders.delete(i)})),a=new wr(s,()=>new H).pipe(_r());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ox(t,e,r,n){return Nn(t.loadChildren()).pipe(y(N0),Ae(i=>i instanceof Zi||Array.isArray(i)?z(i):Le(e.compileModuleAsync(i))),y(i=>{n&&n(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(Of,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mf),injector:o}}))}function sx(t){return t&&typeof t=="object"&&"default"in t}function N0(t){return sx(t)?t.default:t}var Nf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>C(ax),providedIn:"root"});let t=e;return t})(),ax=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cx=new E("");var lx=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new H,this.transitionAbortSubject=new H,this.configLoader=C(ix),this.environmentInjector=C(st),this.urlSerializer=C(Ef),this.rootContexts=C(nc),this.location=C(io),this.inputBindingEnabled=C(Tf,{optional:!0})!==null,this.titleStrategy=C(O0),this.options=C(Rf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=C(Nf),this.createViewTransition=C(cx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null;let n=o=>this.events.next(new af(o)),i=o=>this.events.next(new cf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(I(v(v({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new Me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ho,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ie(s=>s.id!==0),y(s=>I(v({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ze(s=>{let a=!1,c=!1;return z(s).pipe(ze(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",mt.SupersededByNewNavigation),je;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?I(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new ar(l.id,this.urlSerializer.serialize(l.rawUrl),f,tf.IgnoredSameUrlNavigation)),l.resolve(null),je}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return z(l).pipe(ze(f=>{let h=this.transitions?.getValue();return this.events.next(new go(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?je:Promise.resolve(f)}),J1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),J(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=I(v({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Ka(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:_,extras:b}=l,A=new go(f,this.urlSerializer.serialize(h),g,_);this.events.next(A);let X=C0(this.rootComponentType).snapshot;return this.currentTransition=s=I(v({},l),{targetSnapshot:X,urlAfterRedirects:h,extras:I(v({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,z(s)}else{let f="";return this.events.next(new ar(l.id,this.urlSerializer.serialize(l.extractedUrl),f,tf.IgnoredByUrlHandlingStrategy)),l.resolve(null),je}}),J(l=>{let u=new nf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),y(l=>(this.currentTransition=s=I(v({},l),{guards:g1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),S1(this.environmentInjector,l=>this.events.next(l)),J(l=>{if(s.guardsResult=l.guardsResult,ei(l.guardsResult))throw I0(this.urlSerializer,l.guardsResult);let u=new rf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ie(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",mt.GuardRejected),!1)),Yd(l=>{if(l.guards.canActivateChecks.length)return z(l).pipe(J(u=>{let d=new of(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ze(u=>{let d=!1;return z(u).pipe(X1(this.paramsInheritanceStrategy,this.environmentInjector),J({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",mt.NoDataFromResolver)}}))}),J(u=>{let d=new sf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Yd(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(J(h=>{d.component=h}),y(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Ge(u(l.targetSnapshot.root)).pipe(wn(null),Qe(1))}),Yd(()=>this.afterPreactivation()),ze(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Le(d).pipe(y(()=>s)):z(s)}),y(l=>{let u=c1(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=I(v({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),J(()=>{this.events.next(new yo)}),m1(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qe(1),J({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),$e(this.transitionAbortSubject.pipe(J(l=>{throw l}))),Ir(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",mt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),vt(l=>{if(c=!0,x0(l))this.events.next(new On(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),d1(l)?this.events.next(new _o(l.url)):s.resolve(!1);else{this.events.next(new vo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return je}))}))}cancelNavigationTransition(n,i,o){let s=new On(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ux(t){return t!==ho}var dx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>C(fx),providedIn:"root"});let t=e;return t})(),bf=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},fx=(()=>{let e=class e extends bf{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=er(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),k0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>C(hx),providedIn:"root"});let t=e;return t})(),hx=(()=>{let e=class e extends k0{constructor(){super(...arguments),this.location=C(io),this.urlSerializer=C(Ef),this.options=C(Rf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=C(Nf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Rn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=C0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof go)this.stateMemento=this.createStateMemento();else if(n instanceof ar)this.rawUrlTree=i.initialUrl;else if(n instanceof Ka){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof yo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof On&&(n.code===mt.GuardRejected||n.code===mt.NoDataFromResolver)?this.restoreHistory(i):n instanceof vo?this.restoreHistory(i,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=v(v({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=v(v({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=er(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(uo||{});function px(t,e){t.events.pipe(ie(r=>r instanceof sr||r instanceof On||r instanceof vo||r instanceof ar),y(r=>r instanceof sr||r instanceof ar?uo.COMPLETE:(r instanceof On?r.code===mt.Redirect||r.code===mt.SupersededByNewNavigation:!1)?uo.REDIRECTING:uo.FAILED),ie(r=>r!==uo.REDIRECTING),Qe(1)).subscribe(()=>{e()})}function mx(t){throw t}var gx={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},P0=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=C(Oa),this.stateManager=C(k0),this.options=C(Rf,{optional:!0})||{},this.pendingTasks=C(Ra),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=C(lx),this.urlSerializer=C(Ef),this.location=C(io),this.urlHandlingStrategy=C(Nf),this._events=new H,this.errorHandler=this.options.errorHandler||mx,this.navigated=!1,this.routeReuseStrategy=C(dx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=C(Of,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!C(Tf,{optional:!0}),this.eventsSubscription=new be,this.isNgZoneEnabled=C(Ee)instanceof Ee&&Ee.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof On&&i.code!==mt.Redirect&&i.code!==mt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof sr)this.navigated=!0;else if(i instanceof _o){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||ux(o.source)};this.scheduleNavigation(a,ho,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}_x(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=v({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Mf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=v(v({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=v0(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return y0(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=ei(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ho,null,i)}navigate(n,i={skipLocationChange:!1}){return yx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=v({},gx):i===!1?o=v({},vx):o=i,ei(n))return t0(this.currentUrlTree,n,o);let s=this.parseUrl(n);return t0(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return px(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function _x(t){return!(t instanceof yo)&&!(t instanceof _o)}var wx=new E("");function F0(t,...e){return Nt([{provide:Of,multi:!0,useValue:t},[],{provide:ti,useFactory:Cx,deps:[P0]},{provide:Rd,multi:!0,useFactory:Dx},e.map(r=>r.\u0275providers)])}function Cx(t){return t.routerState.root}function Dx(){let t=C(Gr);return e=>{let r=t.get(nr);if(e!==r.components[0])return;let n=t.get(P0),i=t.get(bx);t.get(Ex)===1&&n.initialNavigation(),t.get(Ix,null,ce.Optional)?.setUpPreloading(),t.get(wx,null,ce.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var bx=new E("",{factory:()=>new H}),Ex=new E("",{providedIn:"root",factory:()=>1});var Ix=new E("");function So(t,e){let r=!e?.manualCleanup;r&&!e?.injector&&zm(So);let n=r?e?.injector?.get(Xi)??C(Xi):null,i;e?.requireSync?i=Id({kind:0}):i=Id({kind:1,value:e?.initialValue});let o=t.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(e?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),ka(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new W(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var Lf={};function N(t,e){if(Lf[t]=(Lf[t]||0)+1,typeof e=="function")return kf(t,(...n)=>I(v({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return kf(t,()=>({type:t}));case"props":return kf(t,n=>I(v({},n),{type:t}));default:throw new Error("Unexpected config.")}}function me(){return{_as:"props",_p:void 0}}function kf(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var Mo="@ngrx/store/init",zt=(()=>{let e=class e extends Me{constructor(){super({type:Mo})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Sx=[zt],J0=new E("@ngrx/store Internal Root Guard"),L0=new E("@ngrx/store Internal Initial State"),Ao=new E("@ngrx/store Initial State"),X0=new E("@ngrx/store Reducer Factory"),j0=new E("@ngrx/store Internal Reducer Factory Provider"),ey=new E("@ngrx/store Initial Reducers"),Pf=new E("@ngrx/store Internal Initial Reducers"),$0=new E("@ngrx/store Store Features"),V0=new E("@ngrx/store Internal Store Reducers"),Ff=new E("@ngrx/store Internal Feature Reducers"),B0=new E("@ngrx/store Internal Feature Configs"),ty=new E("@ngrx/store Internal Store Features"),H0=new E("@ngrx/store Internal Feature Reducers Token"),ny=new E("@ngrx/store Feature Reducers"),U0=new E("@ngrx/store User Provided Meta Reducers"),ic=new E("@ngrx/store Meta Reducers"),G0=new E("@ngrx/store Internal Resolved Meta Reducers"),z0=new E("@ngrx/store User Runtime Checks Config"),W0=new E("@ngrx/store Internal User Runtime Checks Config"),xo=new E("@ngrx/store Internal Runtime Checks"),Bf=new E("@ngrx/store Check if Action types are unique"),To=new E("@ngrx/store Root Store Provider"),oc=new E("@ngrx/store Feature State Provider");function Hf(t,e={}){let r=Object.keys(t),n={};for(let o=0;o<r.length;o++){let s=r[o];typeof t[s]=="function"&&(n[s]=t[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?e:s;let c=!1,l={};for(let u=0;u<i.length;u++){let d=i[u],f=n[d],h=s[d],g=f(h,a);l[d]=g,c=c||g!==h}return c?l:s}}function xx(t,e){return Object.keys(t).filter(r=>r!==e).reduce((r,n)=>Object.assign(r,{[n]:t[n]}),{})}function ry(...t){return function(e){if(t.length===0)return e;let r=t[t.length-1];return t.slice(0,-1).reduceRight((i,o)=>o(i),r(e))}}function iy(t,e){return Array.isArray(e)&&e.length>0&&(t=ry.apply(null,[...e,t])),(r,n)=>{let i=t(r);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function Tx(t){let e=Array.isArray(t)&&t.length>0?ry(...t):r=>r;return(r,n)=>(r=e(r),(i,o)=>(i=i===void 0?n:i,r(i,o)))}var cr=class extends G{},ii=class extends zt{},ac="@ngrx/store/update-reducers",sc=(()=>{let e=class e extends Me{get currentReducers(){return this.reducers}constructor(n,i,o,s){super(s(o,i)),this.dispatcher=n,this.initialState=i,this.reducers=o,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let i=n.reduce((o,{reducers:s,reducerFactory:a,metaReducers:c,initialState:l,key:u})=>{let d=typeof s=="function"?Tx(c)(s,l):iy(a,c)(s,l);return o[u]=d,o},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers=v(v({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=xx(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ac,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(i){return new(i||e)(D(ii),D(Ao),D(ey),D(X0))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Mx=[sc,{provide:cr,useExisting:sc},{provide:ii,useExisting:zt}],lr=(()=>{let e=class e extends H{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=er(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Ax=[lr],oi=class extends G{},q0=(()=>{let e=class e extends Me{constructor(n,i,o,s){super(s);let c=n.pipe(Xt(Ni)).pipe(ge(i)),l={state:s},u=c.pipe(Hn(Rx,l));this.stateSubscription=u.subscribe(({state:d,action:f})=>{this.next(d),o.next(f)}),this.state=So(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=Mo,e.\u0275fac=function(i){return new(i||e)(D(zt),D(cr),D(lr),D(Ao))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function Rx(t={state:void 0},[e,r]){let{state:n}=t;return{state:r(n,e),action:e}}var Ox=[q0,{provide:oi,useExisting:q0}],Ze=(()=>{let e=class e extends G{constructor(n,i,o){super(),this.actionsObserver=i,this.reducerManager=o,this.source=n,this.state=n.state}select(n,...i){return kx.call(null,n,...i)(this)}selectSignal(n,i){return ka(()=>n(this.state()),i)}lift(n){let i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(i){return new(i||e)(D(oi),D(zt),D(sc))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Nx=[Ze];function kx(t,e,...r){return function(i){let o;if(typeof t=="string"){let s=[e,...r].filter(Boolean);o=i.pipe(Nl(t,...s))}else if(typeof t=="function")o=i.pipe(y(s=>t(s,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return o.pipe(Ns())}}var Uf="https://ngrx.io/guide/store/configuration/runtime-checks";function Z0(t){return t===void 0}function Y0(t){return t===null}function oy(t){return Array.isArray(t)}function Px(t){return typeof t=="string"}function Fx(t){return typeof t=="boolean"}function Lx(t){return typeof t=="number"}function sy(t){return typeof t=="object"&&t!==null}function jx(t){return sy(t)&&!oy(t)}function $x(t){if(!jx(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function jf(t){return typeof t=="function"}function Vx(t){return jf(t)&&t.hasOwnProperty("\u0275cmp")}function Bx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function K0(t,e){return t===e}function Hx(t,e,r){for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!0;return!1}function ay(t,e=K0,r=K0){let n=null,i=null,o;function s(){n=null,i=null}function a(u=void 0){o={result:u}}function c(){o=void 0}function l(){if(o!==void 0)return o.result;if(!n)return i=t.apply(null,arguments),n=arguments,i;if(!Hx(arguments,n,e))return i;let u=t.apply(null,arguments);return n=arguments,r(i,u)?i:(i=u,u)}return{memoized:l,reset:s,setResult:a,clearResult:c}}function _e(...t){return Gx(ay)(...t)}function Ux(t,e,r,n){if(r===void 0){let o=e.map(s=>s(t));return n.memoized.apply(null,o)}let i=e.map(o=>o(t,r));return n.memoized.apply(null,[...i,r])}function Gx(t,e={stateFn:Ux}){return function(...r){let n=r;if(Array.isArray(n[0])){let[u,...d]=n;n=[...u,...d]}else n.length===1&&zx(n[0])&&(n=Wx(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=t(function(...u){return o.apply(null,u)}),c=ay(function(u,d){return e.stateFn.apply(null,[u,i,d,a])});function l(){c.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function zx(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function Wx(t){let e=Object.values(t),r=Object.keys(t),n=(...i)=>r.reduce((o,s,a)=>I(v({},o),{[s]:i[a]}),{});return[...e,n]}function qx(t){return t instanceof E?C(t):t}function Zx(t,e){return e.map((r,n)=>{if(t[n]instanceof E){let i=C(t[n]);return{key:r.key,reducerFactory:i.reducerFactory?i.reducerFactory:Hf,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return r})}function Yx(t){return t.map(e=>e instanceof E?C(e):e)}function cy(t){return typeof t=="function"?t():t}function Kx(t,e){return t.concat(e)}function Qx(){if(C(Ze,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Jx(t,e){return function(r,n){let i=e.action(n)?$f(n):n,o=t(r,i);return e.state()?$f(o):o}}function $f(t){Object.freeze(t);let e=jf(t);return Object.getOwnPropertyNames(t).forEach(r=>{if(!r.startsWith("\u0275")&&Bx(t,r)&&(!e||r!=="caller"&&r!=="callee"&&r!=="arguments")){let n=t[r];(sy(n)||jf(n))&&!Object.isFrozen(n)&&$f(n)}}),t}function Xx(t,e){return function(r,n){if(e.action(n)){let o=Vf(n);Q0(o,"action")}let i=t(r,n);if(e.state()){let o=Vf(i);Q0(o,"state")}return i}}function Vf(t,e=[]){return(Z0(t)||Y0(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;let o=t[i];return Vx(o)?n:Z0(o)||Y0(o)||Lx(o)||Fx(o)||Px(o)||oy(o)?!1:$x(o)?Vf(o,[...e,i]):{path:[...e,i],value:o}},!1)}function Q0(t,e){if(t===!1)return;let r=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${r}". ${Uf}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=r,n}function eT(t,e){return function(r,n){if(e.action(n)&&!Ee.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${Uf}#strictactionwithinngzone`);return t(r,n)}}function tT(t){return Na()?v({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function nT({strictActionSerializability:t,strictStateSerializability:e}){return r=>t||e?Xx(r,{action:n=>t&&!Gf(n),state:()=>e}):r}function rT({strictActionImmutability:t,strictStateImmutability:e}){return r=>t||e?Jx(r,{action:n=>t&&!Gf(n),state:()=>e}):r}function Gf(t){return t.type.startsWith("@ngrx")}function iT({strictActionWithinNgZone:t}){return e=>t?eT(e,{action:r=>t&&!Gf(r)}):e}function oT(t){return[{provide:W0,useValue:t},{provide:z0,useFactory:sT,deps:[W0]},{provide:xo,deps:[z0],useFactory:tT},{provide:ic,multi:!0,deps:[xo],useFactory:rT},{provide:ic,multi:!0,deps:[xo],useFactory:nT},{provide:ic,multi:!0,deps:[xo],useFactory:iT}]}function ly(){return[{provide:Bf,multi:!0,deps:[xo],useFactory:aT}]}function sT(t){return t}function aT(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Lf).filter(([,r])=>r>1).map(([r])=>r);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(r=>`"${r}"`).join(", ")}. ${Uf}#strictactiontypeuniqueness`)}function zf(t,e,r={}){return Nt([...hT(t,e,r),fT])}function cT(t={},e={}){return[{provide:J0,useFactory:Qx},{provide:L0,useValue:e.initialState},{provide:Ao,useFactory:cy,deps:[L0]},{provide:Pf,useValue:t},{provide:V0,useExisting:t instanceof E?t:Pf},{provide:ey,deps:[Pf,[new Wu(V0)]],useFactory:qx},{provide:U0,useValue:e.metaReducers?e.metaReducers:[]},{provide:G0,deps:[ic,U0],useFactory:Kx},{provide:j0,useValue:e.reducerFactory?e.reducerFactory:Hf},{provide:X0,deps:[j0,G0],useFactory:iy},Sx,Mx,Ax,Ox,Nx,oT(e.runtimeChecks),ly()]}function lT(){C(zt),C(cr),C(lr),C(Ze),C(J0,{optional:!0}),C(Bf,{optional:!0})}var uT=[{provide:To,useFactory:lT},{provide:Rt,multi:!0,useFactory(){return()=>C(To)}}];function uy(t,e){return Nt([...cT(t,e),uT])}function dT(){C(To);let t=C(ty),e=C(ny),r=C(sc);C(Bf,{optional:!0});let n=t.map((i,o)=>{let a=e.shift()[o];return I(v({},i),{reducers:a,initialState:cy(i.initialState)})});r.addFeatures(n)}var fT=[{provide:oc,useFactory:dT},{provide:Rt,multi:!0,useFactory(){return()=>C(oc)}}];function hT(t,e,r={}){return[{provide:B0,multi:!0,useValue:t instanceof Object?{}:r},{provide:$0,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(r instanceof E)&&r.reducerFactory?r.reducerFactory:Hf,metaReducers:!(r instanceof E)&&r.metaReducers?r.metaReducers:[],initialState:!(r instanceof E)&&r.initialState?r.initialState:void 0}},{provide:ty,deps:[B0,$0],useFactory:Zx},{provide:Ff,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:H0,multi:!0,useExisting:e instanceof E?e:Ff},{provide:ny,multi:!0,deps:[Ff,[new Wu(H0)]],useFactory:Yx},ly()]}function pe(...t){let e=t.pop(),r=t.map(n=>n.type);return{reducer:e,types:r}}function cc(t,...e){let r=new Map;for(let n of e)for(let i of n.types){let o=r.get(i);if(o){let s=(a,c)=>n.reducer(o(a,c),c);r.set(i,s)}else r.set(i,n.reducer)}return function(n=t,i){let o=r.get(i.type);return o?o(n,i):n}}var Oo="PERFORM_ACTION",pT="REFRESH",gy="RESET",vy="ROLLBACK",yy="COMMIT",_y="SWEEP",wy="TOGGLE_ACTION",mT="SET_ACTIONS_ACTIVE",Cy="JUMP_TO_STATE",Dy="JUMP_TO_ACTION",ih="IMPORT_STATE",by="LOCK_CHANGES",Ey="PAUSE_RECORDING",si=class{constructor(e,r){if(this.action=e,this.timestamp=r,this.type=Oo,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Wf=class{constructor(){this.type=pT}},qf=class{constructor(e){this.timestamp=e,this.type=gy}},Zf=class{constructor(e){this.timestamp=e,this.type=vy}},Yf=class{constructor(e){this.timestamp=e,this.type=yy}},Kf=class{constructor(){this.type=_y}},Qf=class{constructor(e){this.id=e,this.type=wy}};var Jf=class{constructor(e){this.index=e,this.type=Cy}},Xf=class{constructor(e){this.actionId=e,this.type=Dy}},eh=class{constructor(e){this.nextLiftedState=e,this.type=ih}},th=class{constructor(e){this.status=e,this.type=by}},nh=class{constructor(e){this.status=e,this.type=Ey}};var hc=new E("@ngrx/store-devtools Options"),dy=new E("@ngrx/store-devtools Initial Config");function Iy(){return null}var gT="NgRx Store DevTools";function vT(t){let e={maxAge:!1,monitor:Iy,actionSanitizer:void 0,stateSanitizer:void 0,name:gT,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof t=="function"?t():t,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||n||e.features;i.import===!0&&(i.import="custom");let o=Object.assign({},e,{features:i},r);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function fy(t,e){return t.filter(r=>e.indexOf(r)<0)}function Sy(t){let{computedStates:e,currentStateIndex:r}=t;if(r>=e.length){let{state:i}=e[e.length-1];return i}let{state:n}=e[r];return n}function Ro(t){return new si(t,+Date.now())}function yT(t,e){return Object.keys(e).reduce((r,n)=>{let i=Number(n);return r[i]=xy(t,e[i],i),r},{})}function xy(t,e,r){return I(v({},e),{action:t(e.action,r)})}function _T(t,e){return e.map((r,n)=>({state:Ty(t,r.state,n),error:r.error}))}function Ty(t,e,r){return t(e,r)}function My(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function wT(t,e,r,n){let i=[],o={},s=[];return t.stagedActionIds.forEach((a,c)=>{let l=t.actionsById[a];l&&(c&&oh(t.computedStates[c],l,e,r,n)||(o[a]=l,i.push(a),s.push(t.computedStates[c])))}),I(v({},t),{stagedActionIds:i,actionsById:o,computedStates:s})}function oh(t,e,r,n,i){let o=r&&!r(t,e.action),s=n&&!e.action.type.match(n.map(c=>hy(c)).join("|")),a=i&&e.action.type.match(i.map(c=>hy(c)).join("|"));return o||s||a}function hy(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ay(t){return{ngZone:t?C(Ee):null,connectInZone:t}}var pc=(()=>{let e=class e extends zt{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=er(e)))(o||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),uc={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},rh=new E("@ngrx/store-devtools Redux Devtools Extension"),Ry=(()=>{let e=class e{constructor(n,i,o){this.config=i,this.dispatcher=o,this.zoneConfig=Ay(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===Oo){if(i.isLocked||i.isPaused)return;let o=Sy(i);if(My(this.config)&&oh(o,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?Ty(this.config.stateSanitizer,o,i.currentStateIndex):o,a=this.config.actionSanitizer?xy(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let o=I(v({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?yT(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?_T(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new G(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(o=>n.next(o)),i.unsubscribe}):je}createActionStreams(){let n=this.createChangesObservable().pipe(Pl()),i=n.pipe(ie(u=>u.type===uc.START)),o=n.pipe(ie(u=>u.type===uc.STOP)),s=n.pipe(ie(u=>u.type===uc.DISPATCH),y(u=>this.unwrapAction(u.payload)),tn(u=>u.type===ih?this.dispatcher.pipe(ie(d=>d.type===ac),El(1e3),xl(1e3),y(()=>u),vt(()=>z(u)),Qe(1)):z(u))),c=n.pipe(ie(u=>u.type===uc.ACTION),y(u=>this.unwrapAction(u.payload))).pipe($e(o)),l=s.pipe($e(o));this.start$=i.pipe($e(o)),this.actions$=this.start$.pipe(ze(()=>c)),this.liftedActions$=this.start$.pipe(ze(()=>l))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};e.\u0275fac=function(i){return new(i||e)(D(rh),D(hc),D(pc))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),fc={type:Mo},CT="@ngrx/store-devtools/recompute",DT={type:CT};function Oy(t,e,r,n,i){if(n)return{state:r,error:"Interrupted by an error up the chain"};let o=r,s;try{o=t(r,e)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function dc(t,e,r,n,i,o,s,a,c){if(e>=t.length&&t.length===o.length)return t;let l=t.slice(0,e),u=o.length-(c?1:0);for(let d=e;d<u;d++){let f=o[d],h=i[f].action,g=l[d-1],_=g?g.state:n,b=g?g.error:void 0,X=s.indexOf(f)>-1?g:Oy(r,h,_,b,a);l.push(X)}return c&&l.push(t[t.length-1]),l}function bT(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:Ro(fc)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function ET(t,e,r,n,i={}){return o=>(s,a)=>{let{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:h,currentStateIndex:g,computedStates:_,isLocked:b,isPaused:A}=s||e;s||(l=Object.create(l));function X(ee){let q=ee,Oe=d.slice(1,q+1);for(let Ne=0;Ne<Oe.length;Ne++)if(_[Ne+1].error){q=Ne,Oe=d.slice(1,q+1);break}else delete l[Oe[Ne]];f=f.filter(Ne=>Oe.indexOf(Ne)===-1),d=[0,...d.slice(q+1)],h=_[q].state,_=_.slice(q),g=g>q?g-q:0}function de(){l={0:Ro(fc)},u=1,d=[0],f=[],h=_[g].state,g=0,_=[]}let U=0;switch(a.type){case by:{b=a.status,U=1/0;break}case Ey:{A=a.status,A?(d=[...d,u],l[u]=new si({type:"@ngrx/devtools/pause"},+Date.now()),u++,U=d.length-1,_=_.concat(_[_.length-1]),g===d.length-2&&g++,U=1/0):de();break}case gy:{l={0:Ro(fc)},u=1,d=[0],f=[],h=t,g=0,_=[];break}case yy:{de();break}case vy:{l={0:Ro(fc)},u=1,d=[0],f=[],g=0,_=[];break}case wy:{let{id:ee}=a;f.indexOf(ee)===-1?f=[ee,...f]:f=f.filter(Oe=>Oe!==ee),U=d.indexOf(ee);break}case mT:{let{start:ee,end:q,active:Oe}=a,Ne=[];for(let Ce=ee;Ce<q;Ce++)Ne.push(Ce);Oe?f=fy(f,Ne):f=[...f,...Ne],U=d.indexOf(ee);break}case Cy:{g=a.index,U=1/0;break}case Dy:{let ee=d.indexOf(a.actionId);ee!==-1&&(g=ee),U=1/0;break}case _y:{d=fy(d,f),f=[],g=Math.min(g,d.length-1);break}case Oo:{if(b)return s||e;if(A||s&&oh(s.computedStates[g],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let q=_[_.length-1];_=[..._.slice(0,-1),Oy(o,a.action,q.state,q.error,r)],U=1/0;break}i.maxAge&&d.length===i.maxAge&&X(1),g===d.length-1&&g++;let ee=u++;l[ee]=a,d=[...d,ee],U=d.length-1;break}case ih:{({monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:h,currentStateIndex:g,computedStates:_,isLocked:b,isPaused:A}=a.nextLiftedState);break}case Mo:{U=0,i.maxAge&&d.length>i.maxAge&&(_=dc(_,U,o,h,l,d,f,r,A),X(d.length-i.maxAge),U=1/0);break}case ac:{if(_.filter(q=>q.error).length>0)U=0,i.maxAge&&d.length>i.maxAge&&(_=dc(_,U,o,h,l,d,f,r,A),X(d.length-i.maxAge),U=1/0);else{if(!A&&!b){g===d.length-1&&g++;let q=u++;l[q]=new si(a,+Date.now()),d=[...d,q],U=d.length-1,_=dc(_,U,o,h,l,d,f,r,A)}_=_.map(q=>I(v({},q),{state:o(q.state,DT)})),g=d.length-1,i.maxAge&&d.length>i.maxAge&&X(d.length-i.maxAge),U=1/0}break}default:{U=1/0;break}}return _=dc(_,U,o,h,l,d,f,r,A),c=n(c,a),{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:h,currentStateIndex:g,computedStates:_,isLocked:b,isPaused:A}}}var py=(()=>{let e=class e{constructor(n,i,o,s,a,c,l,u){let d=bT(l,u.monitor),f=ET(l,d,c,u.monitor,u),h=rt(rt(i.asObservable().pipe(Fl(1)),s.actions$).pipe(y(Ro)),n,s.liftedActions$).pipe(Xt(Ni)),g=o.pipe(y(f)),_=Ay(u.connectInZone),b=new Ri(1);this.liftedStateSubscription=h.pipe(ge(g),my(_),Hn(({state:de},[U,ee])=>{let q=ee(de,U);return U.type!==Oo&&My(u)&&(q=wT(q,u.predicate,u.actionsSafelist,u.actionsBlocklist)),s.notify(U,q),{state:q,action:U}},{state:d,action:null})).subscribe(({state:de,action:U})=>{if(b.next(de),U.type===Oo){let ee=U.action;a.next(ee)}}),this.extensionStartSubscription=s.start$.pipe(my(_)).subscribe(()=>{this.refresh()});let A=b.asObservable(),X=A.pipe(y(Sy));Object.defineProperty(X,"state",{value:So(X,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=A,this.state=X}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new si(n,+Date.now()))}refresh(){this.dispatch(new Wf)}reset(){this.dispatch(new qf(+Date.now()))}rollback(){this.dispatch(new Zf(+Date.now()))}commit(){this.dispatch(new Yf(+Date.now()))}sweep(){this.dispatch(new Kf)}toggleAction(n){this.dispatch(new Qf(n))}jumpToAction(n){this.dispatch(new Xf(n))}jumpToState(n){this.dispatch(new Jf(n))}importState(n){this.dispatch(new eh(n))}lockChanges(n){this.dispatch(new th(n))}pauseRecording(n){this.dispatch(new nh(n))}};e.\u0275fac=function(i){return new(i||e)(D(pc),D(zt),D(cr),D(Ry),D(lr),D(ut),D(Ao),D(hc))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function my({ngZone:t,connectInZone:e}){return r=>e?new G(n=>r.subscribe({next:i=>t.run(()=>n.next(i)),error:i=>t.run(()=>n.error(i)),complete:()=>t.run(()=>n.complete())})):r}var IT=new E("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function ST(t,e){return!!t||e.monitor!==Iy}function xT(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function Ny(t={}){return Nt([Ry,pc,py,{provide:dy,useValue:t},{provide:IT,deps:[rh,hc],useFactory:ST},{provide:rh,useFactory:xT},{provide:hc,deps:[dy],useFactory:vT},{provide:oi,deps:[py],useFactory:TT},{provide:ii,useExisting:pc}])}function TT(t){return t.state}var MT={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},mc="__@ngrx/effects_create__";function le(t,e={}){let r=e.functional?t:t(),n=v(v({},MT),e);return Object.defineProperty(r,mc,{value:n}),r}function AT(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(mc)?t[n][mc].hasOwnProperty("dispatch"):!1).map(n=>{let i=t[n][mc];return v({propertyName:n},i)})}function RT(t){return AT(t)}function ky(t){return Object.getPrototypeOf(t)}function OT(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function Py(t){return typeof t=="function"}function NT(t){return t.filter(Py)}function kT(t,e,r){let n=ky(t),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=RT(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:l})=>{let u=typeof t[a]=="function"?t[a]():t[a],d=l?r(u,e):u;return c===!1?d.pipe(Tl()):d.pipe(Ol()).pipe(y(h=>({effect:t[a],notification:h,propertyName:a,sourceName:o,sourceInstance:t})))});return rt(...s)}var PT=10;function Fy(t,e,r=PT){return t.pipe(vt(n=>(e&&e.handleError(n),r<=1?t:Fy(t,e,r-1))))}var ai=(()=>{let e=class e extends G{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}};e.\u0275fac=function(i){return new(i||e)(D(lr))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ue(...t){return ie(e=>t.some(r=>typeof r=="string"?r===e.type:r.type===e.type))}var r5=new E("@ngrx/effects Internal Root Guard"),i5=new E("@ngrx/effects User Provided Effects"),o5=new E("@ngrx/effects Internal Root Effects"),s5=new E("@ngrx/effects Internal Root Effects Instances"),a5=new E("@ngrx/effects Internal Feature Effects"),c5=new E("@ngrx/effects Internal Feature Effects Instance Groups"),FT=new E("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Fy}),LT="@ngrx/effects/init",jT=N(LT);function $T(t,e){if(t.notification.kind==="N"){let r=t.notification.value;!VT(r)&&e.handleError(new Error(`Effect ${BT(t)} dispatched an invalid action: ${HT(r)}`))}}function VT(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function BT({propertyName:t,sourceInstance:e,sourceName:r}){let n=typeof e[t]=="function";return!!r?`"${r}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function HT(t){try{return JSON.stringify(t)}catch{return t}}var UT="ngrxOnIdentifyEffects";function GT(t){return sh(t,UT)}var zT="ngrxOnRunEffects";function WT(t){return sh(t,zT)}var qT="ngrxOnInitEffects";function ZT(t){return sh(t,qT)}function sh(t,e){return t&&e in t&&typeof t[e]=="function"}var Ly=(()=>{let e=class e extends H{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(Fs(n=>OT(n)?ky(n):n),Ae(n=>n.pipe(Fs(YT))),Ae(n=>{let i=n.pipe(Ps(s=>KT(this.errorHandler,this.effectsErrorHandler)(s)),y(s=>($T(s,this.errorHandler),s.notification)),ie(s=>s.kind==="N"&&s.value!=null),Al()),o=n.pipe(Qe(1),ie(ZT),y(s=>s.ngrxOnInitEffects()));return rt(i,o)}))}};e.\u0275fac=function(i){return new(i||e)(D(ut),D(FT))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YT(t){return GT(t)?t.ngrxOnIdentifyEffects():""}function KT(t,e){return r=>{let n=kT(r,t,e);return WT(r)?r.ngrxOnRunEffects(n):n}}var QT=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(D(Ly),D(Ze))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jy(...t){let e=t.flat(),r=NT(e);return Nt([r,{provide:Rt,multi:!0,useValue:()=>{C(To),C(oc,{optional:!0});let n=C(QT),i=C(Ly),o=!n.isStarted;o&&n.start();for(let s of e){let a=Py(s)?C(s):s;i.addEffects(a)}o&&C(Ze).dispatch(jT())}}])}var fn={clubs:"Clubs",coins:"Coins",cups:"Cups",swords:"Swords"},x=class{constructor(e,r){this.cardValue=e,this.cardSuit=r}equals(e){return this.cardSuit===e.cardSuit&&this.cardValue===e.cardValue}get suit(){return this.cardSuit}get value(){return this.cardValue}};var ci=(()=>{let e=class e{constructor(n,i,o){this.characterCard=n,this.characterHp=i,this.characterMaxHp=o}updateHp(n){let i=Math.max(e.HP_MIN,Math.min(this.characterMaxHp,this.characterHp+n));return new e(this.characterCard,i,this.characterMaxHp)}get card(){return this.characterCard}get hp(){return this.characterHp}};e.HP_MIN=0,e.HP_MAX=12;let t=e;return t})();var It=class It{constructor(e=[]){this.deckCards=e}static empty(){return new It}static full(){let e=[];return It.suits.forEach(r=>Array.from(Array(10).keys()).forEach(n=>e.push(new x(n+1,r)))),new It(e)}clone(){return new It([...this.deckCards])}includes(e){return!!this.cards.find(r=>r.equals(e))}extractCharacterDeck(){let e=new It(this.deckCards.filter(r=>r.value>=8));return this.deckCards=this.deckCards.filter(r=>r.value<8),e}extractRelicDeck(){let e=new It(this.deckCards.filter(r=>r.value===1));return this.deckCards=this.deckCards.filter(r=>r.value>1),e}filterBySuit(e){return new It(this.cards.filter(r=>r.suit===e))}peek(){return this.deckCards[this.deckCards.length-1]}pop(){return this.deckCards.pop()}popPlayerCard(){let e=Math.floor(Math.random()*2+8),r=Array.from(It.suits)[Math.floor(Math.random()*It.suits.size)],n=this.deckCards.findIndex(i=>i.suit===r&&i.value==e);return this.deckCards.splice(n,1)[0]}push(e){this.deckCards.push(e)}pushAll(e){e.cards.forEach(r=>this.push(r))}remove(e){this.deckCards=this.deckCards.filter(r=>!r.equals(e))}removeAll(e){e.cards.forEach(r=>this.remove(r))}reverse(){this.deckCards.reverse()}shuffle(){this.deckCards.sort(()=>Math.random()-.5)}get cards(){return this.deckCards}get length(){return this.deckCards.length}get value(){return this.deckCards.reduce((e,r)=>e+=r.value,0)}};It.suits=new Set(["clubs","cups","coins","swords"]);var k=It;var li=N("[Game/Combat] Action Played",me()),ur=N("[Game/Combat] Action Start"),gc=N("[Game/Combat] Action Started",me()),kn=N("[Game/Combat] Combat Start"),No=N("[Game/Combat] Combat Started"),vc=N("[Game/Combat] Turn Start"),ko=N("[Game/Combat] Turn Started",me()),Po=N("[Game/Combat] Resolve Combat",me()),ui=N("[Game/Combat] Resolved Combat",me());var Fo=N("[Game/Crawl] Challenged",me()),yc=N("[Game/Crawl] Collected",me()),_c=N("[Game/Crawl] Drawn",me()),wc=N("[Game/Crawl] Skipped"),ch=N("[Game/Crawl] Reveal"),Cc=N("[Game] Revealed",me()),di=N("[Game/Crawl] Spent",me()),Dc=N("[Game/Crawl] Threw Dice",me()),fi=N("[Game/Crawl] Resolve Card Success",me()),bc=N("[Game/Crawl] Resolve Card Failure",me()),hi=N("[Game/Crawl] Resolved Card",me());var Ec=N("[Game/UI] Aid Selected",me()),pi=N("[Game/UI] Action Play",me()),Ic=N("[Game/UI] Challenge"),Sc=N("[Game/UI] Collect"),xc=N("[Game/UI] Draw"),Tc=N("[Game/UI] Throw Dice"),Lo=N("[Game/UI] Resolve Card By Dice"),Mc=N("[Game/UI] Gold Selected",me()),Ac=N("[Game/UI] Hero Action Selected",me()),Rc=N("[Game/UI] Revealed Ok"),mi=N("[Game/UI] Spend"),Oc=N("[Game/UI] Skip"),_5=N("[Game/UI] Menu About"),w5=N("[Game/UI] Menu New Game"),C5=N("[Game/UI] Menu Settings");var gi=N("[Game/Tutorial] Start"),dr=N("[Game/Tutorial] Next"),jo=N("[Game/Tutorial] Next Ready",me()),fr=N("[Game/Tutorial] Exit");var Be=N("[Game] Error",me()),Nc=N("[Game] Discard Action"),kc=N("[Game] Keep Selected Action",me()),Pc=N("[Game] Kept Selected Action",me()),$o=N("[Game] Game Over"),Fc=N("[Game] Game Won"),hr=N("[Game] Start",me()),vi=N("[Game] Started",me()),Lc=N("[Game] Reset");var re=function(t){return t.GAME_INIT="GAME_INIT",t.COMBAT="COMBAT",t.CRAWL_READY="CRAWL_READY",t.CRAWL_ACT="CRAWL_ACT",t.DISCARD_ACTION="DISCARD_ACTION",t.ENEMY_REVEALED="ENEMY_REVEALED",t.GAME_OVER="GAME_OVER",t.GAME_WON="GAME_WON",t.RESOLVE_THREW_DICE="RESOLVE_THREW_DICE",t}(re||{});var yi="game",Vy={action:0,aidSelected:k.empty(),heroAction:k.empty(),heroActionSelected:k.empty(),enemyAction:k.empty()},$y={combat:Vy,decks:{aid:k.empty(),catacomb:k.empty(),character:k.empty(),dungeon:k.empty(),enemyAid:k.empty(),enemyAidBuffer:k.empty(),event:k.empty(),gold:k.empty(),goldSelected:k.empty(),obtainedRelic:k.empty(),relic:k.empty()},enemy:void 0,error:void 0,eventCard:void 0,hero:void 0,status:re.GAME_INIT,tutorialIndex:void 0},By=cc($y,pe(Lc,()=>$y),pe(Ec,(t,{aidSelected:e})=>I(v({},t),{combat:I(v({},t.combat),{aidSelected:e}),decks:v({},t.decks)})),pe(gc,(t,{action:e})=>I(v({},t),{combat:I(v({},t.combat),{action:e})})),pe(Fo,(t,{character:e,enemy:r})=>I(v({},t),{decks:I(v({},t.decks),{character:e}),enemy:r})),pe(yc,(t,{event:e,gold:r})=>I(v({},t),{decks:I(v({},t.decks),{event:e,gold:r}),eventCard:void 0,status:re.CRAWL_READY})),pe(kn,t=>I(v({},t),{status:re.COMBAT})),pe(ur,(t,{})=>I(v({},t),{status:re.COMBAT})),pe(No,t=>I(v({},t),{combat:I(v({},t.combat),{action:0}),decks:v({},t.decks)})),pe(Nc,t=>I(v({},t),{status:re.DISCARD_ACTION})),pe(_c,(t,{event:e,dungeon:r})=>I(v({},t),{decks:I(v({},t.decks),{event:e,dungeon:r}),eventCard:e.peek(),status:re.CRAWL_ACT})),pe(Be,(t,{error:e})=>I(v({},t),{error:e})),pe(li,(t,{aid:e,catacomb:r,enemy:n,enemyAction:i,enemyAid:o,enemyAidBuffer:s,event:a,hero:c,heroAction:l})=>I(v({},t),{combat:I(v({},t.combat),{aidSelected:k.empty(),enemyAction:i,heroAction:l,heroActionSelected:k.empty()}),decks:I(v({},t.decks),{aid:e,catacomb:r,enemyAid:o,enemyAidBuffer:s,event:a}),enemy:n,hero:c})),pe($o,t=>I(v({},t),{status:re.GAME_OVER})),pe(Fc,t=>I(v({},t),{status:re.GAME_WON})),pe(Mc,(t,{goldSelected:e})=>I(v({},t),{decks:I(v({},t.decks),{goldSelected:e})})),pe(Ac,(t,{heroActionSelected:e})=>I(v({},t),{combat:I(v({},t.combat),{heroActionSelected:e})})),pe(Pc,(t,{heroAction:e,event:r})=>I(v({},t),{combat:I(v({},t.combat),{heroAction:e,heroActionSelected:k.empty()}),decks:I(v({},t.decks),{event:r}),status:re.CRAWL_READY})),pe(hi,(t,{hpDelta:e})=>I(v({},t),{eventCard:void 0,hero:t.hero?.updateHp(e),status:re.CRAWL_READY})),pe(ui,(t,{aid:e,enemyAid:r,enemyAidBuffer:n,event:i,heroAction:o,obtainedRelic:s,relic:a})=>I(v({},t),{combat:I(v({},t.combat),{enemyAction:k.empty(),heroAction:o,heroActionSelected:k.empty()}),decks:I(v({},t.decks),{aid:e,enemyAid:r,enemyAidBuffer:n,event:i,obtainedRelic:s,relic:a}),enemy:void 0,eventCard:void 0,status:re.CRAWL_READY})),pe(Cc,(t,{character:e,enemy:r})=>I(v({},t),{decks:I(v({},t.decks),{character:e}),enemy:r,status:re.ENEMY_REVEALED})),pe(wc,t=>I(v({},t),{eventCard:void 0,status:re.CRAWL_READY})),pe(vi,(t,{decks:e,difficulty:r,hero:n})=>I(v({},t),{combat:Vy,decks:v({aid:k.empty(),catacomb:k.empty(),enemyAid:k.empty(),enemyAidBuffer:k.empty(),event:k.empty(),gold:k.empty(),goldSelected:k.empty(),obtainedRelic:k.empty()},e),difficulty:r,enemy:void 0,eventCard:void 0,hero:n,status:re.CRAWL_READY})),pe(di,(t,{event:e,gold:r})=>I(v({},t),{decks:I(v({},t.decks),{event:e,gold:r,goldSelected:k.empty()}),status:re.CRAWL_READY})),pe(Dc,(t,{dice:e})=>I(v({},t),{dice:e,status:re.RESOLVE_THREW_DICE})),pe(ko,(t,{dungeon:e,event:r,heroAction:n,enemyAction:i})=>I(v({},t),{combat:I(v({},t.combat),{action:0,heroAction:n,enemyAction:i}),decks:I(v({},t.decks),{dungeon:e,event:r})})),pe(dr,t=>I(v({},t),{tutorialIndex:(t.tutorialIndex??0)+1})),pe(jo,(t,{step:e})=>I(v({},t),{tutorialStep:e})),pe(gi,t=>I(v({},t),{tutorialIndex:0})),pe(fr,t=>I(v({},t),{tutorialIndex:void 0})));var Re=t=>t[yi],Vo=_e(Re,t=>t.decks.aid),jc=_e(Re,t=>t.combat?.aidSelected),$c=_e(Re,t=>t.decks.catacomb),_i=_e(Re,t=>t.decks.character),Vc=_e(Re,t=>t.combat?.action),Bc=_e(Re,t=>t.dice),hn=_e(Re,t=>t.difficulty),Bo=_e(Re,t=>t.decks.dungeon),pr=_e(Re,t=>t.enemy),Ho=_e(Re,t=>t.combat?.enemyAction),dh=_e(Re,t=>t.combat?.enemyAction.peek()),Uo=_e(Re,t=>t.decks.enemyAid),fh=_e(Re,t=>t.decks.enemyAidBuffer),Hy=_e(Re,t=>t.error),Go=_e(Re,t=>t.decks.gold),Hc=_e(Re,t=>t.decks.goldSelected),wi=_e(Re,t=>t.eventCard),Wt=_e(Re,t=>t.decks.event),Ci=_e(Re,t=>t.hero),Pn=_e(Re,t=>t.combat?.heroAction),zo=_e(Re,t=>t.combat?.heroActionSelected),Uc=_e(Re,t=>t.decks.relic),Di=_e(Re,t=>t.decks.obtainedRelic),Uy=_e(Re,t=>t.status);var hh=N("[Game/Menu] Init"),Gc=N("[Game/Menu] About Open",me()),zc=N("[Game/Menu] New Game",me()),Wc=N("[Game/Menu] Settings",me()),bi=N("[Game/Menu] Set Layout",me());var qc="menu",JT={showAbout:!0,showNewGame:!1,showSettings:!1,layout:"classic"},zy=cc(JT,pe(Gc,(t,{show:e})=>I(v({},t),{showAbout:e===void 0?!t.showAbout:e})),pe(zc,(t,{show:e})=>I(v({},t),{showNewGame:e===void 0?!t.showNewGame:e})),pe(Wc,(t,{show:e})=>I(v({},t),{showSettings:e===void 0?!t.showSettings:e})),pe(bi,(t,{layout:e})=>I(v({},t),{layout:e})));var Zc=t=>t[qc],Wy=_e(Zc,t=>t.showAbout),qy=_e(Zc,t=>t.showNewGame),Zy=_e(Zc,t=>t.showSettings),Yy=_e(Zc,t=>t.layout);var He=(()=>{let e=class e{constructor(){this.store=C(Ze),this.about$=this.store.select(Wy),this.newGame$=this.store.select(qy),this.layout$=this.store.select(Yy),this.settings$=this.store.select(Zy)}about(n){this.store.dispatch(Gc({show:n}))}newGame(n){this.store.dispatch(zc({show:n}))}settings(n){this.store.dispatch(Wc({show:n}))}setLayout(n){this.store.dispatch(bi({layout:n}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var Ky=t=>t[yi],Wo=_e(Ky,t=>t.tutorialIndex),Qy=_e(Ky,t=>t.tutorialStep);var qt=(()=>{let e=class e{constructor(){this.store=C(Ze),this.index$=this.store.select(Wo),this.step$=this.store.select(Qy)}tutorialNext(){this.store.dispatch(dr())}tutorialStart(){this.store.dispatch(gi())}tutorialExit(){this.store.dispatch(fr())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var Kc=(()=>{let e=class e{constructor(){this.logs=[]}card(n){return n?`${n.value}${fn[n.suit]}`:"(None)"}character(n){return`${this.card(n.card)} having ${n.hp} HPs`}deck(n){return n.cards.map(i=>this.card(i)).join(", ")||"(None)"}hp(n,i){return i>0?`${n} recovers ${i} HPs.`:i<0?`${n} loses ${-i} HPs.`:`${n} retains its HPs.`}append(n){this.logs.push(n),console.info(n)}actionPlay(n,i,o,s,a,c,l,u,d,f,h,g,_,b,A,X,de,U,ee){let q=A&&ee?new x(A,ee):void 0,Oe=ee&&h.length>1?` as ${fn[ee]}`:"",Ne=l?new x(l,d):void 0,Ce=[];if(Ce.push(`Hero played ${this.deck(h)}${Oe};`),Ce.push(`Aids ${this.deck(n)};`),Ce.push(`Relic ${this.card(q)}.`),Ce.push(`Enemy responded with ${this.card(i)};`),Ce.push(`Aids ${this.deck(o)};`),Ce.push(`Relic ${this.card(Ne)}.`),g){let Ye=[];Ye.push(`Hero carries a total attack of ${g} by clubs`),s&&g>s&&Ye.push(`and parries ${U}`),Ye.push("."),Ce.push(Ye.join(""))}if(de&&Ce.push(`Hero carries a total attack of ${de} by swords.`),X&&Ce.push(`Hero shields ${X}.`),b&&Ce.push(`Hero heals ${b} HPs.`),s){let Ye=[];Ye.push(`Enemy carries a total attack of ${s} by clubs`),g&&s>g&&Ye.push(` and parries ${U}`),Ye.push("."),Ce.push(Ye.join(""))}f&&Ce.push(`Enemy carries a total attack of ${f} by swords.`),u&&Ce.push(`Enemy shields ${u}.`),c&&Ce.push(`Enemy heals ${c} HPs.`),Ce.push(this.hp("Hero",_)),Ce.push(this.hp("Enemy",a)),this.append(Ce.join(" "))}actionStart(n){this.append(`Started action ${n}`)}challenge(n){this.append(`Challenged enemy ${this.character(n)}`)}collect(n){this.append(`Collected ${this.card(n)}`)}draw(n){this.append(`Drawn ${this.card(n)}`)}enemyAidBuffer(n){this.append(`These aids flipped to enemy side: ${this.deck(n)}.`)}keepSelectedAction(n,i){this.append(`Kept ${this.deck(n)}; discarded ${this.deck(i)}`)}reveal(n){this.append(`Revealed enemy ${this.character(n)}`)}reshuffle(){this.append("Reshuffled dungeon cards.")}resolveCardFailure(n,i){this.append(`Failed ${this.card(n)}. ${this.hp("Hero",i)}`)}resolveCardSuccess(n,i){this.append(`Resolved ${this.card(n)}. ${this.hp("Hero",i)}`)}resolvedCard(n){this.append(`Hero has ${n} HPs.`)}skip(n){this.append(`Skipped ${this.card(n)}.`)}throwDice(n){this.append(`Thrown dice. Value is ${n}.`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Xy=(()=>{let e=class e{reshuffle(n,i){if(n.length)return{dungeon:n,event:i};let o=i.clone();o.shuffle();let s=k.empty();return this.logger.reshuffle(),{dungeon:o,event:s}}constructor(n,i,o,s,a){this.actions$=n,this.menuFacade=i,this.tutorialFacade=o,this.logger=s,this.store=a,this.DEBUG=!1,this.actionPlay$=le(()=>this.actions$.pipe(ue(pi),ge(this.store.select(Vo),this.store.select(jc),this.store.select($c),this.store.select(hn),this.store.select(pr),this.store.select(Ho),this.store.select(dh),this.store.select(Uo),this.store.select(fh),this.store.select(Wt),this.store.select(Ci),this.store.select(Pn),this.store.select(zo),this.store.select(Di)),y(([{suit:c},l,u,d,f,h,g,_,b,A,X,de,U,ee,q])=>{let Oe=c?q.filterBySuit(c).value:0,Ne=c?u.filterBySuit(c).length:0,Ce=c??"clubs",Ye=ee.value+Oe+Ne;if(!_)return Be({error:`Invalid state for action ${pi.type}: enemyAction=${_}`});if(!de||!h)return Be({error:`Invalid state for action ${pi.type}: hero=${de}, enemy=${h}`});let xh=f==="normal"&&h.card.value===10&&h.card.suit===_.suit?1:0,Jo=f==="normal"?b.filterBySuit(_.suit):k.empty(),xi=_.suit,Xo=_.value+xh+Jo.length,Th=Ce==="clubs"?Ye:0,Mh=xi==="clubs"?Xo:0,il=Math.min(Th,Mh),Ah=Th-il,Rh=Mh-il,Oh=Ce==="swords"?Ye:0,Nh=xi==="swords"?Xo:0,ew=Ah+Oh,tw=Rh+Nh,kh=Ce==="coins"?Ye:0,Ph=xi==="coins"?Xo:0,nw=Math.max(0,ew-Ph),rw=Math.max(0,tw-kh),Fh=Ce==="cups"?Ye:0,Lh=xi==="cups"?Xo:0,jh=Fh-rw,$h=Lh-nw;de=de.updateHp(jh),h=h?.updateHp($h);let Vh=g.clone();Vh.pop();let Bh=U.clone();Bh.removeAll(ee);let ol=X.clone();ol.push(_),ol.pushAll(ee);let Hh=l.clone(),sl=d.clone(),Uh=b.clone(),es=A.clone();return Hh.removeAll(u),f==="easy"?sl.pushAll(u):(es.pushAll(u),Uh.removeAll(Jo),sl.pushAll(Jo)),this.logger.actionPlay(u,_,Jo,Rh,$h,Lh,xh,Ph,xi,Nh,ee,Ah,jh,Fh,Oe,kh,Oh,il,c),es.length&&this.logger.enemyAidBuffer(es),li({aid:Hh,catacomb:sl,enemy:h,enemyAction:Vh,enemyAid:Uh,enemyAidBuffer:es,event:ol,hero:de,heroAction:Bh})}))),this.actionPlayed$=le(()=>this.actions$.pipe(ue(li),ge(this.store.select(pr),this.store.select(dh),this.store.select(Ci)),y(([,c,l,u])=>!u||!c?Be({error:`Invalid state for action ${li.type}: hero=${u}, enemy=${c}`}):u.hp?c.hp?l?ur():vc():Po({bribed:!1}):$o()))),this.actionStart$=le(()=>this.actions$.pipe(ue(ur),ge(this.store.select(Vc)),y(([,c])=>{if(c===void 0)return Be({error:`Invalid state for action ${ur.type}: lastAction=${c}`});let l=c+1;return this.logger.actionStart(l),gc({action:l})}))),this.challenge$=le(()=>this.actions$.pipe(ue(Ic),ge(this.store.select(_i),this.store.select(hn)),y(([,c,l])=>{let u=c.clone(),d=u.pop();if(!d)return Be({error:"No enemy found"});let f=l==="normal"?d.value:6,h=new ci(d,f,f);return this.logger.challenge(h),Fo({character:u,enemy:h})}))),this.challenged$=le(()=>this.actions$.pipe(ue(Fo),y(()=>kn()))),this.collect$=le(()=>this.actions$.pipe(ue(Sc),ge(this.store.select(Wt),this.store.select(Go)),y(([,c,l])=>{let u=c.clone(),d=l.clone(),f=u.pop();return f?f.suit!=="coins"?Be({error:`Event card is ${f.suit} while coins where expected`}):(d.push(f),this.logger.collect(f),yc({event:u,gold:d})):Be({error:"No event card"})}))),this.combat$=le(()=>this.actions$.pipe(ue(kn),y(()=>No()))),this.combatStarted$=le(()=>this.actions$.pipe(ue(No),y(()=>vc()))),this.draw$=le(()=>this.actions$.pipe(ue(xc),ge(this.store.select(Wt),this.store.select(Bo)),y(([,c,l])=>{let u=c.clone(),d=l.clone();({dungeon:d,event:u}=this.reshuffle(d,u));let f=d.pop();return f?(u.push(f),this.logger.draw(f),_c({event:u,dungeon:d})):Be({error:"Dungeon deck is empty"})}))),this.keepSelectedAction$=le(()=>this.actions$.pipe(ue(kc),ge(this.store.select(Wt),this.store.select(zo),this.store.select(Pn)),y(([{action:c},l,u,d])=>{let f=d.clone();f.removeAll(c=="keep"?u:k.empty());let h=d.clone();h.removeAll(f);let g=l.clone();return g.pushAll(f),this.logger.keepSelectedAction(h,f),Pc({heroAction:h,event:g})}))),this.newGame$=le(()=>this.actions$.pipe(ue(hr),J(()=>this.menuFacade.newGame(!1)),ie(()=>!1))),this.resolveCard$=le(()=>this.actions$.pipe(ue(Lo),ge(this.store.select(wi),this.store.select(Bc)),y(([,c,l])=>{if(!l||!c)return Be({error:`Invalid state for action ${Lo.type}: dice=${l}, eventCard=${c}`});if(l===1)return bc({eventCard:c});if(l===6)return fi({eventCard:c});let u=c?.value;return l>=u?fi({eventCard:c}):bc({eventCard:c})}))),this.resolveCardFailure$=le(()=>this.actions$.pipe(ue(bc),y(({eventCard:c})=>{let l=c.suit,u=0;return(l==="clubs"||l=="cups")&&(u=-Math.floor(c.value/2)),this.logger.resolveCardFailure(c,u),hi({hpDelta:u})}))),this.resolveCardSuccess$=le(()=>this.actions$.pipe(ue(fi),y(({eventCard:c})=>{let l=c.suit,u=0;return l==="cups"&&(u=c.value),this.logger.resolveCardSuccess(c,u),hi({hpDelta:u})}))),this.resolvedCard$=le(()=>this.actions$.pipe(ue(hi),ge(this.store.select(Ci)),J(([,c])=>c&&this.logger.resolvedCard(c.hp)),ie(([,c])=>c?.hp===0),y(()=>$o()))),this.resolveCombat$=le(()=>this.actions$.pipe(ue(Po),ge(this.store.select(Vo),this.store.select(hn),this.store.select(pr),this.store.select(Ho),this.store.select(Uo),this.store.select(fh),this.store.select(Wt),this.store.select(Pn),this.store.select(Di),this.store.select(Uc)),y(([{bribed:c},l,u,d,f,h,g,_,b,A,X])=>{if(!d)return Be({error:`Invalid state for action ${Po.type}: enemy=${d}`});let de=l.clone();de.push(d.card);let U=h.clone(),ee=g.clone();u==="normal"&&(U.pushAll(ee),ee.removeAll(ee));let q=A.clone(),Oe=X.clone();if(d.card.value===10){let Ce=new x(1,d.card.suit);Oe.remove(Ce),q.push(Ce)}let Ne=_.clone();return Ne.pushAll(f),ui({aid:de,bribed:c,event:Ne,enemyAid:U,enemyAidBuffer:ee,heroAction:b,obtainedRelic:q,relic:Oe})}))),this.resolvedCombatDiscardAction$=le(()=>this.actions$.pipe(ue(ui),ge(this.store.select(Pn)),ie(([{bribed:c},l])=>!c&&l.length>0),y(()=>Nc()))),this.resolvedCombatGameWon$=le(()=>this.actions$.pipe(ue(ui),ge(this.store.select(_i),this.store.select(hn),this.store.select(Di)),ie(([,c,l,u])=>l=="easy"&&u.length===4||l=="normal"&&c.length===0),y(()=>Fc()))),this.reveal$=le(()=>this.actions$.pipe(ue(ch),ge(this.store.select(_i),this.store.select(hn)),y(([,c,l])=>{let u=c.clone(),d=u.pop();if(!d)return Be({error:"No enemy found"});let f=l==="normal"?d.value:6,h=new ci(d,f,f);return this.logger.reveal(h),Cc({character:u,enemy:h})}))),this.revealedOk$=le(()=>this.actions$.pipe(ue(Rc),ge(this.store.select(pr)),y(([,c])=>c?c.card.value===10?kn():Po({bribed:!0}):Be({error:"No enemy preview found"})))),this.skip$=le(()=>this.actions$.pipe(ue(Oc),ge(this.store.select(wi)),y(([,c])=>c?(this.logger.skip(c),wc()):Be({error:`Invalid state for action ${mi.type}: eventCard=${c}`})))),this.spend$=le(()=>this.actions$.pipe(ue(mi),ge(this.store.select(wi),this.store.select(Wt),this.store.select(Go),this.store.select(Hc)),y(([,c,l,u,d])=>{if(!c)return Be({error:`Invalid state for action ${mi.type}: eventCard=${c}`});let f=d.value,h=l.clone(),g=u.clone();return d.cards.forEach(_=>{g.remove(_),h.push(_)}),di({eventCard:c,event:h,gold:g,selectedGoldValue:f})}))),this.spent$=le(()=>this.actions$.pipe(ue(di),ge(this.store.select(hn)),y(([{eventCard:c,selectedGoldValue:l},u])=>{let d=c.suit;if(d==="clubs"||d==="cups")return fi({eventCard:c});let f=c.value;return d==="swords"&&l===f?fi({eventCard:c}):u=="easy"&&d==="swords"&&l>f?ch():Be({error:`Invalid state for action ${di.type}: eventCardSuit=${d}, selectedGoldValue=${l}`})}))),this.start$=le(()=>this.actions$.pipe(ue(hr),ge(this.tutorialFacade.index$),ie(([,c])=>!this.DEBUG&&c===void 0),J(()=>this.menuFacade.about(!1)),y(([{difficulty:c}])=>{let l=k.full();l.shuffle();let u=new ci(l.popPlayerCard(),12,12),d=l.extractCharacterDeck(),f=l.extractRelicDeck();return vi({decks:{dungeon:l,character:d,relic:f},difficulty:c,hero:u})}))),this.startDebug$=le(()=>this.actions$.pipe(ue(hr),ie(()=>this.DEBUG),J(()=>this.menuFacade.about(!1)),y(({difficulty:c})=>{let l=new ci(new x(8,"swords"),12,12),u=k.empty();u.push(new x(8,"clubs")),u.push(new x(10,"clubs")),u.push(new x(10,"swords")),u.push(new x(10,"coins")),u.push(new x(10,"cups")),u.push(new x(9,"clubs")),u.push(new x(8,"coins")),u.push(new x(9,"coins")),u.push(new x(8,"cups")),u.push(new x(9,"cups")),u.push(new x(9,"swords"));let d=k.empty();d.push(new x(1,"clubs")),d.push(new x(1,"coins")),d.push(new x(1,"cups")),d.push(new x(1,"swords")),u.reverse();let f=k.empty();for(let g=0;g<4;g++)f.push(new x(2,"swords")),f.push(new x(7,"swords")),f.push(new x(6,"swords")),f.push(new x(5,"swords")),f.push(new x(2,"cups")),f.push(new x(2,"clubs")),f.push(new x(2,"coins")),f.push(new x(3,"swords")),f.push(new x(2,"clubs")),f.push(new x(6,"coins")),f.push(new x(7,"coins")),f.push(new x(2,"clubs")),f.push(new x(3,"coins")),f.push(new x(4,"coins"));return f.reverse(),vi({decks:{dungeon:f,character:u,relic:d},difficulty:c,hero:l})}))),this.startTutorial$=le(()=>this.actions$.pipe(ue(hr),ge(this.tutorialFacade.index$),ie(([,c])=>c!==void 0),J(()=>this.menuFacade.about(!1)),y(()=>{let c=new ci(new x(9,"swords"),12,12),l=k.empty();l.push(new x(10,"clubs")),l.push(new x(8,"cups")),l.push(new x(10,"swords")),l.reverse();let u=k.empty();u.push(new x(1,"clubs")),u.push(new x(1,"coins")),u.push(new x(1,"cups")),u.push(new x(1,"swords"));let d=k.empty();return d.push(new x(3,"coins")),d.push(new x(2,"coins")),d.push(new x(7,"clubs")),d.push(new x(4,"cups")),d.push(new x(3,"swords")),d.push(new x(4,"coins")),d.push(new x(6,"clubs")),d.push(new x(3,"clubs")),d.push(new x(6,"swords")),d.push(new x(4,"clubs")),d.push(new x(5,"swords")),d.push(new x(4,"swords")),d.push(new x(4,"clubs")),d.push(new x(4,"coins")),d.push(new x(3,"coins")),d.push(new x(2,"cups")),d.push(new x(7,"cups")),d.push(new x(5,"coins")),d.push(new x(5,"swords")),d.push(new x(6,"coins")),d.push(new x(7,"coins")),d.push(new x(4,"swords")),d.push(new x(2,"swords")),d.push(new x(2,"cups")),d.push(new x(3,"clubs")),d.push(new x(2,"coins")),d.push(new x(3,"coins")),d.push(new x(4,"clubs")),d.push(new x(7,"swords")),d.push(new x(6,"clubs")),d.push(new x(5,"coins")),d.push(new x(3,"cups")),d.push(new x(2,"clubs")),d.push(new x(2,"clubs")),d.push(new x(2,"clubs")),d.reverse(),vi({decks:{dungeon:d,character:l,relic:u},difficulty:"easy",hero:c})}))),this.throwDice$=le(()=>this.actions$.pipe(ue(Tc),ge(this.tutorialFacade.index$),y(([,c])=>{let u=c!==void 0?5:Math.floor(Math.random()*6+1);return this.logger.throwDice(u),Dc({dice:u})}))),this.turnStart$=le(()=>this.actions$.pipe(ue(vc),ge(this.store.select(Bo),this.store.select(Wt),this.store.select(Pn)),y(([,c,l,u])=>{let d=c.clone(),f=l.clone(),h=u.clone(),g=3-h.length;for(let b=0;b<g;b++)({dungeon:d,event:f}=this.reshuffle(d,f)),h.push(d.pop());let _=k.empty();for(let b=0;b<3;b++)({dungeon:d,event:f}=this.reshuffle(d,f)),_.push(d.pop());return ko({dungeon:d,event:f,enemyAction:_,heroAction:h})}))),this.turnStarted$=le(()=>this.actions$.pipe(ue(ko),y(()=>ur())))}};e.\u0275fac=function(i){return new(i||e)(D(ai),D(He),D(qt),D(Kc),D(Ze))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var ct=(()=>{let e=class e{constructor(){this.store=C(Ze),this.aidDeck$=this.store.select(Vo),this.aidSelectedDeck$=this.store.select(jc),this.catacombDeck$=this.store.select($c),this.characterDeck$=this.store.select(_i),this.combatAction$=this.store.select(Vc),this.dice$=this.store.select(Bc),this.difficulty$=this.store.select(hn),this.dungeonDeck$=this.store.select(Bo),this.enemy$=this.store.select(pr),this.enemyAction$=this.store.select(Ho),this.enemyAid$=this.store.select(Uo),this.eventCard$=this.store.select(wi),this.eventDeck$=this.store.select(Wt),this.error$=this.store.select(Hy),this.goldDeck$=this.store.select(Go),this.hero$=this.store.select(Ci),this.heroAction$=this.store.select(Pn),this.heroActionSelectedDeck$=this.store.select(zo),this.goldSelectedDeck$=this.store.select(Hc),this.obtainedRelicDeck$=this.store.select(Di),this.relicDeck$=this.store.select(Uc),this.status$=this.store.select(Uy)}aidSelected(n){this.store.dispatch(Ec({aidSelected:n}))}challenge(){this.store.dispatch(Ic())}collect(){this.store.dispatch(Sc())}combatStart(){this.store.dispatch(kn())}draw(){this.store.dispatch(xc())}fight(n){this.store.dispatch(pi({suit:n}))}goldSelected(n){this.store.dispatch(Mc({goldSelected:n}))}heroActionSelected(n){this.store.dispatch(Ac({heroActionSelected:n}))}keepSelectedAction(n){this.store.dispatch(kc({action:n}))}resolveCardByDice(){this.store.dispatch(Lo())}revealedOk(){this.store.dispatch(Rc())}reset(){this.store.dispatch(Lc())}spend(){this.store.dispatch(mi())}skip(){this.store.dispatch(Oc())}start(n){this.store.dispatch(hr({difficulty:n}))}throwDice(){this.store.dispatch(Tc())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function tM(t,e){if(t&1){let r=De();p(0,"button",10),L("click",function(){ve(r);let i=M();return ye(i.onDraw())}),Ie(),p(1,"svg",11),R(2,"path",12),m(),Pe(),p(3,"u"),w(4,"D"),m(),w(5,"raw "),m()}}function nM(t,e){if(t&1){let r=De();p(0,"button",13),L("click",function(){ve(r);let i=M();return ye(i.onCollect())}),Ie(),p(1,"svg",14),R(2,"path",15)(3,"path",16),m(),Pe(),p(4,"u"),w(5,"C"),m(),w(6,"ollect "),m()}}function rM(t,e){if(t&1){let r=De();p(0,"button",17),L("click",function(){ve(r);let i=M();return ye(i.onSkip())}),Ie(),p(1,"svg",18),R(2,"path",19)(3,"path",20),m(),Pe(),p(4,"u"),w(5,"S"),m(),w(6,"kip "),m()}}function iM(t,e){if(t&1){let r=De();p(0,"button",21),L("click",function(){ve(r);let i=M();return ye(i.onDice())}),Ie(),p(1,"svg",22),R(2,"path",23)(3,"path",24),m(),Pe(),p(4,"u"),w(5,"D"),m(),w(6,"ice "),m()}}function oM(t,e){if(t&1){let r=De();p(0,"button",25),L("click",function(){ve(r);let i=M();return ye(i.onDiceFeedback())}),p(1,"u"),w(2,"D"),m(),w(3),$(4,"async"),m()}if(t&2){let r=M();S(3),Dt("ice gave a ",V(4,1,r.dice$),"")}}function sM(t,e){if(t&1){let r=De();p(0,"button",26),L("click",function(){ve(r);let i=M();return ye(i.onCombat())}),Ie(),p(1,"svg",27),R(2,"path",28),m(),Pe(),p(3,"u"),w(4,"C"),m(),w(5,"ombat "),m()}}function aM(t,e){if(t&1){let r=De();p(0,"button",29),$(1,"async"),L("click",function(){ve(r);let i=M();return ye(i.onKeep("keep"))}),Ie(),p(2,"svg",11),R(3,"path",12),m(),w(4," Keep "),Pe(),p(5,"u"),w(6,"s"),m(),w(7,"elected "),m(),p(8,"button",30),L("click",function(){ve(r);let i=M();return ye(i.onKeep("discard"))}),Ie(),p(9,"svg",31),R(10,"path",32),m(),Pe(),p(11,"u"),w(12,"D"),m(),w(13,"iscard all "),m()}if(t&2){let r=M();te("disabled",V(1,1,r.disableKeep$))}}function cM(t,e){if(t&1){let r=De();p(0,"button",33),$(1,"async"),L("click",function(){ve(r);let i=M();return ye(i.onSpend())}),Ie(),p(2,"svg",34),R(3,"path",35),m(),Pe(),p(4,"u"),w(5,"B"),m(),w(6),$(7,"async"),m()}if(t&2){let r=M();te("disabled",V(1,2,r.disableSpend$)),S(6),Dt("",V(7,4,r.spendCaption$)," ")}}function lM(t,e){if(t&1){let r=De();p(0,"button",36),L("click",function(){ve(r);let i=M();return ye(i.onRevealedOk())}),Ie(),p(1,"svg",37),R(2,"path",38),m(),Pe(),p(3,"u"),w(4,"C"),m(),w(5,"ombat "),m()}}function uM(t,e){if(t&1){let r=De();p(0,"button",39),L("click",function(){ve(r);let i=M();return ye(i.onRevealedOk())}),Ie(),p(1,"svg",27),R(2,"path",28),m(),Pe(),p(3,"u"),w(4,"A"),m(),w(5,"ccept aid "),m()}}function dM(t,e){if(t&1){let r=De();p(0,"button",41),L("click",function(){let i=ve(r).$implicit,o=M(3);return ye(o.onPlayAction(i.suit))}),m()}if(t&2){let r=e.$implicit,n=M(),i=M(),o=M();te("id","button-play-"+r.suit)("disabled",r.disabled)("innerHTML",o.caption(r,i,n),ba)}}function fM(t,e){if(t&1&&(Mn(0,dM,1,3,"button",40,Tn),$(2,"async")),t&2){let r=M(2);An(V(2,0,r.playActions$))}}function hM(t,e){if(t&1&&(O(0,fM,3,2),$(1,"async")),t&2){let r,n=M();P(0,(r=V(1,1,n.obtainedRelic$))?0:-1,r)}}var e_=(()=>{let e=class e{constructor(n){this.gameFacade=n,this.playActionShortcuts={clubs:"l",coins:"o",cups:"u",swords:"w"},this.aidSelected$=this.gameFacade.aidSelectedDeck$,this.heroAction$=this.gameFacade.heroAction$,this.heroActionSelected$=this.gameFacade.heroActionSelectedDeck$,this.destroy$=new H,this.dice$=this.gameFacade.dice$,this.difficulty$=this.gameFacade.difficulty$,this.enemy$=this.gameFacade.enemy$,this.goldSelected$=this.gameFacade.goldSelectedDeck$,this.eventCard$=this.gameFacade.eventCard$,this.obtainedRelic$=this.gameFacade.obtainedRelicDeck$,this.status$=this.gameFacade.status$,this.disableKeep$=this.heroActionSelected$.pipe(y(i=>!i.length)),this.disableSpend$=Ge([this.difficulty$,this.eventCard$,this.goldSelected$]).pipe(y(([i,o,s])=>o?i==="normal"&&o.suit==="swords"?s.value<2*o.value:s.value<o.value:!0)),this.showDraw$=this.status$.pipe(y(i=>i===re.CRAWL_READY)),this.showCollect$=Ge([this.eventCard$,this.status$]).pipe(y(([i,o])=>o===re.CRAWL_ACT&&i?.suit==="coins")),this.showCombat$=Ge([this.eventCard$,this.status$]).pipe(y(([i,o])=>o===re.CRAWL_ACT&&i?.suit==="swords")),this.showDice$=Ge([this.eventCard$,this.status$]).pipe(y(([i,o])=>o===re.CRAWL_ACT&&(i?.suit==="clubs"||i?.suit==="cups"))),this.showDiceFeedback$=this.status$.pipe(y(i=>i===re.RESOLVE_THREW_DICE)),this.showKeep$=this.status$.pipe(y(i=>i===re.DISCARD_ACTION)),this.showSkip$=Ge([this.eventCard$,this.status$]).pipe(y(([i,o])=>o===re.CRAWL_ACT&&i?.suit==="cups")),this.mapSelectedActionToSuit=i=>Array.from(new Set(i.cards.map(o=>o.suit)).values()).sort(),this.mapSuitToButton=(i,o,s,a)=>{let c=o.length&&!s.length,l=i.peek()?.suit,u=a&&l?l!==a:!1,d=fn[a].replace(/^(.)(.)(.*)$/,"$1<u>$2</u>$3");return{disabled:c||u,caption:`Play ${d}`,shortcut:this.playActionShortcuts[a],suit:a}},this.mapEmptyButtons=(i,o)=>i.length?o:[{disabled:!1,caption:"Play",shortcut:"c"}],this.playActions$=Ge([this.aidSelected$,this.heroAction$,this.heroActionSelected$,this.status$]).pipe(y(([i,o,s,a])=>({aidSelected:i,heroAction:o,heroActionSelected:s,status:a})),y(({aidSelected:i,heroAction:o,heroActionSelected:s,status:a})=>({aidSelected:i,heroAction:o,heroActionSelected:s,selectedSuits:this.mapSelectedActionToSuit(s),status:a})),y(({aidSelected:i,heroAction:o,heroActionSelected:s,selectedSuits:a,status:c})=>({heroAction:o,buttons:a.map(l=>this.mapSuitToButton(i,o,s,l)),status:c})),y(({heroAction:i,buttons:o,status:s})=>({buttons:this.mapEmptyButtons(i,o),status:s})),y(({buttons:i,status:o})=>o===re.COMBAT?i:[])),this.playActionsShortcuts$=this.playActions$.pipe(y(i=>Object.fromEntries(i.map(({shortcut:o,suit:s})=>[o,s])))),this.showRevealAid$=Ge([this.enemy$,this.status$]).pipe(y(([i,o])=>({enemyValue:i?.card.value??"",status:o})),y(({enemyValue:i,status:o})=>o===re.ENEMY_REVEALED&&i!==10)),this.showRevealCombat$=Ge([this.enemy$,this.status$]).pipe(y(([i,o])=>({enemyValue:i?.card.value??"",status:o})),y(({enemyValue:i,status:o})=>o===re.ENEMY_REVEALED&&i===10)),this.showShortcuts$=rt(gt(document,"keydown"),gt(document,"keyup")).pipe($e(this.destroy$),y(i=>i.shiftKey)),this.showSpend$=Ge([this.eventCard$,this.status$]).pipe(y(([i,o])=>o===re.CRAWL_ACT&&i?.suit!=="coins")),this.spendCaption$=this.eventCard$.pipe(y(i=>i?.suit==="swords"?"ribe":"uy"))}caption(n,i,o){if(!n.suit)return n.caption;let s=o.filterBySuit(n.suit).length+i.filterBySuit(n.suit).length,a=s?` (+${s})`:"";return`${n.caption}${a}`}onDraw(){this.gameFacade.draw()}onCollect(){this.gameFacade.collect()}onCombat(){this.gameFacade.challenge()}onDice(){this.gameFacade.throwDice()}onDiceFeedback(){this.gameFacade.resolveCardByDice()}onPlayAction(n){this.gameFacade.fight(n)}onKeep(n){this.gameFacade.keepSelectedAction(n)}onRevealedOk(){this.gameFacade.revealedOk()}onSpend(){this.gameFacade.spend()}onSkip(){this.gameFacade.skip()}ngOnInit(){gt(document,"keydown").pipe($e(this.destroy$),y(n=>n.key.toLocaleLowerCase()),ie(n=>/^[a-z]$/.test(n)),ge(this.disableKeep$,this.disableSpend$,this.playActions$,this.playActionsShortcuts$,this.showCollect$,this.showCombat$,this.showDice$,this.showDiceFeedback$,this.showDraw$,this.showKeep$,this.showRevealAid$,this.showRevealCombat$,this.showSpend$,this.showSkip$),J(([n,i,o,s,a,c,l,u,d,f,h,g,_,b,A])=>{switch(n){case"a":g&&this.onRevealedOk();break;case"b":b&&!o&&this.onSpend();break;case"c":l&&this.onCombat(),c&&this.onCollect(),_&&this.onRevealedOk(),s.length===1&&this.onPlayAction(s[0].suit);break;case"d":f&&this.onDraw(),u&&this.onDice(),d&&this.onDiceFeedback(),h&&this.onKeep("discard");break;case"k":h&&!i&&this.onKeep("keep");break;case"s":h&&!i&&this.onKeep("keep"),A&&this.onSkip();break}a[n]&&this.onPlayAction(a[n])})).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(Q(ct))},e.\u0275cmp=Y({type:e,selectors:[["app-action-bar"]],standalone:!0,features:[K],decls:24,vars:37,consts:[[1,"action-bar"],["type","button","id","button-draw"],["type","button","id","button-collect"],["type","button","id","button-skip"],["type","button","id","button-dice"],["type","button","id","button-dice-fb"],["type","button","id","button-combat"],["type","button","id","button-spend",3,"disabled"],["type","button","id","button-reveal-combat"],["type","button","id","button-accept-aid"],["type","button","id","button-draw",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-index"],["d","M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435l.106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1M8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5 5 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.6 2.6 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046zm2.094 2.025"],["type","button","id","button-collect",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-piggy-bank"],["d","M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.138-1.496A6.6 6.6 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.6 7.6 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962"],["fill-rule","evenodd","d","M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069q0-.218-.02-.431c.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a1 1 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.74.74 0 0 0-.375.562c-.024.243.082.48.32.654a2 2 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595M2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.6 6.6 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.65 4.65 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393m12.621-.857a.6.6 0 0 1-.098.21l-.044-.025c-.146-.09-.157-.175-.152-.223a.24.24 0 0 1 .117-.173c.049-.027.08-.021.113.012a.2.2 0 0 1 .064.199"],["type","button","id","button-skip",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-fast-forward"],["d","M6.804 8 1 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696z"],["d","M14.804 8 9 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696z"],["type","button","id","button-dice",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dice-5"],["d","M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z"],["d","M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"],["type","button","id","button-dice-fb",3,"click"],["type","button","id","button-combat",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lightning-charge"],["d","M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41z"],["type","button","id","button-keep",3,"click","disabled"],["type","button","id","button-discard",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"],["type","button","id","button-spend",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-currency-dollar"],["d","M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"],["type","button","id","button-reveal-combat",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-thumbs-up"],["d","M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2 2 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a10 10 0 0 0-.443.05 9.4 9.4 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a9 9 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.2 2.2 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.9.9 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"],["type","button","id","button-accept-aid",3,"click"],["type","button",3,"id","disabled","innerHTML"],["type","button",3,"click","id","disabled","innerHTML"]],template:function(i,o){if(i&1&&(p(0,"div",0),$(1,"async"),O(2,tM,6,0,"button",1),$(3,"async"),O(4,nM,7,0,"button",2),$(5,"async"),O(6,rM,7,0,"button",3),$(7,"async"),O(8,iM,7,0,"button",4),$(9,"async"),O(10,oM,5,3,"button",5),$(11,"async"),O(12,sM,6,0,"button",6),$(13,"async"),O(14,aM,14,3),$(15,"async"),O(16,cM,8,6,"button",7),$(17,"async"),O(18,lM,6,0,"button",8),$(19,"async"),O(20,uM,6,0,"button",9),$(21,"async"),O(22,hM,2,3),$(23,"async"),m()),i&2){let s;ft("show-shortcuts",V(1,13,o.showShortcuts$)===!0),S(2),P(2,V(3,15,o.showDraw$)?2:-1),S(2),P(4,V(5,17,o.showCollect$)?4:-1),S(2),P(6,V(7,19,o.showSkip$)?6:-1),S(2),P(8,V(9,21,o.showDice$)?8:-1),S(2),P(10,V(11,23,o.showDiceFeedback$)?10:-1),S(2),P(12,V(13,25,o.showCombat$)?12:-1),S(2),P(14,V(15,27,o.showKeep$)?14:-1),S(2),P(16,V(17,29,o.showSpend$)?16:-1),S(2),P(18,V(19,31,o.showRevealCombat$)?18:-1),S(2),P(20,V(21,33,o.showRevealAid$)?20:-1),S(2),P(22,(s=V(23,35,o.aidSelected$))?22:-1,s)}},dependencies:[bt],styles:["[_nghost-%COMP%]{position:fixed;bottom:0;left:50%;transform:translate(-50%);padding:.25rem .25rem .2rem;background-color:var(--rd-bg-dark);border-radius:.5rem .5rem 0 0;box-shadow:var(--rd-shadow)}button[_ngcontent-%COMP%]:not(:disabled):not(:hover){border-color:#5a5}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sc-only[_ngcontent-%COMP%]{display:none}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{text-decoration:none}.action-bar.show-shortcuts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sc-only[_ngcontent-%COMP%]{display:inline}.action-bar.show-shortcuts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{text-decoration:underline}"]});let t=e;return t})();function pM(t,e){t&1&&(p(0,"div",0)(1,"span",1),w(2,"(hidden)"),m()())}function mM(t,e){if(t&1&&(p(0,"span",3),w(1,"["),p(2,"u"),w(3),m(),w(4,"]"),m()),t&2){let r=M(2);S(3),ht(r.shortcut)}}function gM(t,e){if(t&1&&(p(0,"div",2)(1,"span",1),w(2),m(),O(3,mM,5,1,"span",3),m()),t&2){let r=M();ft("selected",r.selected),te("ngClass",r.css),S(2),Md("",r.card.value," ",r.suit,"",r.selected?" (selected)":"",""),S(),P(3,r.shortcut?3:-1)}}var Zt=(()=>{let e=class e{constructor(){this.SuitLabels=fn,this.selected=!1,this.shortcut=void 0,this.cover=!1}get css(){return`card c${this.card.value} c${this.card.suit} ${this.selected}`}get suit(){return this.SuitLabels[this.card.suit]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-card"]],inputs:{card:"card",selected:"selected",shortcut:"shortcut",cover:"cover"},standalone:!0,features:[K],decls:2,vars:1,consts:[[1,"card","covered"],[1,"tooltip"],[3,"ngClass"],[1,"shortcut"]],template:function(i,o){i&1&&O(0,pM,3,0,"div",0)(1,gM,4,7),i&2&&P(0,o.cover?0:1)},dependencies:[$a],styles:['.card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-image:url("./media/neapolitan-DHTQWB2X.jpg");background-size:1000%;border:1px solid black;border-radius:5%/2.91665%;aspect-ratio:.58333;margin:.5em}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;padding:.2em;border:1px solid #ddd;border-radius:.2em;box-shadow:#0002 .2em .2em .4em;color:#000}.card.covered[_ngcontent-%COMP%]{background-image:url("./media/neapolitan-back-Z342O2IK.jpg");background-size:100%}.card.selected[_ngcontent-%COMP%]{border-color:#ff0;box-shadow:#ff0 0 0 .4em}.card[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{display:initial}.c1[_ngcontent-%COMP%]{background-position-x:0}.c2[_ngcontent-%COMP%]{background-position-x:11.11111%}.c3[_ngcontent-%COMP%]{background-position-x:22.22222%}.c4[_ngcontent-%COMP%]{background-position-x:33.33333%}.c5[_ngcontent-%COMP%]{background-position-x:44.44444%}.c6[_ngcontent-%COMP%]{background-position-x:55.55555%}.c7[_ngcontent-%COMP%]{background-position-x:66.66666%}.c8[_ngcontent-%COMP%]{background-position-x:77.77777%}.c9[_ngcontent-%COMP%]{background-position-x:88.88888%}.c10[_ngcontent-%COMP%]{background-position-x:100%}.cgolds[_ngcontent-%COMP%]{background-position-y:0%}.ccups[_ngcontent-%COMP%]{background-position-y:33%}.cclubs[_ngcontent-%COMP%]{background-position-y:66%}.cswords[_ngcontent-%COMP%]{background-position-y:100%}']});let t=e;return t})();function vM(t,e){if(t&1){let r=De();p(0,"app-card",2),L("click",function(){let i=ve(r).$implicit,o=M();return ye(o.onToggle(i))}),m()}if(t&2){let r=e.$implicit,n=M();te("card",r)("selected",n.isSelected(r))("shortcut",n.getShortcut(n.deck,r))}}var Ii=(()=>{let e=class e{constructor(){this.destroy$=new H,this.shortcutKeys="",this.deck=k.empty(),this.selectedDeck=k.empty(),this.selectCards=new we,this.showShortcuts=new Me(!1)}set shortcuts(n){n===!0?this.shortcutKeys="1234567890":n==="secondary"?this.shortcutKeys="qwertyuiop":this.shortcutKeys=""}isSelected(n){return this.selectedDeck.includes(n)}ngOnInit(){this.initShortcuts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onToggle(n){let i=this.selectedDeck.clone();this.isSelected(n)?i.remove(n):i.push(n),this.selectCards.emit(i)}initShortcuts(){let n=i=>{let o=i.key.toLocaleLowerCase();return new RegExp(`^[${this.shortcutKeys}]$`).test(o)?this.shortcutKeys.indexOf(o):-1};rt(gt(document,"keydown"),gt(document,"keyup")).pipe($e(this.destroy$),y(i=>i.shiftKey),J(i=>this.showShortcuts.next(i))).subscribe(),gt(document,"keydown").pipe($e(this.destroy$),ie(()=>this.shortcutKeys.length>0),y(i=>n(i)),ie(i=>i>=0&&i<this.deck.length),J(i=>this.onToggle(this.deck.cards[i]))).subscribe()}getShortcut(n,i){if(!this.showShortcuts.value)return"";let o=n.cards.findIndex(s=>s.equals(i));return o>=0&&o<this.shortcutKeys.length?this.shortcutKeys[o]:""}get selectedCards(){return this.selectedDeck?.cards??[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-selectable-deck"]],inputs:{deck:"deck",shortcuts:"shortcuts",selectedDeck:"selectedDeck"},outputs:{selectCards:"selectCards"},standalone:!0,features:[K],decls:3,vars:0,consts:[[1,"deck"],[3,"card","selected","shortcut"],[3,"click","card","selected","shortcut"]],template:function(i,o){i&1&&(p(0,"div",0),Mn(1,vM,1,3,"app-card",1,Tn),m()),i&2&&(S(),An(o.deck.cards))},dependencies:[Zt],styles:[".deck[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]});let t=e;return t})();var t_=(()=>{let e=class e{constructor(){this.actionSelected=k.empty(),this.deck=k.empty(),this.enable=!1,this.selectedDeck=k.empty(),this.selectCards=new we}onSelect(n){if(!this.enable)return;let i=this.actionSelected.cards.map(a=>a.suit),s=n.cards.map(a=>a.suit).reduce((a,c)=>a&&i.includes(c),!0);i.length&&!s||this.selectCards.emit(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-aid-deck"]],inputs:{actionSelected:"actionSelected",deck:"deck",enable:"enable",selectedDeck:"selectedDeck"},outputs:{selectCards:"selectCards"},standalone:!0,features:[K],decls:1,vars:3,consts:[[3,"selectCards","deck","shortcuts","selectedDeck"]],template:function(i,o){i&1&&(p(0,"app-selectable-deck",0),L("selectCards",function(a){return o.onSelect(a)}),m()),i&2&&te("deck",o.deck)("shortcuts","secondary")("selectedDeck",o.selectedDeck)},dependencies:[Ii]});let t=e;return t})();function yM(t,e){if(t&1&&R(0,"app-card",0),t&2){let r=M();te("card",r.character.card)}}var n_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-character"]],inputs:{character:"character"},standalone:!0,features:[K],decls:1,vars:1,consts:[[3,"card"]],template:function(i,o){i&1&&O(0,yM,1,1,"app-card",0),i&2&&P(0,o.character?0:-1)},dependencies:[Zt]});let t=e;return t})();function _M(t,e){if(t&1&&R(0,"app-card",1),t&2){let r=e.$implicit,n=e.$index,i=M(2);te("card",r)("cover",i.isCovered(n))}}function wM(t,e){if(t&1&&(p(0,"div",0),Mn(1,_M,1,2,"app-card",1,Tn),m()),t&2){let r=M();S(),An(r.deck.cards)}}function CM(t,e){if(t&1&&R(0,"app-card",1),t&2){let r=M(2);te("card",e)("cover",r.cover)}}function DM(t,e){if(t&1&&O(0,CM,1,2,"app-card",1),t&2){let r,n=M();P(0,(r=n.deck.peek())?0:-1,r)}}var r_=(()=>{let e=class e{constructor(){this.deck=k.empty(),this.cover=!1,this.spread=!1}isCovered(n){return this.cover&&n<this.deck.length-1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-deck"]],inputs:{deck:"deck",cover:"cover",spread:"spread"},standalone:!0,features:[K],decls:2,vars:1,consts:[[1,"deck"],[3,"card","cover"]],template:function(i,o){i&1&&O(0,wM,3,0,"div",0)(1,DM,1,1),i&2&&P(0,o.spread?0:1)},dependencies:[Zt],styles:[".deck[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}"]});let t=e;return t})();var i_=(()=>{let e=class e{constructor(){this.SuitLabel=fn,this.aidSelected=k.empty(),this.deck=k.empty(),this.enable=!1,this.selectedDeck=k.empty(),this.shortcuts=!0,this.selectCards=new we}onSelect(n){if(!this.enable)return;let i=this.selectedDeck.peek()?.value;if(i){let o=n.cards.find(s=>s.value!==i);o&&(n=k.empty(),n.push(o))}if(this.aidSelected.length&&n.length===1){let o=this.aidSelected.peek()?.suit;if(n.cards.find(a=>a.suit!==o))return}this.selectCards.emit(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-hero-action-deck"]],inputs:{aidSelected:"aidSelected",deck:"deck",enable:"enable",selectedDeck:"selectedDeck",shortcuts:"shortcuts"},outputs:{selectCards:"selectCards"},standalone:!0,features:[K],decls:1,vars:3,consts:[[3,"selectCards","deck","shortcuts","selectedDeck"]],template:function(i,o){i&1&&(p(0,"app-selectable-deck",0),L("selectCards",function(a){return o.onSelect(a)}),m()),i&2&&te("deck",o.deck)("shortcuts",o.shortcuts)("selectedDeck",o.selectedDeck)},dependencies:[Ii]});let t=e;return t})();function bM(t,e){if(t&1&&(p(0,"div")(1,"div"),w(2,"Enemy relic:"),m(),R(3,"app-card",2),m()),t&2){let r=M(2);S(3),te("card",r.relic)("selected",r.relicBonus!==null)}}function EM(t,e){if(t&1&&R(0,"app-card",2),t&2){let r=e.$implicit,n=M(3);te("card",r)("selected",r.suit===(n.enemyActionSelected==null?null:n.enemyActionSelected.suit))}}function IM(t,e){if(t&1&&(p(0,"div")(1,"div"),w(2,"Enemy aids:"),m(),Mn(3,EM,1,2,"app-card",2,Tn),m()),t&2){let r=M(2);S(3),An(r.aid.cards)}}function SM(t,e){t&1&&w(0," The enemy is not benefiting any bonus. ")}function xM(t,e){if(t&1&&(p(0,"div",1),O(1,bM,4,2,"div")(2,IM,5,0,"div")(3,SM,1,0),m()),t&2){let r=M();S(),P(1,r.relic?1:-1),S(),P(2,r.aid&&r.aid.length?2:-1),S(),P(3,!r.relic&&!(r.aid!=null&&r.aid.length)?3:-1)}}var o_=(()=>{let e=class e{constructor(){this.showPopup=!1}get aidBonus(){return this.aid&&this.enemyActionSelected?this.aid.filterBySuit(this.enemyActionSelected.suit):k.empty()}get relic(){return this.enemy?.card.value===10?new x(1,this.enemy.card.suit):null}get relicBonus(){return this.relic&&this.relic.suit===this.enemyActionSelected?.suit?this.relic:null}get bonus(){return this.aidBonus.length+(this.relicBonus?1:0)}get enemyActionSelected(){return this.enemyActions?.peek()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-enemy-bonus"]],inputs:{aid:"aid",enemy:"enemy",enemyActions:"enemyActions"},standalone:!0,features:[K],decls:3,vars:2,consts:[[3,"mouseenter","mouseleave"],[1,"popup"],[3,"card","selected"]],template:function(i,o){i&1&&(p(0,"div",0),L("mouseenter",function(){return o.showPopup=!0})("mouseleave",function(){return o.showPopup=!1}),w(1),m(),O(2,xM,4,3,"div",1)),i&2&&(S(),Dt("",o.bonus===0?"No":"+"+o.bonus," bonus"),S(),P(2,o.showPopup?2:-1))},dependencies:[Zt],styles:["[_nghost-%COMP%]{position:relative}.popup[_ngcontent-%COMP%]{position:fixed;margin:0;color:#000;text-align:left}"]});let t=e;return t})();function TM(t,e){if(t&1&&(p(0,"div",1)(1,"div",3)(2,"div"),w(3,"Dungeon deck"),m(),p(4,"div"),w(5),m()(),p(6,"div",4),R(7,"app-deck",17),m()()),t&2){let r=e;S(5),ht(r.length),S(2),te("deck",r)("cover",!0)}}function MM(t,e){t&1&&R(0,"app-card",5),t&2&&te("card",e)}function AM(t,e){if(t&1&&(p(0,"div",6)(1,"div",3)(2,"div"),w(3,"Character deck"),m(),p(4,"div"),w(5),m()(),p(6,"div",4),R(7,"app-deck",17),m()()),t&2){let r=e;S(5),ht(r.length),S(2),te("deck",r)("cover",!0)}}function RM(t,e){if(t&1&&(p(0,"div",7)(1,"div",3)(2,"div"),w(3,"Catacomb"),m(),p(4,"div"),w(5),m()(),p(6,"div",4),R(7,"app-deck",18),m()()),t&2){let r=e;S(5),ht(r.length),S(2),te("deck",r)}}function OM(t,e){if(t&1&&(p(0,"div",3)(1,"div"),w(2,"Enemy"),m(),p(3,"div"),R(4,"app-enemy-bonus",19),$(5,"async"),m(),p(6,"div"),w(7),m()(),p(8,"div",4),R(9,"app-character",20),m()),t&2){let r=e,n=M(),i=M(4);S(4),te("aid",V(5,5,i.enemyAid$))("enemy",r)("enemyActions",n),S(3),Dt("",r.hp," HP"),S(2),te("character",r)}}function NM(t,e){t&1&&(p(0,"div",3)(1,"div"),w(2,"Enemy"),m()())}function kM(t,e){if(t&1&&(p(0,"div",11)(1,"div",3)(2,"div"),w(3,"Your relics"),m(),p(4,"div"),w(5),m()(),p(6,"div",4),R(7,"app-deck",21),m()()),t&2){let r=e;S(5),ht(r.length),S(2),te("deck",r)("spread",!0)}}function PM(t,e){if(t&1&&(p(0,"div",3)(1,"div"),w(2,"The hero"),m(),p(3,"div",22),w(4),m()(),p(5,"div",4),R(6,"app-character",20),m()),t&2){let r=e;S(4),Dt("",r.hp," HP"),S(2),te("character",r)}}function FM(t,e){if(t&1){let r=De();p(0,"div",13)(1,"div",3)(2,"div"),w(3,"Your actions"),m()(),p(4,"div",4)(5,"app-hero-action-deck",23),$(6,"async"),L("selectCards",function(i){ve(r);let o=M(5);return ye(o.onHeroActionSelect(i))}),m()()()}if(t&2){let r=M(2),n=M(),i=M(2);S(5),te("deck",e)("enable",V(6,4,i.inCombat$)===!0)("selectedDeck",n)("aidSelected",r)}}function LM(t,e){if(t&1){let r=De();p(0,"div",13)(1,"div",3)(2,"div"),w(3,"Select actions to keep, then click continue"),m()(),p(4,"div",4)(5,"app-selectable-deck",24),L("selectCards",function(i){ve(r);let o=M(5);return ye(o.onHeroActionSelect(i))}),m()()()}if(t&2){let r=M(3);S(5),te("deck",e)("shortcuts",!0)("selectedDeck",r)}}function jM(t,e){if(t&1){let r=De();p(0,"div",14)(1,"div",3)(2,"div"),w(3,"Gold"),m(),p(4,"div"),w(5),m()(),p(6,"div",4)(7,"app-selectable-deck",24),$(8,"async"),L("selectCards",function(i){ve(r);let o=M(5);return ye(o.onGoldSelect(i))}),m()()()}if(t&2){let r=e,n=M(4),i=M();S(5),ht(r.length),S(2),te("deck",r)("shortcuts",V(8,4,i.enableGoldShortcuts$))("selectedDeck",n)}}function $M(t,e){if(t&1){let r=De();p(0,"div",15)(1,"div",3)(2,"div"),w(3,"Aid"),m(),p(4,"div"),w(5),m()(),p(6,"div",4)(7,"app-aid-deck",25),$(8,"async"),L("selectCards",function(i){ve(r);let o=M(5);return ye(o.onAidSelect(i))}),m()()()}if(t&2){let r=e,n=M(2),i=M(),o=M(2);S(5),ht(r.length),S(2),te("deck",r)("enable",V(8,5,o.inCombat$)===!0)("actionSelected",i)("selectedDeck",n)}}function VM(t,e){if(t&1&&(p(0,"div",16)(1,"div",3)(2,"div"),w(3,"Relics"),m(),p(4,"div"),w(5),m()(),p(6,"div",4),R(7,"app-deck",21),m()()),t&2){let r=e;S(5),ht(r.length),S(2),te("deck",r)("spread",!0)}}function BM(t,e){if(t&1&&(p(0,"div",0),O(1,TM,8,3,"div",1),$(2,"async"),p(3,"div",2)(4,"div",3)(5,"div"),w(6,"Event card"),m()(),p(7,"div",4),O(8,MM,1,1,"app-card",5),$(9,"async"),m()(),O(10,AM,8,3,"div",6),$(11,"async"),O(12,RM,8,2,"div",7),$(13,"async"),p(14,"div",8),O(15,OM,10,7),$(16,"async"),O(17,NM,3,0),m(),p(18,"div",9)(19,"div",3)(20,"div"),w(21,"Enemy action cards"),m()(),p(22,"div",4),R(23,"app-deck",10),m()(),O(24,kM,8,3,"div",11),$(25,"async"),p(26,"div",12),O(27,PM,7,2),$(28,"async"),m(),O(29,FM,7,6,"div",13),$(30,"async"),O(31,LM,6,3,"div",13),$(32,"async"),O(33,jM,9,6,"div",14),$(34,"async"),O(35,$M,9,7,"div",15),$(36,"async"),O(37,VM,8,3,"div",16),$(38,"async"),m()),t&2){let r,n,i,o,s,a,c,l,u,d,f,h,g=M(4);te("ngClass",g.layout),S(),P(1,(r=V(2,16,g.dungeonDeck$))?1:-1,r),S(7),P(8,(n=V(9,18,g.eventCard$))?8:-1,n),S(2),P(10,(i=V(11,20,g.characterDeck$))?10:-1,i),S(2),P(12,(o=V(13,22,g.catacombDeck$))?12:-1,o),S(3),P(15,(s=V(16,24,g.enemy$))?15:17,s),S(8),te("deck",e)("cover",!0)("spread",!0),S(),P(24,(a=V(25,26,g.obtainedRelicDeck$))?24:-1,a),S(3),P(27,(c=V(28,28,g.hero$))?27:-1,c),S(2),P(29,(l=V(30,30,g.heroActionToPlay$))?29:-1,l),S(2),P(31,(u=V(32,32,g.heroActionToDiscard$))?31:-1,u),S(2),P(33,(d=V(34,34,g.goldDeck$))?33:-1,d),S(2),P(35,(f=V(36,36,g.aidDeck$))?35:-1,f),S(2),P(37,(h=V(38,38,g.relicDeck$))?37:-1,h)}}function HM(t,e){if(t&1&&(O(0,BM,39,40,"div",0),$(1,"async")),t&2){let r,n=M(3);P(0,(r=V(1,1,n.enemyActions$))?0:-1,r)}}function UM(t,e){if(t&1&&(O(0,HM,2,3),$(1,"async")),t&2){let r,n=M(2);P(0,(r=V(1,1,n.aidSelectedDeck$))?0:-1,r)}}function GM(t,e){if(t&1&&(O(0,UM,2,3),$(1,"async")),t&2){let r,n=M();P(0,(r=V(1,1,n.heroActionSelectedDeck$))?0:-1,r)}}var s_=(()=>{let e=class e{constructor(n){this.gameFacade=n,this.layout="classic",this.status$=this.gameFacade.status$,this.aidDeck$=this.gameFacade.aidDeck$,this.aidSelectedDeck$=this.gameFacade.aidSelectedDeck$,this.catacombDeck$=this.gameFacade.catacombDeck$,this.combatAction$=this.gameFacade.combatAction$,this.characterDeck$=this.gameFacade.characterDeck$,this.dice$=this.gameFacade.dice$,this.dungeonDeck$=this.gameFacade.dungeonDeck$,this.enableGoldShortcuts$=this.status$.pipe(y(i=>i===re.CRAWL_ACT)),this.enemy$=this.gameFacade.enemy$,this.enemyActions$=this.gameFacade.enemyAction$,this.enemyAid$=this.gameFacade.enemyAid$,this.eventDeck$=this.gameFacade.eventDeck$,this.eventCard$=this.gameFacade.eventCard$,this.goldDeck$=this.gameFacade.goldDeck$,this.goldSelectedDeck$=this.gameFacade.goldSelectedDeck$,this.hero$=this.gameFacade.hero$,this.heroActions$=this.gameFacade.heroAction$,this.heroActionToDiscard$=Ge([this.status$,this.heroActions$]).pipe(y(([i,o])=>i===re.DISCARD_ACTION?o:void 0)),this.heroActionToPlay$=Ge([this.status$,this.heroActions$]).pipe(y(([i,o])=>i!==re.DISCARD_ACTION?o:void 0)),this.heroActionSelectedDeck$=this.gameFacade.heroActionSelectedDeck$,this.relicDeck$=this.gameFacade.relicDeck$,this.obtainedRelicDeck$=this.gameFacade.obtainedRelicDeck$,this.inCombat$=this.status$.pipe(y(i=>i===re.COMBAT))}onAidSelect(n){this.gameFacade.aidSelected(n)}onGoldSelect(n){this.gameFacade.goldSelected(n)}onHeroActionSelect(n){this.gameFacade.heroActionSelected(n)}};e.\u0275fac=function(i){return new(i||e)(Q(ct))},e.\u0275cmp=Y({type:e,selectors:[["app-board"]],inputs:{layout:"layout"},standalone:!0,features:[K],decls:2,vars:3,consts:[[1,"board",3,"ngClass"],[1,"dungeon","slot"],[1,"event","slot"],[1,"heading"],[1,"body"],[3,"card"],[1,"character","slot"],[1,"catacomb","slot"],[1,"enemy","slot"],[1,"enemy-action","slot"],[3,"deck","cover","spread"],[1,"obtained-relic","slot"],[1,"hero","slot"],[1,"hero-action","slot"],[1,"gold","slot"],[1,"aid","slot"],[1,"relic","slot"],[3,"deck","cover"],[3,"deck"],[3,"aid","enemy","enemyActions"],[3,"character"],[3,"deck","spread"],[1,"hp"],[3,"selectCards","deck","enable","selectedDeck","aidSelected"],[3,"selectCards","deck","shortcuts","selectedDeck"],[3,"selectCards","deck","enable","actionSelected","selectedDeck"]],template:function(i,o){if(i&1&&(O(0,GM,2,3),$(1,"async")),i&2){let s;P(0,(s=V(1,1,o.goldSelectedDeck$))?0:-1,s)}},dependencies:[bt,$a,t_,Zt,n_,r_,o_,i_,Ii],styles:[".board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,20%);grid-template-rows:1fr 1fr 1fr max-content;color:#fff;width:100%;padding-left:var(--rd-menu-width);height:100vh;box-sizing:border-box}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;border:1px solid red;padding:.5rem;overflow:auto}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:center;text-align:center;margin:.5rem 0}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.board[_ngcontent-%COMP%]   .slot.catacomb[_ngcontent-%COMP%]{grid-column-start:5}.board[_ngcontent-%COMP%]   .slot.enemy[_ngcontent-%COMP%]{grid-column-start:2}.board[_ngcontent-%COMP%]   .slot.enemy-action[_ngcontent-%COMP%], .board[_ngcontent-%COMP%]   .slot.hero-action[_ngcontent-%COMP%]{grid-column-end:span 3}.board[_ngcontent-%COMP%]   .slot.relic[_ngcontent-%COMP%]{grid-column-start:5}.board.compact[_ngcontent-%COMP%]{grid-template-columns:repeat(4,25%);grid-template-rows:repeat(3,33%)}.board.compact[_ngcontent-%COMP%]   .slot.dungeon[_ngcontent-%COMP%], .board.compact[_ngcontent-%COMP%]   .slot.character[_ngcontent-%COMP%], .board.compact[_ngcontent-%COMP%]   .slot.catacomb[_ngcontent-%COMP%], .board.compact[_ngcontent-%COMP%]   .slot.relic[_ngcontent-%COMP%]{display:none}.board.compact[_ngcontent-%COMP%]   .slot.enemy[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.board.compact[_ngcontent-%COMP%]   .slot.enemy-action[_ngcontent-%COMP%]{grid-column-start:3;grid-row-start:1}.board.compact[_ngcontent-%COMP%]   .slot.gold[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:2;grid-row-end:span 2}.board.compact[_ngcontent-%COMP%]   .slot.hero[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2}.board.compact[_ngcontent-%COMP%]   .slot.hero-action[_ngcontent-%COMP%]{grid-column-start:3;grid-row-start:2}.board.compact[_ngcontent-%COMP%]   .slot.aid[_ngcontent-%COMP%]{grid-column-start:2;grid-column-end:span 2;grid-row-start:3}.board.compact[_ngcontent-%COMP%]   .slot.obtained-relic[_ngcontent-%COMP%]{grid-column-start:4;grid-column-end:span 2;grid-row-start:3}"]});let t=e;return t})();var zM=["*"],Yt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-popup"]],standalone:!0,features:[K],ngContentSelectors:zM,decls:3,vars:0,consts:[[1,"popup-backdrop"],[1,"popup"]],template:function(i,o){i&1&&(xd(),p(0,"div",0)(1,"div",1),Td(2),m()())}});let t=e;return t})();var Ln=(()=>{let e=class e{constructor(){this.newGame=new we}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-new-game-buttons"]],outputs:{newGame:"newGame"},standalone:!0,features:[K],decls:10,vars:0,consts:[["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-emoji-dizzy"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"],["d","M9.146 5.146a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 1 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 0-.708m-5 0a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 1 1 .708.708l-.647.646.647.646a.5.5 0 1 1-.708.708L5.5 7.207l-.646.647a.5.5 0 1 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 0-.708M10 11a2 2 0 1 1-4 0 2 2 0 0 1 4 0"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-emoji-smile"],["d","M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5"]],template:function(i,o){i&1&&(p(0,"button",0),L("click",function(){return o.newGame.emit("normal")}),Ie(),p(1,"svg",1),R(2,"path",2)(3,"path",3),m(),w(4,` New game
`),m(),Pe(),p(5,"button",0),L("click",function(){return o.newGame.emit("easy")}),Ie(),p(6,"svg",4),R(7,"path",2)(8,"path",5),m(),w(9,` New game (Easy)
`),m())}});let t=e;return t})();var a_=(()=>{let e=class e{constructor(){this.newGame=new we}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-game-over-popup"]],outputs:{newGame:"newGame"},standalone:!0,features:[K],decls:4,vars:0,consts:[[3,"newGame"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),w(2,"Game over"),m(),p(3,"app-new-game-buttons",0),L("newGame",function(a){return o.newGame.emit(a)}),m()())},dependencies:[Yt,Ln]});let t=e;return t})();var c_=(()=>{let e=class e{constructor(){this.newGame=new we}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-game-won-popup"]],outputs:{newGame:"newGame"},standalone:!0,features:[K],decls:4,vars:0,consts:[[3,"newGame"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),w(2,"You won!"),m(),p(3,"app-new-game-buttons",0),L("newGame",function(a){return o.newGame.emit(a)}),m()())},dependencies:[Yt,Ln]});let t=e;return t})();var l_=(()=>{let e=class e{constructor(n){this.menuFacade=n}onNewGame(){this.menuFacade.newGame()}onSettings(){this.menuFacade.settings()}onAbout(){this.menuFacade.about()}};e.\u0275fac=function(i){return new(i||e)(Q(He))},e.\u0275cmp=Y({type:e,selectors:[["app-main-menu"]],standalone:!0,features:[K],decls:22,vars:0,consts:[[1,"main-menu"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-asterisk"],["d","M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"]],template:function(i,o){i&1&&(p(0,"nav",0)(1,"ul")(2,"li")(3,"button",1),L("click",function(){return o.onNewGame()}),Ie(),p(4,"svg",2),R(5,"path",3),m(),Pe(),p(6,"span"),w(7,"New game"),m()()(),p(8,"li")(9,"button",1),L("click",function(){return o.onSettings()}),Ie(),p(10,"svg",4),R(11,"path",5)(12,"path",6),m(),Pe(),p(13,"span"),w(14,"Settings"),m()()(),p(15,"li")(16,"button",1),L("click",function(){return o.onAbout()}),Ie(),p(17,"svg",7),R(18,"path",8)(19,"path",9),m(),Pe(),p(20,"span"),w(21,"About"),m()()()()())},styles:[".main-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;min-width:var(--rd-menu-width);bottom:0;z-index:9;background-color:var(--rd-bg-dark);overflow:hidden}.main-menu[_ngcontent-%COMP%]:hover{width:fit-content;box-shadow:var(--rd-shadow)}.main-menu[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline}.main-menu[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:.5em 1em .5em .5em;list-style-type:none;width:fit-content}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;font-size:0}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;background-color:transparent;color:#fff;border:1px solid transparent;border-radius:.25em;padding:.375em;width:100%;text-align:left}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:#fff}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:-.5em}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}"]});let t=e;return t})();function WM(t,e){if(t&1){let r=De();p(0,"div",1)(1,"button",2),L("click",function(){ve(r);let i=M();return ye(i.onLayout("classic"))}),Ie(),p(2,"svg",5),R(3,"path",6),m(),w(4," Use classic layout "),m(),Pe(),p(5,"button",2),L("click",function(){ve(r);let i=M();return ye(i.onLayout("compact"))}),Ie(),p(6,"svg",7),R(7,"path",8),m(),w(8," Use compact layout "),m(),Pe(),p(9,"p"),w(10," Classic layout is how Ruba Dungeon was created. Compact layout hide decks that are not stricly necessary and allows to display the board game on smaller screens. "),m()()}if(t&2){let r=e;S(),ft("selected",r==="classic"),S(4),ft("selected",r==="compact")}}var u_=(()=>{let e=class e{constructor(n){this.menuFacade=n,this.layout$=this.menuFacade.layout$}onClose(){this.menuFacade.settings()}onLayout(n){this.menuFacade.setLayout(n)}};e.\u0275fac=function(i){return new(i||e)(Q(He))},e.\u0275cmp=Y({type:e,selectors:[["app-settings-popup"]],standalone:!0,features:[K],decls:11,vars:3,consts:[[1,"settings"],[1,"form-group"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-lg"],["d","M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-grid-3x3"],["d","M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5zM1.5 1a.5.5 0 0 0-.5.5V5h4V1zM5 6H1v4h4zm1 4h4V6H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11zm0-1h4V6h-4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11zm-1 0V1H6v4z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-grid-3x2"],["d","M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v8a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5zM1.5 3a.5.5 0 0 0-.5.5V7h4V3zM5 8H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4V8zm4-1V3H6v4zm1 1v4h3.5a.5.5 0 0 0 .5-.5V8zm0-1h4V3.5a.5.5 0 0 0-.5-.5H11z"]],template:function(i,o){if(i&1&&(p(0,"app-popup")(1,"h1"),w(2,"Settings"),m(),p(3,"div",0),O(4,WM,11,4,"div",1),$(5,"async"),m(),p(6,"div")(7,"button",2),L("click",function(){return o.onClose()}),Ie(),p(8,"svg",3),R(9,"path",4),m(),w(10," Close "),m()()()),i&2){let s;S(4),P(4,(s=V(5,1,o.layout$))?4:-1,s)}},dependencies:[bt,Yt],styles:[".settings[_ngcontent-%COMP%]{text-align:left}.form-group[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid var(--rd-button-bg)}button.selected[_ngcontent-%COMP%], button.selected[_ngcontent-%COMP%]:hover{background-color:var(--rd-bg-dark);color:#fff}label[_ngcontent-%COMP%]{display:block}"]});let t=e;return t})();var d_="0.10.0";function qM(t,e){if(t&1){let r=De();p(0,"app-new-game-buttons",9),L("newGame",function(i){ve(r);let o=M();return ye(o.onNewGame(i))}),m()}}function ZM(t,e){if(t&1){let r=De();p(0,"button",5),L("click",function(){ve(r);let i=M();return ye(i.onClose())}),Ie(),p(1,"svg",6),R(2,"path",7)(3,"path",8),m(),w(4," Continue "),m()}}var f_=(()=>{let e=class e{constructor(n,i,o){this.gameFacade=n,this.menuFacade=i,this.tutorialFacade=o,this.GameStatus=re,this.status$=this.gameFacade.status$,this.version=d_}onNewGame(n){this.gameFacade.start(n)}onClose(){this.menuFacade.about(!1)}onTutorial(){this.tutorialFacade.tutorialStart()}};e.\u0275fac=function(i){return new(i||e)(Q(ct),Q(He),Q(qt))},e.\u0275cmp=Y({type:e,selectors:[["app-about-popup"]],standalone:!0,features:[K],decls:33,vars:4,consts:[[1,"version"],["href","https://radicalfiction.itch.io/ruba-dungeon"],["href","https://lucavicidomini.com"],["href","https://creativecommons.org/licenses/by-nc/4.0/deed.en"],["href","https://beavers.it/"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dice-5"],["d","M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z"],["d","M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"],[3,"newGame"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),w(2,"Welcome to Ruba Dungeon! "),p(3,"span",0),w(4),m()(),p(5,"p"),w(6," A game by "),p(7,"a",1),w(8,"Diego Sacchetti and Ivan Preziosi"),m(),w(9," (aka the Rolling Papers Team). "),m(),p(10,"p"),w(11," Web version by "),p(12,"a",2),w(13,"Luca Vicidomini"),m(),w(14,". "),m(),p(15,"p"),w(16," Ruba Dungeon, its manual and the web version are released under the CC-BY-NC license for any personal, non-profit use. Any other type of use must be agreed with the authors. "),R(17,"br"),p(18,"a",3),w(19," Attribution-NonCommercial 4.0 International (CC BY-NC 4.0) "),m()(),p(20,"p"),w(21,"Special thank to "),p(22,"a",4),w(23,"Marco Giammetti"),m(),w(24,"."),m(),O(25,qM,1,0,"app-new-game-buttons"),$(26,"async"),O(27,ZM,5,0),p(28,"button",5),L("click",function(){return o.onTutorial()}),Ie(),p(29,"svg",6),R(30,"path",7)(31,"path",8),m(),w(32," Tutorial "),m()()),i&2&&(S(4),Dt("v.",o.version,""),S(21),P(25,V(26,2,o.status$)===o.GameStatus.GAME_INIT?25:27))},dependencies:[bt,Yt,Ln],styles:[".version[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;color:#555}"]});let t=e;return t})();var h_=(()=>{let e=class e{constructor(n,i){this.gameFacade=n,this.menuFacade=i}onNewGame(n){this.gameFacade.start(n)}onClose(){this.menuFacade.about(!1)}};e.\u0275fac=function(i){return new(i||e)(Q(ct),Q(He))},e.\u0275cmp=Y({type:e,selectors:[["app-new-game-popup"]],standalone:!0,features:[K],decls:11,vars:0,consts:[[3,"newGame"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dice-5"],["d","M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z"],["d","M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),w(2,"Are you sure you want to start a new game?"),m(),p(3,"p"),w(4,"Your current game will be lost."),m(),p(5,"app-new-game-buttons",0),L("newGame",function(a){return o.onNewGame(a)}),m(),p(6,"button",1),L("click",function(){return o.onClose()}),Ie(),p(7,"svg",2),R(8,"path",3)(9,"path",4),m(),w(10," Continue "),m()())},dependencies:[Yt,Ln]});let t=e;return t})();function p_(t,e=0){return YM(t)?Number(t):e}function YM(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function lt(t){return t instanceof Ft?t.nativeElement:t}var gh;try{gh=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gh=!1}var m_=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?zv(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||gh)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(D(xn))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qo;function KM(){if(qo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qo=!0}))}finally{qo=qo||!1}return qo}function Zo(t){return KM()?t:!!t.capture}var mh;function QM(){if(mh==null){let t=typeof document<"u"?document.head:null;mh=!!(t&&(t.createShadowRoot||t.attachShadow))}return mh}function vh(t){if(QM()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Yo(t){return t.composedPath?t.composedPath()[0]:t.target}var XM=new E("cdk-dir-doc",{providedIn:"root",factory:eA});function eA(){return C(Fe)}var tA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function nA(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?tA.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var g_=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new we,n){let i=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=nA(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(D(XM,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iA=20,v_=(()=>{let e=class e{constructor(n,i,o){this._platform=n,this._change=new H,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||i.scrollY||o.scrollTop||0,c=-s.left||n.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(n=iA){return n>0?this._change.pipe(Sl(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(D(m_),D(Ee),D(Fe,8))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var y_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({});let t=e;return t})();function __(t){return t.buttons===0||t.detail===0}function w_(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function Ih(t,e,r){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];i?t.setProperty(n,i,r?.has(n)?"important":""):t.removeProperty(n)}return t}function Si(t,e){let r=e?"":"none";Ih(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function C_(t,e,r){Ih(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},r)}function el(t,e){return e&&e!="none"?t+" "+e:t}function D_(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=tl(e.left,e.top)}function tl(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Sh(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function _h(t,e,r){let{top:n,bottom:i,left:o,right:s}=t;return r>=n&&r<=i&&e>=o&&e<=s}function Qo(t,e,r){t.top+=e,t.bottom=t.top+t.height,t.left+=r,t.right=t.left+t.width}function b_(t,e,r,n){let{top:i,right:o,bottom:s,left:a,width:c,height:l}=t,u=c*e,d=l*e;return n>i-d&&n<s+d&&r>a-u&&r<o+u}var nl=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:Sh(r)})})}handleScroll(e){let r=Yo(e),n=this.positions.get(r);if(!n)return null;let i=n.scrollPosition,o,s;if(r===this._document){let l=this.getViewportScrollPosition();o=l.top,s=l.left}else o=r.scrollTop,s=r.scrollLeft;let a=i.top-o,c=i.left-s;return this.positions.forEach((l,u)=>{l.clientRect&&r!==u&&r.contains(u)&&Qo(l.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function P_(t){let e=t.cloneNode(!0),r=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<r.length;i++)r[i].removeAttribute("id");return n==="canvas"?S_(t,e):(n==="input"||n==="select"||n==="textarea")&&I_(t,e),E_("canvas",t,e,S_),E_("input, textarea, select",t,e,I_),e}function E_(t,e,r,n){let i=e.querySelectorAll(t);if(i.length){let o=r.querySelectorAll(t);for(let s=0;s<i.length;s++)n(i[s],o[s])}}var sA=0;function I_(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${sA++}`)}function S_(t,e){let r=e.getContext("2d");if(r)try{r.drawImage(t,0,0)}catch{}}function F_(t,e){let r=t.rootNodes;if(r.length===1&&r[0].nodeType===e.ELEMENT_NODE)return r[0];let n=e.createElement("div");return r.forEach(i=>n.appendChild(i)),n}function x_(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function aA(t){let e=getComputedStyle(t),r=yh(e,"transition-property"),n=r.find(a=>a==="transform"||a==="all");if(!n)return 0;let i=r.indexOf(n),o=yh(e,"transition-duration"),s=yh(e,"transition-delay");return x_(o[i])+x_(s[i])}function yh(t,e){return t.getPropertyValue(e).split(",").map(n=>n.trim())}var cA=new Set(["position"]),wh=class{constructor(e,r,n,i,o,s,a,c,l){this._document=e,this._rootElement=r,this._direction=n,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return aA(this._preview)}addEventListener(e,r){this._preview.addEventListener(e,r)}removeEventListener(e,r){this._preview.removeEventListener(e,r)}_createPreview(){let e=this._previewTemplate,r=this._previewClass,n=e?e.template:null,i;if(n&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(n,e.context);s.detectChanges(),i=F_(s,this._document),this._previewEmbeddedView=s,e.matchSize?D_(i,o):i.style.transform=tl(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=P_(this._rootElement),D_(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Ih(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},cA),Si(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(o=>i.classList.add(o)):i.classList.add(r)),i}},T_=Zo({passive:!0}),Qc=Zo({passive:!1}),M_=Zo({passive:!1,capture:!0}),lA=800,A_=new Set(["position"]),Ch=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Si(r,e)))}constructor(e,r,n,i,o,s){this._config=r,this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new H,this._pointerMoveSubscription=be.EMPTY,this._pointerUpSubscription=be.EMPTY,this._scrollSubscription=be.EMPTY,this._resizeSubscription=be.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new H,this.started=new H,this.released=new H,this.ended=new H,this.entered=new H,this.exited=new H,this.dropped=new H,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let c=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){let u=Math.abs(c.x-this._pickupPositionOnPage.x),d=Math.abs(c.y-this._pickupPositionOnPage.y);if(u+d>=this._config.dragStartThreshold){let h=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),g=this._dropContainer;if(!h){this._endDragSequence(a);return}(!g||!g.isDragging()&&!g.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let l=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,c);else{let u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=l.x-u.x+this._passiveTransform.x,d.y=l.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:a,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(r.parentDragRef||null),this._parentPositions=new nl(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(n=>lt(n)),this._handles.forEach(n=>Si(n,this.disabled)),this._toggleNativeDragInteractions();let r=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&r.add(n)}),this._disabledHandles=r,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let r=lt(e);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,Qc),r.addEventListener("touchstart",this._pointerDown,T_),r.addEventListener("dragstart",this._nativeDragStart,Qc)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?lt(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Si(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Si(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",O_,M_)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let r=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Ko(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let r=this._getShadowRoot(),n=this._dropContainer;if(r&&this._ngZone.runOutsideAngular(()=>{r.addEventListener("selectstart",O_,M_)}),n){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new wh(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(o,r)),C_(i,!1,A_),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(e,r){this._parentDragRef&&r.stopPropagation();let n=this.isDragging(),i=Ko(r),o=!i&&r.button!==0,s=this._rootElement,a=Yo(r),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+lA>Date.now(),l=i?w_(r):__(r);if(a&&a.draggable&&r.type==="mousedown"&&r.preventDefault(),n||o||c||l)return;if(this._handles.length){let f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=Sh(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,r);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(e){C_(this._rootElement,!0,A_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let r=this._dropContainer,n=r.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=r._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),r.drop(this,n,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:r},{x:n,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,r);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,r)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,r,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,r):this._applyPreviewTransform(e-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let r=this._preview.getTransitionDuration();return r===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let i=s=>{(!s||Yo(s)===this._preview&&s.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),n(),clearTimeout(o))},o=setTimeout(i,r*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,r=e?e.template:null,n;return r?(this._placeholderRef=e.viewContainer.createEmbeddedView(r,e.context),this._placeholderRef.detectChanges(),n=F_(this._placeholderRef,this._document)):n=P_(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,r,n){let i=r===this._rootElement?null:r,o=i?i.getBoundingClientRect():e,s=Ko(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),c=s.pageX-o.left-a.left,l=s.pageY-o.top-a.top;return{x:o.left-e.left+c,y:o.top-e.top+l}}_getPointerPositionOnPage(e){let r=this._getViewportScrollPosition(),n=Ko(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-r.left,o=n.pageY-r.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let r=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||r==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||r==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),u=a.top+s,d=a.bottom-(l-s),f=a.left+o,h=a.right-(c-o);n=R_(n,f,h),i=R_(i,u,d)}return{x:n,y:i}}_updatePointerDirectionDelta(e){let{x:r,y:n}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(r-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=r>o.x?1:-1,o.x=r),a>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Si(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Qc),e.removeEventListener("touchstart",this._pointerDown,T_),e.removeEventListener("dragstart",this._nativeDragStart,Qc)}_applyRootElementTransform(e,r){let n=tl(e,r),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=el(n,this._initialTransform)}_applyPreviewTransform(e,r){let n=this._previewTemplate?.template?void 0:this._initialTransform,i=tl(e,r);this._preview.setTransform(el(i,n))}_getDragDistance(e){let r=this._pickupPositionOnPage;return r?{x:e.x-r.x,y:e.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:r}=this._passiveTransform;if(e===0&&r===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||n.width===0&&n.height===0)return;let o=i.left-n.left,s=n.right-i.right,a=i.top-n.top,c=n.bottom-i.bottom;i.width>n.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>n.height?(a>0&&(r+=a),c>0&&(r-=c)):r=0,(e!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:e})}_getDragStartDelay(e){let r=this.dragStartDelay;return typeof r=="number"?r:Ko(e)?r.touch:r?r.mouse:0}_updateOnScroll(e){let r=this._parentPositions.handleScroll(e);if(r){let n=Yo(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Qo(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=vh(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,r){let n=this._previewContainer||"global";if(n==="parent")return e;if(n==="global"){let i=this._document;return r||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return lt(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(r=>e.target&&(e.target===r||r.contains(e.target)))}};function R_(t,e,r){return Math.max(e,Math.min(r,t))}function Ko(t){return t.type[0]==="t"}function O_(t){t.preventDefault()}function uA(t,e,r){let n=N_(e,t.length-1),i=N_(r,t.length-1);if(n===i)return;let o=t[n],s=i<n?-1:1;for(let a=n;a!==i;a+=s)t[a]=t[a+s];t[i]=o}function N_(t,e){return Math.max(0,Math.min(e,t))}var Dh=class{constructor(e,r){this._element=e,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,r,n,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,r,n,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",c=o.findIndex(b=>b.drag===e),l=o[s],u=o[c].clientRect,d=l.clientRect,f=c>s?1:-1,h=this._getItemOffsetPx(u,d,f),g=this._getSiblingOffsetPx(c,o,f),_=o.slice();return uA(o,c,s),o.forEach((b,A)=>{if(_[A]===b)return;let X=b.drag===e,de=X?h:g,U=X?e.getPlaceholderElement():b.drag.getRootElement();b.offset+=de,a?(U.style.transform=el(`translate3d(${Math.round(b.offset)}px, 0, 0)`,b.initialTransform),Qo(b.clientRect,0,de)):(U.style.transform=el(`translate3d(0, ${Math.round(b.offset)}px, 0)`,b.initialTransform),Qo(b.clientRect,de,0))}),this._previousSwap.overlaps=_h(d,r,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:s}}enter(e,r,n,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,r,n):i,s=this._activeDraggables,a=s.indexOf(e),c=e.getPlaceholderElement(),l=s[o];if(l===e&&(l=s[o+1]),!l&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(r,n)&&(l=s[0]),a>-1&&s.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){let u=l.getRootElement();u.parentElement.insertBefore(c,u),s.splice(o,0,e)}else lt(this._element).appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{let r=e.getRootElement();if(r){let n=this._itemPositions.find(i=>i.drag===e)?.initialTransform;r.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===e)}updateOnScroll(e,r){this._itemPositions.forEach(({clientRect:n})=>{Qo(n,e,r)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(r=>{let n=r.getVisibleElement();return{drag:r,offset:0,initialTransform:n.style.transform||"",clientRect:Sh(n)}}).sort((r,n)=>e?r.clientRect.left-n.clientRect.left:r.clientRect.top-n.clientRect.top)}_getItemOffsetPx(e,r,n){let i=this.orientation==="horizontal",o=i?r.left-e.left:r.top-e.top;return n===-1&&(o+=i?r.width-e.width:r.height-e.height),o}_getSiblingOffsetPx(e,r,n){let i=this.orientation==="horizontal",o=r[e].clientRect,s=r[e+n*-1],a=o[i?"width":"height"]*n;if(s){let c=i?"left":"top",l=i?"right":"bottom";n===-1?a-=s.clientRect[c]-o[l]:a+=o[c]-s.clientRect[l]}return a}_shouldEnterAsFirstChild(e,r){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,i=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return i?e>=s.right:r>=s.bottom}else{let s=n[0].clientRect;return i?e<=s.left:r<=s.top}}_getItemIndexFromPointerPosition(e,r,n,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let l=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return o?r>=Math.floor(c.left)&&r<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},k_=.05,L_=.05,St=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(St||{}),nt=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(nt||{}),bh=class{constructor(e,r,n,i,o){this._dragDropRegistry=r,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new H,this.entered=new H,this.exited=new H,this.dropped=new H,this.sorted=new H,this.receivingStarted=new H,this.receivingStopped=new H,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=be.EMPTY,this._verticalScrollDirection=St.NONE,this._horizontalScrollDirection=nt.NONE,this._stopScrollTimers=new H,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Il(0,gs).pipe($e(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===St.UP?s.scrollBy(0,-a):this._verticalScrollDirection===St.DOWN&&s.scrollBy(0,a),this._horizontalScrollDirection===nt.LEFT?s.scrollBy(-a,0):this._horizontalScrollDirection===nt.RIGHT&&s.scrollBy(a,0)})},this.element=lt(e),this._document=n,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new nl(n),this._sortStrategy=new Dh(this.element,r),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,r,n,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,r,n,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,r,n,i,o,s,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:r,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(e){let r=this._draggables;return this._draggables=e,e.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(r.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){let r=lt(this.element);return this._scrollableElements=e.indexOf(r)===-1?[r,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,r,n,i){if(this.sortingDisabled||!this._domRect||!b_(this._domRect,k_,r,n))return;let o=this._sortStrategy.sort(e,r,n,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,r){if(this.autoScrollDisabled)return;let n,i=St.NONE,o=nt.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||b_(s.clientRect,k_,e,r)&&([i,o]=dA(a,s.clientRect,this._sortStrategy.direction,e,r),(i||o)&&(n=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};i=j_(c,r),o=$_(c,e),n=window}n&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=n,(i||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=lt(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let e=lt(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;let e=lt(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,r){return this._domRect!=null&&_h(this._domRect,e,r)}_getSiblingContainerFromPosition(e,r,n){return this._siblings.find(i=>i._canReceive(e,r,n))}_canReceive(e,r,n){if(!this._domRect||!_h(this._domRect,r,n)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(r,n);if(!i)return!1;let o=lt(this.element);return i===o||o.contains(i)}_startReceiving(e,r){let n=this._activeSiblings;!n.has(e)&&r.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:r}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let r=this._parentPositions.handleScroll(e);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=vh(lt(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,e))}};function j_(t,e){let{top:r,bottom:n,height:i}=t,o=i*L_;return e>=r-o&&e<=r+o?St.UP:e>=n-o&&e<=n+o?St.DOWN:St.NONE}function $_(t,e){let{left:r,right:n,width:i}=t,o=i*L_;return e>=r-o&&e<=r+o?nt.LEFT:e>=n-o&&e<=n+o?nt.RIGHT:nt.NONE}function dA(t,e,r,n,i){let o=j_(e,i),s=$_(e,n),a=St.NONE,c=nt.NONE;if(o){let l=t.scrollTop;o===St.UP?l>0&&(a=St.UP):t.scrollHeight-l>t.clientHeight&&(a=St.DOWN)}if(s){let l=t.scrollLeft;r==="rtl"?s===nt.RIGHT?l<0&&(c=nt.RIGHT):t.scrollWidth+l>t.clientWidth&&(c=nt.LEFT):s===nt.LEFT?l>0&&(c=nt.LEFT):t.scrollWidth-l>t.clientWidth&&(c=nt.RIGHT)}return[a,c]}var Jc=Zo({passive:!1,capture:!0}),Xc=new Set,fA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[K],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0});let t=e;return t})(),hA=(()=>{let e=class e{constructor(n,i){this._ngZone=n,this._appRef=C(nr),this._environmentInjector=C(st),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new H,this.pointerUp=new H,this.scroll=new H,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Jc)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Jc)}startDragging(n,i){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._loadResets(),this._activeDragInstances.push(n),this._activeDragInstances.length===1)){let o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Jc}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:Jc}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(n){let i=this._activeDragInstances.indexOf(n);i>-1&&(this._activeDragInstances.splice(i,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){let i=[this.scroll];return n&&n!==this._document&&i.push(new G(o=>this._ngZone.runOutsideAngular(()=>{let a=c=>{this._activeDragInstances.length&&o.next(c)};return n.addEventListener("scroll",a,!0),()=>{n.removeEventListener("scroll",a,!0)}}))),rt(...i)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,i)=>{this._document.removeEventListener(i,n.handler,n.options)}),this._globalListeners.clear()}_loadResets(){if(!Xc.has(this._appRef)){Xc.add(this._appRef);let n=Ov(fA,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Xc.delete(this._appRef),Xc.size===0&&n.destroy()})}}};e.\u0275fac=function(i){return new(i||e)(D(Ee),D(Fe))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pA={dragStartThreshold:5,pointerDirectionChangeThreshold:5},V_=(()=>{let e=class e{constructor(n,i,o,s){this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(n,i=pA){return new Ch(n,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new bh(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};e.\u0275fac=function(i){return new(i||e)(D(Fe),D(Ee),D(v_),D(hA))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Eh=new E("CDK_DRAG_PARENT");var B_=new E("CdkDragHandle"),H_=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}constructor(n,i){this.element=n,this._parentDrag=i,this._stateChanges=new H,this._disabled=!1,i?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}};e.\u0275fac=function(i){return new(i||e)(Q(Ft),Q(Eh,12))},e.\u0275dir=sn({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[ke.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",ro]},standalone:!0,features:[no([{provide:B_,useExisting:e}]),Wr]});let t=e;return t})(),mA=new E("CDK_DRAG_CONFIG"),gA="cdk-drag",vA=new E("CdkDropList"),U_=(()=>{let e=class e{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}constructor(n,i,o,s,a,c,l,u,d,f,h){this.element=n,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=f,this._parentDrag=h,this._destroyed=new H,this._handles=new Me([]),this.started=new we,this.released=new we,this.ended=new we,this.entered=new we,this.exited=new we,this.dropped=new we,this.moved=new G(g=>{let _=this._dragRef.moved.pipe(y(b=>({source:this,pointerPosition:b.pointerPosition,event:b.event,delta:b.delta,distance:b.distance}))).subscribe(g);return()=>{_.unsubscribe()}}),this._dragRef=u.createDrag(n,{dragStartThreshold:c&&c.dragStartThreshold!=null?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&c.pointerDirectionChangeThreshold!=null?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),c&&this._assignDefaults(c),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qe(1),$e(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(n){let i=n.rootElementSelector,o=n.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let n=e._dragInstances.indexOf(this);n>-1&&e._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let i=this._handles.getValue();i.push(n),this._handles.next(i)}_removeHandle(n){let i=this._handles.getValue(),o=i.indexOf(n);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,i=n;this.rootElementSelector&&(i=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):lt(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.dragStartDelay=typeof o=="object"&&o?o:p_(o),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&n.withDirection(i.value)}}),n.beforeStarted.pipe(Qe(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(gA)){n.withParent(e._dragInstances.find(o=>o.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(n){n.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),n.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(n){let{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:l,rootElementSelector:u,previewContainer:d}=n;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(J(n=>{let i=n.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),ze(n=>rt(...n.map(i=>i._stateChanges.pipe(xr(i))))),$e(this._destroyed)).subscribe(n=>{let i=this._dragRef,o=n.element.nativeElement;n.disabled?i.disableHandle(o):i.enableHandle(o)})}};e._dragInstances=[],e.\u0275fac=function(i){return new(i||e)(Q(Ft),Q(vA,12),Q(Fe),Q(Ee),Q(tr),Q(mA,8),Q(g_,8),Q(V_),Q(dn),Q(B_,10),Q(Eh,12))},e.\u0275dir=sn({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&ft("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[ke.None,"cdkDragData","data"],lockAxis:[ke.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[ke.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[ke.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[ke.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[ke.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[ke.HasDecoratorInputTransform,"cdkDragDisabled","disabled",ro],constrainPosition:[ke.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[ke.None,"cdkDragPreviewClass","previewClass"],previewContainer:[ke.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[no([{provide:Eh,useExisting:e}]),Wr,Xn]});let t=e;return t})();var G_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=wt({type:e}),e.\u0275inj=_t({providers:[V_],imports:[y_]});let t=e;return t})();function _A(t,e){if(t&1){let r=De();p(0,"button",8),L("click",function(){ve(r);let i=M(2);return ye(i.onExitConfirm())}),Ie(),p(1,"svg",9),R(2,"path",10)(3,"path",11),m(),w(4," Are you sure? "),m()}}function wA(t,e){if(t&1){let r=De();p(0,"button",12),L("click",function(){ve(r);let i=M(2);return ye(i.onExit())}),w(1," Exit tutorial "),m()}}function CA(t,e){if(t&1){let r=De();p(0,"div",1)(1,"div",2),Ie(),p(2,"svg",3),R(3,"path",4),m()(),Pe(),R(4,"div",5),O(5,_A,5,0,"button",6)(6,wA,2,0),p(7,"button",7),L("click",function(){ve(r);let i=M();return ye(i.onNext())}),w(8," Next "),m()()}if(t&2){let r=e,n=M();ft("has-action",r.e),S(4),te("innerHTML",n.format(r),ba),S(),P(5,n.confirmExit?5:6),S(2),te("disabled",r.e)}}var z_=(()=>{let e=class e{constructor(n){this.tutorialFacade=n,this.confirmExit=!1,this.step$=this.tutorialFacade.step$}format(n){let{m:i}=n;return(Array.isArray(i)?i:[i]).map(s=>typeof s=="object"&&"content"in s?`<p>${s.content}</p>`:`<p>${s}</p>`).join("")}onNext(){this.confirmExit=!1,this.tutorialFacade.tutorialNext()}onExit(){this.confirmExit=!0}onExitConfirm(){this.confirmExit=!1,this.tutorialFacade.tutorialExit()}};e.\u0275fac=function(i){return new(i||e)(Q(qt))},e.\u0275cmp=Y({type:e,selectors:[["app-tutorial-popup"]],standalone:!0,features:[K],decls:2,vars:3,consts:[["cdkDrag","",1,"popup",3,"has-action"],["cdkDrag","",1,"popup"],["cdkDragHandle","",1,"drag-handle"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrows-move"],["fill-rule","evenodd","d","M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10M.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8"],[3,"innerHTML"],["type","button","id","tutorial-exit-confirm"],["type","button","id","tutorial-next",3,"click","disabled"],["type","button","id","tutorial-exit-confirm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-exclamation-triangle"],["d","M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"],["d","M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"],["type","button","id","tutorial-exit",3,"click"]],template:function(i,o){if(i&1&&(O(0,CA,9,5,"div",0),$(1,"async")),i&2){let s;P(0,(s=V(1,1,o.step$))?0:-1,s)}},dependencies:[bt,G_,U_,H_],styles:[".popup[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%);width:fit-content;max-width:50%;margin:0;z-index:255;opacity:.75;transition:opacity .25s ease-out}.popup[_ngcontent-%COMP%]:not(.has-action){opacity:1}.popup[_ngcontent-%COMP%]:hover{opacity:1}.popup[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;padding:.5rem .5rem 0 0;text-align:right;cursor:move}.popup[_ngcontent-%COMP%]   #tutorial-exit-confirm[_ngcontent-%COMP%]{color:#fa0;border-color:#fa0}.popup[_ngcontent-%COMP%]   #tutorial-exit[_ngcontent-%COMP%]:not(:hover), .popup[_ngcontent-%COMP%]   #tutorial-exit-confirm[_ngcontent-%COMP%]:not(:hover){border-color:var(--rd-button-bg);background-color:#fff}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:hover{border-color:var(--rd-button-bg);background-color:var(--rd-button-bg-hover);color:var(--rd-button-bg)}"]});let t=e;return t})();function DA(t,e){t&1&&(p(0,"div"),w(1,"Error: "),p(2,"samp"),w(3),$(4,"json"),m()()),t&2&&(S(3),ht(V(4,1,e)))}function bA(t,e){t&1&&R(0,"app-about-popup")}function EA(t,e){if(t&1){let r=De();p(0,"app-game-over-popup",2),L("newGame",function(i){ve(r);let o=M();return ye(o.onNewGame(i))}),m()}}function IA(t,e){if(t&1){let r=De();p(0,"app-game-won-popup",2),L("newGame",function(i){ve(r);let o=M();return ye(o.onNewGame(i))}),m()}}function SA(t,e){t&1&&R(0,"app-new-game-popup")}function xA(t,e){t&1&&R(0,"app-settings-popup")}function TA(t,e){t&1&&R(0,"app-board",1),t&2&&te("layout",e)}var W_=(()=>{let e=class e{constructor(n,i){this.gameFacade=n,this.menuFacade=i,this.GameStatus=re,this.layout$=this.menuFacade.layout$,this.error$=this.gameFacade.error$,this.status$=this.gameFacade.status$,this.showAbout$=this.menuFacade.about$,this.showGameOver$=this.gameFacade.status$.pipe(y(o=>o===re.GAME_OVER)),this.showGameWon$=this.gameFacade.status$.pipe(y(o=>o===re.GAME_WON)),this.showNewGame$=this.menuFacade.newGame$,this.showSettings$=this.menuFacade.settings$}onNewGame(n){this.gameFacade.start(n)}};e.\u0275fac=function(i){return new(i||e)(Q(ct),Q(He))},e.\u0275cmp=Y({type:e,selectors:[["app-game"]],standalone:!0,features:[K],decls:18,vars:21,consts:[[1,"game"],[3,"layout"],[3,"newGame"]],template:function(i,o){if(i&1&&(O(0,DA,5,3,"div"),$(1,"async"),p(2,"div",0),O(3,bA,1,0,"app-about-popup"),$(4,"async"),O(5,EA,1,0,"app-game-over-popup"),$(6,"async"),O(7,IA,1,0,"app-game-won-popup"),$(8,"async"),O(9,SA,1,0,"app-new-game-popup"),$(10,"async"),O(11,xA,1,0,"app-settings-popup"),$(12,"async"),O(13,TA,1,1,"app-board",1),$(14,"async"),R(15,"app-action-bar")(16,"app-main-menu")(17,"app-tutorial-popup"),m()),i&2){let s,a;P(0,(s=V(1,7,o.error$))?0:-1,s),S(3),P(3,V(4,9,o.showAbout$)?3:-1),S(2),P(5,V(6,11,o.showGameOver$)?5:-1),S(2),P(7,V(8,13,o.showGameWon$)?7:-1),S(2),P(9,V(10,15,o.showNewGame$)?9:-1),S(2),P(11,V(12,17,o.showSettings$)?11:-1),S(2),P(13,(a=V(14,19,o.layout$))?13:-1,a)}},dependencies:[bt,Gv,f_,e_,s_,a_,c_,l_,h_,u_,z_],styles:['.game[_ngcontent-%COMP%]{background:url("./media/engin-akyurt-HEMIBJ8QQuA-unsplash-S6L5MUAL.jpg") repeat;background-size:100%}']});let t=e;return t})();var q_=(()=>{let e=class e{constructor(){this.KEY_SETTINGS="rb-settings",this.settings=this.loadFromStorage()}clearStorage(){localStorage.clear()}loadFromStorage(){let n=localStorage.getItem(this.KEY_SETTINGS);return n?JSON.parse(n):{}}saveToStorage(){localStorage.setItem(this.KEY_SETTINGS,JSON.stringify(this.settings))}load(n){return this.settings[n]}save(n,i){this.settings[n]!==i&&(this.settings[n]=i,this.saveToStorage())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Z_=(()=>{let e=class e{ngrxOnInitEffects(){return hh()}constructor(n,i,o){this.actions$=n,this.menuFacade=i,this.storageService=o,this.KEY_LAYOUT="layout",this.ifsetting=(s,a)=>{let c=this.storageService.load(s);c&&a(c)},this.init$=le(()=>this.actions$.pipe(ue(hh),J(()=>this.ifsetting(this.KEY_LAYOUT,s=>this.menuFacade.setLayout(s)))),{dispatch:!1}),this.setLayout$=le(()=>this.actions$.pipe(ue(bi),J(({layout:s})=>this.storageService.save(this.KEY_LAYOUT,s))),{dispatch:!1})}};e.\u0275fac=function(i){return new(i||e)(D(ai),D(He),D(q_))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var Y_=[{m:["Welcome to Ruba Dungeon, a solitaire dungeon crawler-style card game.","I will teach you the basics of the game."]},{m:"This tutorial covers the rules for EASY mode, but it will highlight differences with NORMAL mode."},{m:"Note: use the icon on top right of this window to drag it around and have a better view of the game board."},{m:"Let\u2019s start the game by setting up the board\u2026"},{m:"I picked a random card among Jacks and Knights. This will be the Hero. The Hero starts with 12 hit points.",h:".hero.slot"},{m:"All remaining Jacks, Knights and Kings will form the Character Deck (the character deck is hidden in compact layout).",h:".character.slot"},{m:"Aces will form the Relic Deck (hidden in compact layout). Later in the game you will se how to obtain relics and what powers they grant you.",h:".relic.slot"},{m:"The rest of the cards will form the Dungeon Deck (hidden in compact layout).",h:".dungeon.slot"},{m:"Now that the board is all set up, you can start the Crawling phase."},{m:"Draw an Event Card from the Dungeon Deck to see what surprise it holds\u2026",e:"#button-draw"},{m:"Good! Gold cards are among your best allies in the dungeon.",h:".event.slot"},{m:"Collect the card now.",e:"#button-collect"},{m:"Draw another card\u2026",e:"#button-draw"},{m:"What a fortunate day! Collect the Gold Card.",e:"#button-collect"},{m:"Collected gold is saved in the Gold Deck for later use.",h:".gold.slot"},{m:"Continue by drawing another card from the Dungeon Deck.",e:"#button-draw"},{m:"When an Event Card is Clubs, you are facing a trap.",h:".event.slot"},{m:"If you had at least 7 Gold to spend in your Gold Deck, you could avoid the trap, but you only have 5 Gold.",h:".gold.slot"},{m:"You have to face the trap by throwing a Dice.",e:"#button-dice"},{m:"Five! Good shot\u2026 but unfortunately not enough. To avoid a trap, you have to throw a 6, or a value that is at least the value of the Event Card. In this case the Event Card Value is 7, so the only way to avoid the trap was to achieve a 6 on your dice."},{m:"When you face a trap and lose, the Hero will lose health equal to half of the Event Card Value (the half of 7 is 3\u2026 we are not taking half values into account). When you face a trap and win, the Hero will pass through unharmed."},{m:"Click the action button to go on...",e:"#button-dice-fb"},{m:"Draw the next Event Card from the Dungeon Deck.",e:"#button-draw"},{m:"Not bad! Cups Event Card represent a concoction. You can always skip a cup card if you want. Otherwise you can challenge the concoction by throwing a dice, or you can buy it by spending an amount of Gold that is equal or greater than the Event Card Value."},{m:"If you win against Cups (either by dice of by buying it), the Hero will recover health equal to the Event Card Value (in this case, 4), but if your dice value is less that the Event Card value the Hero will lose health equal to half of the Event Card Value (in this case, the half of 4 is 2)."},{m:"Winning against a 4 requires throwing a 4, 5 or 6 with the dice. Let\u2019s spend some money instead."},{m:"When spending at least as much Gold as the Event Card Value, the Event Card is automatically resolved with success. You will lose some money but recover some health. Select the 3 Coins from your gold deck",e:".gold.slot .c3.ccoins"},{m:"Now select the 2 Coins, too.",e:".gold.slot .c2.ccoins"},{m:"The total is 5: enough to buy the healing potion. Click the Buy button.",e:"#button-spend"},{m:"The Hero\u2019s health was restored! Note that the Hero HP can never exceed its starting value of 12.",h:".hero .hp"},{m:"Let\u2019s draw another card\u2026",e:"#button-draw"},{m:"Ouch! Sword Event Cards are enemy encounters. You can skip combats if you have enough Gold, but this time you have to fight the enemy. Choose combat to start the fight.",e:"#button-combat"},{m:"This is your opponent. Enemies will always have a maximum of 6 HP.",h:".enemy.slot"},{m:"Each combat turn consists of 3 actions. The enemy will play an Action Card at each turn. You will only see the next action card, others will be covered.",h:".enemy-action.slot"},{m:"These are the Hero Actions. At each turn you have to choose a card to play against the next enemy card.",h:".hero-action.slot"},{m:"Next Enemy Action Card is 5 Swords. In combat, Swords cards represent an attack. In this case, after the attack the Hero would lose 5 HP.",h:".enemy-action.slot .c5.cswords"},{m:"Coin cards in combat represent shields. Select 4 Golds: you will oppose a Shield of value 4 against an attack of value 5, hence losing only 1 HP.",e:".hero-action.slot .c4.ccoins"},{m:"Click Play Coins to play the action card",e:"#button-play-coins"},{m:"Next Enemy Action card is 4 Clubs. In combat, Clubs represent a particular type of attack that you can parry if you play a Club on your turn.",h:".enemy-action.slot .c4.cclubs"},{m:"You can attack with 6 Clubs. Since the Enemy will attack with 4 Clubs, he will parry 4 points of your attack but still suffer a damage of 2 HP.",e:".hero-action.slot .c6.cclubs"},{m:"Click Play Clubs to play the action card",e:"#button-play-clubs"},{m:"Now the enemy will attack with 6 Swords. You must respond with 3 Clubs. Remember that Clubs can only parry another Clubs attack. This clash will result in the Hero losing 6 HP and the Enemy losing 3 HP.",e:".hero-action.slot .c3.cclubs"},{m:"Click Play Clubs to play the action card",e:"#button-play-clubs"},{m:"You are still both alive, so a new Turn of 3 Actions will start."},{m:"Next Enemy Action Card is 7 Cups. In combat, Cups heal the character. Attack with 4 Swords. As result, the Enemy will only recover 3 HP.",e:".hero-action.slot .c4.cswords"},{m:"Click Play Swords to play the action card",e:"#button-play-swords"},{m:"Next Enemy Action Card is 2 Cups: the enemy can heal again. Let\u2019s put an end to this fight. When you have two or three cards of the same value, you can play them as Combo. Select your 4 Clubs...",e:".hero-action.slot .c4.cclubs"},{m:"Now select yout 4 Coins...",e:".hero-action.slot .c4.ccoins"},{m:"When you create a combo, you have to choose a suit among the ones of selected cards. In this case you can choose to play the combo as Gold (thus using a total of 8 shields) or as Clubs (thus dealing a total attack of 8). Choose to play as Clubs: this will defeat the enemy.",e:"#button-play-clubs"},{m:"Your Enemy had 4 HP and healed by 2. By attacking with 8 Clubs, his health went to zero. You can also play a combo in the first action of a turn. In this case, you may have no cards left to respond and will have to withstand the enemy's actions."},{m:"When you defeat an enemy, he will temporarily join your side and wait for your call in the Aid Deck.",h:".aid.slot"},{m:"When you defeat an enemy King, you will permanently acquire his Relic. We will see what relics are useful for in your next fight.",h:".obtained-relic.slot"},{m:"When you defeat an enemy, you can choose to keep unused Hero Action Cards in your hands if you have them. With the last combo you used all cards in you hand. Let\u2019s the crawling continue\u2026",e:"#button-draw"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-collect"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-draw"},{m:"Another encounter. If you can spend an exact amount of Gold you can skip the fight altogether. Select your 5 Gold and go on",e:".gold.slot .c5.ccoins"},{m:"Another encounter. If you can spend an exact amount of Gold you can skip the fight altogether. Select your 5 Gold and go on",e:"#button-spend"},{m:"Draw another card\u2026",e:"#button-draw"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-collect"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-draw"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-collect"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-draw"},{m:"Swords, again. If you spend more Gold than the Event Card Value, you can try to bribe the enemy. Select your 6 Gold and go on\u2026",e:".gold.slot .c6.ccoins"},{m:"Swords, again. If you spend more Gold than the Event Card Value, you can try to bribe the enemy. Select your 6 Gold and go on\u2026",e:"#button-spend"},{m:"When you bribe an enemy, it will join your aids.",e:"#button-accept-aid"},{m:"Draw another card\u2026",e:"#button-draw"},{m:"Another encounter. Try to bribe your enemy again\u2026",e:".gold.slot .c7.ccoins"},{m:"Another encounter. Try to bribe your enemy again\u2026",e:"#button-spend"},{m:"Kings cannot be bribed: you lost you gold and must fight your opponent",e:"#button-reveal-combat"},{m:"Oh no. The enemy is attacking with 7 Swords. Even if you use 2 Coins for shielding or 2 Cups for healing, you will be left with no HP and die..."},{m:"But wait! You have an ally on your side. You can spend one or more aid cards having the same suit as your selected card to increase its effect."},{m:"You want to ask to the Jack of Cups for help, so you have to play the 2 Cups. Select it...",e:".hero-action.slot .c2.ccups"},{m:"Now select your ally...",e:".aid.slot .c8.ccups"},{m:"By using this combination, you will face 7 damage but heal for 3 HP, leaving you with 1 HP.",e:"#button-play-cups"},{m:"Once used, your allies are discarded, so you can use them only once.",h:".aid.slot"},{m:"Now your enemy is attacking you with 4 Clubs. Select your 3 Clubs...",e:".hero-action.slot .c3.cclubs"},{m:"Since you possess a Clubs relic, all your Clubs cards will be automatically increased by 1.",h:".obtained-relic.slot"},{m:"By playing your 3 Clubs now, you will parry a total amount of 4, leaving your HP untouched.",e:"#button-play-clubs"},{m:"Unlike aids, once acquired, relics are used automatically and you will never have to discard them."},{m:"The enemy won' attack you with this action. Unfortunately, you can' attack either.",e:".hero-action.slot .c2.ccoins"},{m:"The enemy won' attack you with this action. Unfortunately, you can' attack either.",e:"#button-play-coins"},{m:"That is you change. Select 6 Clubs...",e:".hero-action.slot .c6.cclubs"},{m:"The enemy will parry 2 of you attack. Even with your relic, he will survive with 2 HP."},{m:"Fortunately you can combine relics and aids. Select your ally.",e:".aid.slot .c10.cclubs"},{m:"With this combination you will inflict a total damage of 8. The enemy will parry 2 but still suffer 6 damage, thus defeating it.",e:"#button-play-clubs"},{m:"Remember that after a combat you can select one or more of your action cards and keep them for your next encounter.",h:".hero-action.slot"},{m:"Choose to keep your 5 Coins.",e:".hero-action.slot .c5.ccoins"},{m:"Choose to keep your 5 Coins.",e:"#button-keep"},{m:"This concludes the tutorial."},{m:"To win the game, you have to defeat all 4 kings and collect their relics."},{m:"Now, click next to go back to the game."}];var rl=(()=>{let e=class e{constructor(n,i){this.document=n,this.tutorialFacade=i,this.enableAutoClick=!1,this.constrainEl=null,this.resizeDebounce=null,this.highlightId="tutorial-highlight",this.highlightEl=null,this.highlightedEl=null,this.steps=Y_,this.clickListener=o=>{let s=o.target;if(s.id.startsWith("tutorial-"))return!0;for(;s;){if(s===this.constrainEl)return this.tutorialFacade.tutorialNext(),!0;s=s.parentElement}return o.stopImmediatePropagation(),!1},this.resizeListener=()=>{this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=window.setTimeout(()=>this.updateHighlight(),100)}}getStep(n){return this.steps[(n??0)-1]}start(){this.highlightEl=document.createElement("div"),this.highlightEl.id=this.highlightId,document.body.append(this.highlightEl),this.document.addEventListener("click",this.clickListener,{capture:!0}),addEventListener("resize",this.resizeListener)}stop(){this.unconstrain(),this.unhighlight(),this.highlightEl&&(this.document.body.removeChild(this.highlightEl),this.highlightEl=null),removeEventListener("resize",this.resizeListener)}constrain(n){let i=n?.e;i?window.setTimeout(()=>this.constrainEl=this.selectElement(i),250):this.constrainEl=null}unconstrain(){this.document.removeEventListener("click",this.clickListener,{capture:!0}),this.constrainEl=null}highlight(n){let i=n?.h||n?.e;window.setTimeout(()=>{this.highlightedEl=i?this.selectElement(i):null,this.updateHighlight()},i?250:0)}unhighlight(){this.highlightedEl=null,this.updateHighlight()}updateHighlight(){if(this.highlightEl)if(this.highlightedEl?.checkVisibility()){this.highlightEl.style.display="block";let n=this.highlightedEl.getBoundingClientRect();this.highlightedEl.classList.contains("slot")&&(n.x+=5,n.y+=5,n.width-=10,n.height-=10),this.highlightEl.style.top=`${n.y}px`,this.highlightEl.style.left=`${n.x}px`,this.highlightEl.style.width=`${n.width}px`,this.highlightEl.style.height=`${n.height}px`}else this.highlightEl.style.display="none"}autoClick(n){n?.autoclick!==void 0&&(this.enableAutoClick=n.autoclick),this.enableAutoClick&&setTimeout(()=>{let i=this.constrainEl||this.document.getElementById("tutorial-next");if(n&&i){let o=new Event("click",{bubbles:!0});i.dispatchEvent(o)}},300)}selectElement(n){return this.document.querySelector(n)}};e.\u0275fac=function(i){return new(i||e)(D(Fe),D(qt))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var K_=(()=>{let e=class e{constructor(n,i,o,s,a){this.actions$=n,this.gameFacade=i,this.menuFacade=o,this.store=s,this.tutorialService=a,this.exit$=le(()=>this.actions$.pipe(ue(fr),J(()=>this.menuFacade.about(!0)),J(()=>this.gameFacade.reset()),J(()=>this.tutorialService.stop())),{dispatch:!1}),this.start$=le(()=>this.actions$.pipe(ue(gi),J(()=>this.gameFacade.start("easy")),J(()=>this.tutorialService.start()),y(()=>dr()))),this.step$=le(()=>this.actions$.pipe(ue(dr),ge(this.store.select(Wo)),y(([,c])=>this.tutorialService.getStep(c)),J(c=>this.tutorialService.highlight(c)),J(c=>this.tutorialService.constrain(c)),J(c=>this.tutorialService.autoClick(c)),y(c=>jo({step:c})))),this.nextReady$=le(()=>this.actions$.pipe(ue(jo),ge(this.store.select(Wo)),y(([,c])=>this.tutorialService.getStep(c)),ie(c=>!c),y(()=>fr())))}};e.\u0275fac=function(i){return new(i||e)(D(ai),D(ct),D(He),D(Ze),D(rl))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var Q_=[{path:"game",component:W_,providers:[zf({name:yi,reducer:By}),zf({name:qc,reducer:zy}),jy(Xy,Z_,K_),ct,He,qt,Kc,rl]},{path:"",pathMatch:"full",redirectTo:"game"}];var J_={providers:[F0(Q_),uy(),Ny({maxAge:25,logOnly:!Na()})]};var X_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Y({type:e,selectors:[["app-root"]],standalone:!0,features:[K],decls:1,vars:0,template:function(i,o){i&1&&R(0,"router-outlet")},dependencies:[xf]});let t=e;return t})();Xv(X_,J_).catch(t=>console.error(t));
