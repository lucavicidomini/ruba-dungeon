var W_=Object.defineProperty,q_=Object.defineProperties;var Z_=Object.getOwnPropertyDescriptors;var Nh=Object.getOwnPropertySymbols;var Y_=Object.prototype.hasOwnProperty,K_=Object.prototype.propertyIsEnumerable;var kh=(t,e,r)=>e in t?W_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y=(t,e)=>{for(var r in e||={})Y_.call(e,r)&&kh(t,r,e[r]);if(Nh)for(var r of Nh(e))K_.call(e,r)&&kh(t,r,e[r]);return t},I=(t,e)=>q_(t,Z_(e));function Ph(t,e){return Object.is(t,e)}var $e=null,Zo=!1,Yo=1,dn=Symbol("SIGNAL");function ue(t){let e=$e;return $e=t,e}var Qo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tl(t){if(Zo)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(t);let e=$e.nextProducerIndex++;if(lr($e),e<$e.producerNode.length&&$e.producerNode[e]!==t&&Ci($e)){let r=$e.producerNode[e];Jo(r,$e.producerIndexOfThis[e])}$e.producerNode[e]!==t&&($e.producerNode[e]=t,$e.producerIndexOfThis[e]=Ci($e)?Vh(t,$e,e):0),$e.producerLastReadVersion[e]=t.version}function Q_(){Yo++}function Fh(t){if(!(Ci(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yo)){if(!t.producerMustRecompute(t)&&!il(t)){t.dirty=!1,t.lastCleanEpoch=Yo;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yo}}function Lh(t){if(t.liveConsumerNode===void 0)return;let e=Zo;Zo=!0;try{for(let r of t.liveConsumerNode)r.dirty||J_(r)}finally{Zo=e}}function jh(){return $e?.consumerAllowSignalWrites!==!1}function J_(t){t.dirty=!0,Lh(t),t.consumerMarkedDirty?.(t)}function nl(t){return t&&(t.nextProducerIndex=0),ue(t)}function rl(t,e){if(ue(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ci(t))for(let r=t.nextProducerIndex;r<t.producerNode.length;r++)Jo(t.producerNode[r],t.producerIndexOfThis[r]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function il(t){lr(t);for(let e=0;e<t.producerNode.length;e++){let r=t.producerNode[e],n=t.producerLastReadVersion[e];if(n!==r.version||(Fh(r),n!==r.version))return!0}return!1}function $h(t){if(lr(t),Ci(t))for(let e=0;e<t.producerNode.length;e++)Jo(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Vh(t,e,r){if(Bh(t),lr(t),t.liveConsumerNode.length===0)for(let n=0;n<t.producerNode.length;n++)t.producerIndexOfThis[n]=Vh(t.producerNode[n],t,n);return t.liveConsumerIndexOfThis.push(r),t.liveConsumerNode.push(e)-1}function Jo(t,e){if(Bh(t),lr(t),t.liveConsumerNode.length===1)for(let n=0;n<t.producerNode.length;n++)Jo(t.producerNode[n],t.producerIndexOfThis[n]);let r=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[r],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[r],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let n=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];lr(i),i.producerIndexOfThis[n]=e}}function Ci(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function lr(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Bh(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Hh(t){let e=Object.create(X_);e.computation=t;let r=()=>{if(Fh(e),tl(e),e.value===Ko)throw e.error;return e.value};return r[dn]=e,r}var Xc=Symbol("UNSET"),el=Symbol("COMPUTING"),Ko=Symbol("ERRORED"),X_=I(y({},Qo),{value:Xc,dirty:!0,error:null,equal:Ph,producerMustRecompute(t){return t.value===Xc||t.value===el},producerRecomputeValue(t){if(t.value===el)throw new Error("Detected cycle in computations.");let e=t.value;t.value=el;let r=nl(t),n;try{n=t.computation()}catch(i){n=Ko,t.error=i}finally{rl(t,r)}if(e!==Xc&&e!==Ko&&n!==Ko&&t.equal(e,n)){t.value=e;return}t.value=n,t.version++}});function ew(){throw new Error}var Uh=ew;function Gh(){Uh()}function zh(t){Uh=t}var tw=null;function Wh(t){let e=Object.create(Zh);e.value=t;let r=()=>(tl(e),e.value);return r[dn]=e,r}function ol(t,e){jh()||Gh(),t.equal(t.value,e)||(t.value=e,nw(t))}function qh(t,e){jh()||Gh(),ol(t,e(t.value))}var Zh=I(y({},Qo),{equal:Ph,value:void 0});function nw(t){t.version++,Q_(),Lh(t),tw?.()}function $(t){return typeof t=="function"}function fn(t){let r=t(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Xo=fn(t=>function(r){t(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function Rn(t,e){if(t){let r=t.indexOf(e);0<=r&&t.splice(r,1)}}var Ce=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if($(n))try{n()}catch(o){e=o instanceof Xo?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Yh(o)}catch(s){e=e??[],s instanceof Xo?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Xo(e)}}add(e){var r;if(e&&e!==this)if(this.closed)Yh(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}}_hasParent(e){let{_parentage:r}=this;return r===e||Array.isArray(r)&&r.includes(e)}_addParent(e){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e}_removeParent(e){let{_parentage:r}=this;r===e?this._parentage=null:Array.isArray(r)&&Rn(r,e)}remove(e){let{_finalizers:r}=this;r&&Rn(r,e),e instanceof t&&e._removeParent(this)}};Ce.EMPTY=(()=>{let t=new Ce;return t.closed=!0,t})();var sl=Ce.EMPTY;function es(t){return t instanceof Ce||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function Yh(t){$(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ur={setTimeout(t,e,...r){let{delegate:n}=ur;return n?.setTimeout?n.setTimeout(t,e,...r):setTimeout(t,e,...r)},clearTimeout(t){let{delegate:e}=ur;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ts(t){ur.setTimeout(()=>{let{onUnhandledError:e}=Et;if(e)e(t);else throw t})}function Zt(){}var Kh=al("C",void 0,void 0);function Qh(t){return al("E",void 0,t)}function Jh(t){return al("N",t,void 0)}function al(t,e,r){return{kind:t,value:e,error:r}}var On=null;function dr(t){if(Et.useDeprecatedSynchronousErrorHandling){let e=!On;if(e&&(On={errorThrown:!1,error:null}),t(),e){let{errorThrown:r,error:n}=On;if(On=null,r)throw n}}else t()}function Xh(t){Et.useDeprecatedSynchronousErrorHandling&&On&&(On.errorThrown=!0,On.error=t)}var Nn=class extends Ce{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,es(e)&&e.add(this)):this.destination=ow}static create(e,r,n){return new Yt(e,r,n)}next(e){this.isStopped?ll(Jh(e),this):this._next(e)}error(e){this.isStopped?ll(Qh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ll(Kh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},rw=Function.prototype.bind;function cl(t,e){return rw.call(t,e)}var ul=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:r}=this;if(r.next)try{r.next(e)}catch(n){ns(n)}}error(e){let{partialObserver:r}=this;if(r.error)try{r.error(e)}catch(n){ns(n)}else ns(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(r){ns(r)}}},Yt=class extends Nn{constructor(e,r,n){super();let i;if($(e)||!e)i={next:e??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&Et.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&cl(e.next,o),error:e.error&&cl(e.error,o),complete:e.complete&&cl(e.complete,o)}):i=e}this.destination=new ul(i)}};function ns(t){Et.useDeprecatedSynchronousErrorHandling?Xh(t):ts(t)}function iw(t){throw t}function ll(t,e){let{onStoppedNotification:r}=Et;r&&ur.setTimeout(()=>r(t,e))}var ow={closed:!0,next:Zt,error:iw,complete:Zt};var fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Be(t){return t}function dl(...t){return fl(t)}function fl(t){return t.length===0?Be:t.length===1?t[0]:function(r){return t.reduce((n,i)=>i(n),r)}}var W=(()=>{class t{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new t;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=aw(r)?r:new Yt(r,n,i);return dr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=ep(n),new n((i,o)=>{let s=new Yt({next:a=>{try{r(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[fr](){return this}pipe(...r){return fl(r)(this)}toPromise(r){return r=ep(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return t.create=e=>new t(e),t})();function ep(t){var e;return(e=t??Et.Promise)!==null&&e!==void 0?e:Promise}function sw(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function aw(t){return t&&t instanceof Nn||sw(t)&&es(t)}function hl(t){return $(t?.lift)}function P(t){return e=>{if(hl(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function k(t,e,r,n,i){return new bi(t,e,r,n,i)}var bi=class extends Nn{constructor(e,r,n,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(a){try{r(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hr(){return P((t,e)=>{let r=null;t._refCount++;let n=k(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){r=null;return}let i=t._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(n),n.closed||(r=t.connect())})}var pr=class extends W{constructor(e,r){super(),this.source=e,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,hl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ce;let r=this.getSubject();e.add(this.source.subscribe(k(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ce.EMPTY)}return e}refCount(){return hr()(this)}};var mr={schedule(t){let e=requestAnimationFrame,r=cancelAnimationFrame,{delegate:n}=mr;n&&(e=n.requestAnimationFrame,r=n.cancelAnimationFrame);let i=e(o=>{r=void 0,t(o)});return new Ce(()=>r?.(i))},requestAnimationFrame(...t){let{delegate:e}=mr;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){let{delegate:e}=mr;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};var tp=fn(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=(()=>{class t extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new rs(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new tp}next(r){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){dr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?sl:(this.currentObservers=null,o.push(r),new Ce(()=>{this.currentObservers=null,Rn(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new W;return r.source=this,r}}return t.create=(e,r)=>new rs(e,r),t})(),rs=class extends V{constructor(e,r){super(),this.destination=e,this.source=r}next(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,e)}error(e){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,e)}complete(){var e,r;(r=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||r===void 0||r.call(e)}_subscribe(e){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(e))!==null&&n!==void 0?n:sl}};var Te=class extends V{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let r=super._subscribe(e);return!r.closed&&e.next(this._value),r}getValue(){let{hasError:e,thrownError:r,_value:n}=this;if(e)throw r;return this._throwIfClosed(),n}next(e){super.next(this._value=e)}};var Ei={now(){return(Ei.delegate||Date).now()},delegate:void 0};var Ii=class extends V{constructor(e=1/0,r=1/0,n=Ei){super(),this._bufferSize=e,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,r)}next(e){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(e),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(e),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=n?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),r}_trimBuffer(){let{_bufferSize:e,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),a=0;for(let c=1;c<n.length&&n[c]<=s;c+=2)a=c;a&&n.splice(0,a+1)}}};var is=class extends Ce{constructor(e,r){super()}schedule(e,r=0){return this}};var Si={setInterval(t,e,...r){let{delegate:n}=Si;return n?.setInterval?n.setInterval(t,e,...r):setInterval(t,e,...r)},clearInterval(t){let{delegate:e}=Si;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var hn=class extends is{constructor(e,r){super(e,r),this.scheduler=e,this.work=r,this.pending=!1}schedule(e,r=0){var n;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,r)),this.pending=!0,this.delay=r,this.id=(n=this.id)!==null&&n!==void 0?n:this.requestAsyncId(o,this.id,r),this}requestAsyncId(e,r,n=0){return Si.setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,r,n=0){if(n!=null&&this.delay===n&&this.pending===!1)return r;r!=null&&Si.clearInterval(r)}execute(e,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let n=this._execute(e,r);if(n)return n;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,r){let n=!1,i;try{this.work(e)}catch(o){n=!0,i=o||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:r}=this,{actions:n}=r;this.work=this.state=this.scheduler=null,this.pending=!1,Rn(n,this),e!=null&&(this.id=this.recycleAsyncId(r,e,null)),this.delay=null,super.unsubscribe()}}};var gr=class t{constructor(e,r=t.now){this.schedulerActionCtor=e,this.now=r}schedule(e,r=0,n){return new this.schedulerActionCtor(this,e).schedule(n,r)}};gr.now=Ei.now;var pn=class extends gr{constructor(e,r=gr.now){super(e,r),this.actions=[],this._active=!1}flush(e){let{actions:r}=this;if(this._active){r.push(e);return}let n;this._active=!0;do if(n=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,n){for(;e=r.shift();)e.unsubscribe();throw n}}};var Kt=new pn(hn),np=Kt;var os=class extends hn{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}schedule(e,r=0){return r>0?super.schedule(e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)}execute(e,r){return r>0||this.closed?super.execute(e,r):this._execute(e,r)}requestAsyncId(e,r,n=0){return n!=null&&n>0||n==null&&this.delay>0?super.requestAsyncId(e,r,n):(e.flush(this),0)}};var ss=class extends pn{};var xi=new ss(os);var as=class extends hn{constructor(e,r){super(e,r),this.scheduler=e,this.work=r}requestAsyncId(e,r,n=0){return n!==null&&n>0?super.requestAsyncId(e,r,n):(e.actions.push(this),e._scheduled||(e._scheduled=mr.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,r,n=0){var i;if(n!=null?n>0:this.delay>0)return super.recycleAsyncId(e,r,n);let{actions:o}=e;r!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==r&&(mr.cancelAnimationFrame(r),e._scheduled=void 0)}};var cs=class extends pn{flush(e){this._active=!0;let r=this._scheduled;this._scheduled=void 0;let{actions:n}=this,i;e=e||n.shift();do if(i=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw i}}};var ls=new cs(as);var Le=new W(t=>t.complete());function us(t){return t&&$(t.schedule)}function pl(t){return t[t.length-1]}function ds(t){return $(pl(t))?t.pop():void 0}function Pt(t){return us(pl(t))?t.pop():void 0}function rp(t,e){return typeof pl(t)=="number"?t.pop():e}function op(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{l(n.next(u))}catch(d){s(d)}}function c(u){try{l(n.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function ip(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kn(t){return this instanceof kn?(this.v=t,this):new kn(t)}function sp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(f){n[f]&&(i[f]=function(h){return new Promise(function(g,v){o.push([f,h,g,v])>1||a(f,h)})})}function a(f,h){try{c(n[f](h))}catch(g){d(o[0][3],g)}}function c(f){f.value instanceof kn?Promise.resolve(f.value.v).then(l,u):d(o[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),o.shift(),o.length&&a(o[0][0],o[0][1])}}function ap(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ip=="function"?ip(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var vr=t=>t&&typeof t.length=="number"&&typeof t!="function";function fs(t){return $(t?.then)}function hs(t){return $(t[fr])}function ps(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function ms(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function cw(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var gs=cw();function vs(t){return $(t?.[gs])}function ys(t){return sp(this,arguments,function*(){let r=t.getReader();try{for(;;){let{value:n,done:i}=yield kn(r.read());if(i)return yield kn(void 0);yield yield kn(n)}}finally{r.releaseLock()}})}function _s(t){return $(t?.getReader)}function fe(t){if(t instanceof W)return t;if(t!=null){if(hs(t))return lw(t);if(vr(t))return uw(t);if(fs(t))return dw(t);if(ps(t))return cp(t);if(vs(t))return fw(t);if(_s(t))return hw(t)}throw ms(t)}function lw(t){return new W(e=>{let r=t[fr]();if($(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uw(t){return new W(e=>{for(let r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function dw(t){return new W(e=>{t.then(r=>{e.closed||(e.next(r),e.complete())},r=>e.error(r)).then(null,ts)})}function fw(t){return new W(e=>{for(let r of t)if(e.next(r),e.closed)return;e.complete()})}function cp(t){return new W(e=>{pw(t,e).catch(r=>e.error(r))})}function hw(t){return cp(ys(t))}function pw(t,e){var r,n,i,o;return op(this,void 0,void 0,function*(){try{for(r=ap(t);n=yield r.next(),!n.done;){let s=n.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}e.complete()})}function qe(t,e,r,n=0,i=!1){let o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function Qt(t,e=0){return P((r,n)=>{r.subscribe(k(n,i=>qe(n,t,()=>n.next(i),e),()=>qe(n,t,()=>n.complete(),e),i=>qe(n,t,()=>n.error(i),e)))})}function ws(t,e=0){return P((r,n)=>{n.add(t.schedule(()=>r.subscribe(n),e))})}function lp(t,e){return fe(t).pipe(ws(e),Qt(e))}function up(t,e){return fe(t).pipe(ws(e),Qt(e))}function dp(t,e){return new W(r=>{let n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function fp(t,e){return new W(r=>{let n;return qe(r,e,()=>{n=t[gs](),qe(r,e,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>$(n?.return)&&n.return()})}function Ds(t,e){if(!t)throw new Error("Iterable cannot be null");return new W(r=>{qe(r,e,()=>{let n=t[Symbol.asyncIterator]();qe(r,e,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function hp(t,e){return Ds(ys(t),e)}function pp(t,e){if(t!=null){if(hs(t))return lp(t,e);if(vr(t))return dp(t,e);if(fs(t))return up(t,e);if(ps(t))return Ds(t,e);if(vs(t))return fp(t,e);if(_s(t))return hp(t,e)}throw ms(t)}function Oe(t,e){return e?pp(t,e):fe(t)}function q(...t){let e=Pt(t);return Oe(t,e)}function mn(t,e){let r=$(t)?t:()=>t,n=i=>i.error(r());return new W(e?i=>e.schedule(n,0,i):n)}var gn=class t{constructor(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}observe(e){return ml(this,e)}do(e,r,n){let{kind:i,value:o,error:s}=this;return i==="N"?e?.(o):i==="E"?r?.(s):n?.()}accept(e,r,n){var i;return $((i=e)===null||i===void 0?void 0:i.next)?this.observe(e):this.do(e,r,n)}toObservable(){let{kind:e,value:r,error:n}=this,i=e==="N"?q(r):e==="E"?mn(()=>n):e==="C"?Le:0;if(!i)throw new TypeError(`Unexpected notification kind ${e}`);return i}static createNext(e){return new t("N",e)}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}};gn.completeNotification=new gn("C");function ml(t,e){var r,n,i;let{kind:o,value:s,error:a}=t;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(r=e.next)===null||r===void 0||r.call(e,s):o==="E"?(n=e.error)===null||n===void 0||n.call(e,a):(i=e.complete)===null||i===void 0||i.call(e)}function Cs(t){return!!t&&(t instanceof W||$(t.lift)&&$(t.subscribe))}var Jt=fn(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function bs(t){return t instanceof Date&&!isNaN(t)}var mw=fn(t=>function(r=null){t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=r});function gl(t,e){let{first:r,each:n,with:i=gw,scheduler:o=e??Kt,meta:s=null}=bs(t)?{first:t}:typeof t=="number"?{each:t}:t;if(r==null&&n==null)throw new TypeError("No timeout provided.");return P((a,c)=>{let l,u,d=null,f=0,h=g=>{u=qe(c,o,()=>{try{l.unsubscribe(),fe(i({meta:s,lastValue:d,seen:f})).subscribe(c)}catch(v){c.error(v)}},g)};l=a.subscribe(k(c,g=>{u?.unsubscribe(),f++,c.next(d=g),n>0&&h(n)},void 0,void 0,()=>{u?.closed||u?.unsubscribe(),d=null})),!f&&h(r!=null?typeof r=="number"?r:+r-o.now():n)})}function gw(t){throw new mw(t)}function _(t,e){return P((r,n)=>{let i=0;r.subscribe(k(n,o=>{n.next(t.call(e,o,i++))}))})}var{isArray:vw}=Array;function yw(t,e){return vw(e)?t(...e):t(e)}function Es(t){return _(e=>yw(t,e))}var{isArray:_w}=Array,{getPrototypeOf:ww,prototype:Dw,keys:Cw}=Object;function mp(t){if(t.length===1){let e=t[0];if(_w(e))return{args:e,keys:null};if(bw(e)){let r=Cw(e);return{args:r.map(n=>e[n]),keys:r}}}return{args:t,keys:null}}function bw(t){return t&&typeof t=="object"&&ww(t)===Dw}function gp(t,e){return t.reduce((r,n,i)=>(r[n]=e[i],r),{})}function He(...t){let e=Pt(t),r=ds(t),{args:n,keys:i}=mp(t);if(n.length===0)return Oe([],e);let o=new W(Ew(n,e,i?s=>gp(i,s):Be));return r?o.pipe(Es(r)):o}function Ew(t,e,r=Be){return n=>{vp(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)vp(e,()=>{let l=Oe(t[c],e),u=!1;l.subscribe(k(n,d=>{o[c]=d,u||(u=!0,a--),a||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function vp(t,e,r){t?qe(r,t,e):e()}function yp(t,e,r,n,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=v=>l<n?g(v):c.push(v),g=v=>{o&&e.next(v),l++;let b=!1;fe(r(v,u++)).subscribe(k(e,M=>{i?.(M),o?h(M):e.next(M)},()=>{b=!0},void 0,()=>{if(b)try{for(l--;c.length&&l<n;){let M=c.shift();s?qe(e,s,()=>g(M)):g(M)}f()}catch(M){e.error(M)}}))};return t.subscribe(k(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Me(t,e,r=1/0){return $(e)?Me((n,i)=>_((o,s)=>e(n,o,i,s))(fe(t(n,i))),r):(typeof e=="number"&&(r=e),P((n,i)=>yp(n,i,t,r)))}function Ti(t=1/0){return Me(Be,t)}function _p(){return Ti(1)}function yr(...t){return _p()(Oe(t,Pt(t)))}function Mi(t){return new W(e=>{fe(t()).subscribe(e)})}var Iw=["addListener","removeListener"],Sw=["addEventListener","removeEventListener"],xw=["on","off"];function ht(t,e,r,n){if($(r)&&(n=r,r=void 0),n)return ht(t,e,r).pipe(Es(n));let[i,o]=Aw(t)?Sw.map(s=>a=>t[s](e,a,r)):Tw(t)?Iw.map(wp(t,e)):Mw(t)?xw.map(wp(t,e)):[];if(!i&&vr(t))return Me(s=>ht(s,e,r))(fe(t));if(!i)throw new TypeError("Invalid event target");return new W(s=>{let a=(...c)=>s.next(1<c.length?c:c[0]);return i(a),()=>o(a)})}function wp(t,e){return r=>n=>t[r](e,n)}function Tw(t){return $(t.addListener)&&$(t.removeListener)}function Mw(t){return $(t.on)&&$(t.off)}function Aw(t){return $(t.addEventListener)&&$(t.removeEventListener)}function Is(t=0,e,r=np){let n=-1;return e!=null&&(us(e)?r=e:n=e),new W(i=>{let o=bs(t)?+t-r.now():t;o<0&&(o=0);let s=0;return r.schedule(function(){i.closed||(i.next(s++),0<=n?this.schedule(void 0,n):i.complete())},o)})}function vl(t=0,e=Kt){return t<0&&(t=0),Is(t,t,e)}function tt(...t){let e=Pt(t),r=rp(t,1/0),n=t;return n.length?n.length===1?fe(n[0]):Ti(r)(Oe(n,e)):Le}function re(t,e){return P((r,n)=>{let i=0;r.subscribe(k(n,o=>t.call(e,o,i++)&&n.next(o)))})}function Dp(t){return P((e,r)=>{let n=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,n){n=!1;let l=i;i=null,r.next(l)}s&&r.complete()},c=()=>{o=null,s&&r.complete()};e.subscribe(k(r,l=>{n=!0,i=l,o||fe(t(l)).subscribe(o=k(r,a,c))},()=>{s=!0,(!n||!o||o.closed)&&r.complete()}))})}function yl(t,e=Kt){return Dp(()=>Is(t,e))}function pt(t){return P((e,r)=>{let n=null,i=!1,o;n=e.subscribe(k(r,void 0,void 0,s=>{o=fe(t(s,pt(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Cp(t,e,r,n,i){return(o,s)=>{let a=r,c=e,l=0;o.subscribe(k(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),n&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Xt(t,e){return $(e)?Me(t,e,1):Me(t,1)}function _l(t,e=Kt){return P((r,n)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,n.next(l)}};function c(){let l=s+t,u=e.now();if(u<l){i=this.schedule(void 0,l-u),n.add(i);return}a()}r.subscribe(k(n,l=>{o=l,s=e.now(),i||(i=e.schedule(c,t),n.add(i))},()=>{a(),n.complete()},void 0,()=>{o=i=null}))})}function vn(t){return P((e,r)=>{let n=!1;e.subscribe(k(r,i=>{n=!0,r.next(i)},()=>{n||r.next(t),r.complete()}))})}function Ze(t){return t<=0?()=>Le:P((e,r)=>{let n=0;e.subscribe(k(r,i=>{++n<=t&&(r.next(i),t<=n&&r.complete())}))})}function wl(){return P((t,e)=>{t.subscribe(k(e,Zt))})}function Dl(t){return _(()=>t)}function Cl(){return P((t,e)=>{t.subscribe(k(e,r=>ml(r,e)))})}function Ss(t,e=Be){return t=t??Rw,P((r,n)=>{let i,o=!0;r.subscribe(k(n,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,n.next(s))}))})}function Rw(t,e){return t===e}function xs(t=Ow){return P((e,r)=>{let n=!1;e.subscribe(k(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(t())))})}function Ow(){return new Jt}function Ts(t,e){return e?r=>r.pipe(Ts((n,i)=>fe(t(n,i)).pipe(_((o,s)=>e(n,o,i,s))))):P((r,n)=>{let i=0,o=null,s=!1;r.subscribe(k(n,a=>{o||(o=k(n,void 0,()=>{o=null,s&&n.complete()}),fe(t(a,i++)).subscribe(o))},()=>{s=!0,!o&&n.complete()}))})}function _r(t){return P((e,r)=>{try{e.subscribe(r)}finally{r.add(t)}})}function Ft(t,e){let r=arguments.length>=2;return n=>n.pipe(t?re((i,o)=>t(i,o,n)):Be,Ze(1),r?vn(e):xs(()=>new Jt))}function Ms(t,e,r,n){return P((i,o)=>{let s;!e||typeof e=="function"?s=e:{duration:r,element:s,connector:n}=e;let a=new Map,c=g=>{a.forEach(g),g(o)},l=g=>c(v=>v.error(g)),u=0,d=!1,f=new bi(o,g=>{try{let v=t(g),b=a.get(v);if(!b){a.set(v,b=n?n():new V);let M=h(v,b);if(o.next(M),r){let z=k(b,()=>{b.complete(),z?.unsubscribe()},void 0,void 0,()=>a.delete(v));f.add(fe(r(M)).subscribe(z))}}b.next(s?s(g):g)}catch(v){l(v)}},()=>c(g=>g.complete()),l,()=>a.clear(),()=>(d=!0,u===0));i.subscribe(f);function h(g,v){let b=new W(M=>{u++;let z=v.subscribe(M);return()=>{z.unsubscribe(),--u===0&&d&&f.unsubscribe()}});return b.key=g,b}})}function wr(t){return t<=0?()=>Le:P((e,r)=>{let n=[];e.subscribe(k(r,i=>{n.push(i),t<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function bl(t,e){let r=arguments.length>=2;return n=>n.pipe(t?re((i,o)=>t(i,o,n)):Be,wr(1),r?vn(e):xs(()=>new Jt))}function El(){return P((t,e)=>{t.subscribe(k(e,r=>{e.next(gn.createNext(r))},()=>{e.next(gn.createComplete()),e.complete()},r=>{e.next(gn.createError(r)),e.complete()}))})}function Il(...t){let e=t.length;if(e===0)throw new Error("list of properties cannot be empty.");return _(r=>{let n=r;for(let i=0;i<e;i++){let o=n?.[t[i]];if(typeof o<"u")n=o;else return}return n})}function Pn(t,e){return P(Cp(t,e,arguments.length>=2,!0))}function xl(t={}){let{connector:e=()=>new V,resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=t;return o=>{let s,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},g=()=>{let v=s;h(),v?.unsubscribe()};return P((v,b)=>{l++,!d&&!u&&f();let M=c=c??e();b.add(()=>{l--,l===0&&!d&&!u&&(a=Sl(g,i))}),M.subscribe(b),!s&&l>0&&(s=new Yt({next:z=>M.next(z),error:z=>{d=!0,f(),a=Sl(h,r,z),M.error(z)},complete:()=>{u=!0,f(),a=Sl(h,n),M.complete()}}),fe(v).subscribe(s))})(o)}}function Sl(t,e,...r){if(e===!0){t();return}if(e===!1)return;let n=new Yt({next:()=>{n.unsubscribe(),t()}});return fe(e(...r)).subscribe(n)}function Tl(t){return re((e,r)=>t<=r)}function Dr(...t){let e=Pt(t);return P((r,n)=>{(e?yr(t,r,e):yr(t,r)).subscribe(n)})}function Ue(t,e){return P((r,n)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&n.complete();r.subscribe(k(n,c=>{i?.unsubscribe();let l=0,u=o++;fe(t(c,u)).subscribe(i=k(n,d=>n.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function je(t){return P((e,r)=>{fe(t).subscribe(k(r,()=>r.complete(),Zt)),!r.closed&&e.subscribe(r)})}function Q(t,e,r){let n=$(t)||e||r?{next:t,error:e,complete:r}:t;return n?P((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let a=!0;i.subscribe(k(o,c=>{var l;(l=n.next)===null||l===void 0||l.call(n,c),o.next(c)},()=>{var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},c=>{var l;a=!1,(l=n.error)===null||l===void 0||l.call(n,c),o.error(c)},()=>{var c,l;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(l=n.finalize)===null||l===void 0||l.call(n)}))}):Be}function ye(...t){let e=ds(t);return P((r,n)=>{let i=t.length,o=new Array(i),s=t.map(()=>!1),a=!1;for(let c=0;c<i;c++)fe(t[c]).subscribe(k(n,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Be))&&(s=null))},Zt));r.subscribe(k(n,c=>{if(a){let l=[c,...o];n.next(e?e(...l):l)}}))})}var cm="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,r){super(Fu(e,r)),this.code=e}};function Fu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Gi(t){return{toString:t}.toString()}var As="__parameters__";function kw(t){return function(...r){if(t){let n=t(...r);for(let i in n)this[i]=n[i]}}}function Pw(t,e,r){return Gi(()=>{let n=kw(e);function i(...o){if(this instanceof i)return n.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(As)?c[As]:Object.defineProperty(c,As,{value:[]})[As];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var en=globalThis;function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let r=e.indexOf(`
`);return r===-1?e:e.substring(0,r)}function bp(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Fw=xe({__forward_ref__:xe});function lm(t){return t.__forward_ref__=lm,t.toString=function(){return rt(this())},t}function Je(t){return um(t)?t():t}function um(t){return typeof t=="function"&&t.hasOwnProperty(Fw)&&t.__forward_ref__===lm}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gt(t){return{providers:t.providers||[],imports:t.imports||[]}}function sa(t){return Ep(t,fm)||Ep(t,hm)}function dm(t){return sa(t)!==null}function Ep(t,e){return t.hasOwnProperty(e)?t[e]:null}function Lw(t){let e=t&&(t[fm]||t[hm]);return e||null}function Ip(t){return t&&(t.hasOwnProperty(Sp)||t.hasOwnProperty(jw))?t[Sp]:null}var fm=xe({\u0275prov:xe}),Sp=xe({\u0275inj:xe}),hm=xe({ngInjectableDef:xe}),jw=xe({ngInjectorDef:xe}),E=class{constructor(e,r){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=S({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pm(t){return t&&!!t.\u0275providers}var $w=xe({\u0275cmp:xe}),Vw=xe({\u0275dir:xe}),Bw=xe({\u0275pipe:xe}),Hw=xe({\u0275mod:xe}),Vs=xe({\u0275fac:xe}),Ai=xe({__NG_ELEMENT_ID__:xe}),xp=xe({__NG_ENV_ID__:xe});function Ir(t){return typeof t=="string"?t:t==null?"":String(t)}function Uw(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ir(t)}function Gw(t,e){let r=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Z(-200,t)}function Lu(t,e){throw new Z(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),zl;function mm(){return zl}function nt(t){let e=zl;return zl=t,e}function gm(t,e,r){let n=sa(t);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&se.Optional)return null;if(e!==void 0)return e;Lu(t,"Injector")}var zw={},Ri=zw,Wl="__NG_DI_FLAG__",Bs="ngTempTokenPath",Ww="ngTokenPath",qw=/\n/gm,Zw="\u0275",Tp="__source",Sr;function Yw(){return Sr}function yn(t){let e=Sr;return Sr=t,e}function Kw(t,e=se.Default){if(Sr===void 0)throw new Z(-203,!1);return Sr===null?gm(t,void 0,e):Sr.get(t,e&se.Optional?null:void 0,e)}function D(t,e=se.Default){return(mm()||Kw)(Je(t),e)}function w(t,e=se.Default){return D(t,aa(e))}function aa(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ql(t){let e=[];for(let r=0;r<t.length;r++){let n=Je(t[r]);if(Array.isArray(n)){if(n.length===0)throw new Z(900,!1);let i,o=se.Default;for(let s=0;s<n.length;s++){let a=n[s],c=Jw(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(D(i,o))}else e.push(D(n))}return e}function Qw(t,e){return t[Wl]=e,t.prototype[Wl]=e,t}function Jw(t){return t[Wl]}function Xw(t,e,r,n){let i=t[Bs];throw e[Tp]&&i.unshift(e[Tp]),t.message=eD(`
`+t.message,i,r,n),t[Ww]=i,t[Bs]=null,t}function eD(t,e,r,n=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Zw?t.slice(2):t;let i=rt(e);if(Array.isArray(e))i=e.map(rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):rt(a)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${t.replace(qw,`
  `)}`}var ju=Qw(Pw("Inject",t=>({token:t})),-1);function jn(t,e){let r=t.hasOwnProperty(Vs);return r?t[Vs]:null}function $u(t,e){t.forEach(r=>Array.isArray(r)?$u(r,e):e(r))}function vm(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function Hs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function tD(t,e){let r=[];for(let n=0;n<t;n++)r.push(e);return r}function nD(t,e,r,n){let i=t.length;if(i==e)t.push(r,n);else if(i===1)t.push(n,t[0]),t[0]=r;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=r,t[e+1]=n}}function rD(t,e,r){let n=zi(t,e);return n>=0?t[n|1]=r:(n=~n,nD(t,n,e,r)),n}function Ml(t,e){let r=zi(t,e);if(r>=0)return t[r|1]}function zi(t,e){return iD(t,e,1)}function iD(t,e,r){let n=0,i=t.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=t[o<<r];if(e===s)return o<<r;s>e?i=o:n=o+1}return~(i<<r)}var Oi={},St=[],Tt=new E(""),ym=new E("",-1),_m=new E(""),Us=class{get(e,r=Ri){if(r===Ri){let n=new Error(`NullInjectorError: No provider for ${rt(e)}!`);throw n.name="NullInjectorError",n}return r}},wm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(wm||{}),$t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}($t||{}),Ae=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ae||{});function oD(t,e,r){let n=t.length;for(;;){let i=t.indexOf(e,r);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===n||t.charCodeAt(i+o)<=32)return i}r=i+1}}function Zl(t,e,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],a=r[n++];t.setAttribute(e,s,a,o)}else{let o=i,s=r[++n];aD(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),n++}}return n}function sD(t){return t===3||t===4||t===6}function aD(t){return t.charCodeAt(0)===64}function Vu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let r=-1;for(let n=0;n<e.length;n++){let i=e[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?Mp(t,r,i,null,e[++n]):Mp(t,r,i,null,null))}}return t}function Mp(t,e,r,n,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===r){if(n===null){i!==null&&(t[o+1]=i);return}else if(n===t[o+1]){t[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,r),n!==null&&t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}var Dm="ng-template";function cD(t,e,r,n){let i=0;if(n){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oD(e[i+1].toLowerCase(),r,0)!==-1)return!0}else if(Bu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function Bu(t){return t.type===4&&t.value!==Dm}function lD(t,e,r){let n=t.type===4&&!r?Dm:t.value;return e===n}function uD(t,e,r){let n=4,i=t.attrs,o=i!==null?hD(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!It(n)&&!It(c))return!1;if(s&&It(c))continue;s=!1,n=c|n&1;continue}if(!s)if(n&4){if(n=2|n&1,c!==""&&!lD(t,c,r)||c===""&&e.length===1){if(It(n))return!1;s=!0}}else if(n&8){if(i===null||!cD(t,i,c,r)){if(It(n))return!1;s=!0}}else{let l=e[++a],u=dD(c,i,Bu(t),r);if(u===-1){if(It(n))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),n&2&&l!==d){if(It(n))return!1;s=!0}}}}return It(n)||s}function It(t){return(t&1)===0}function dD(t,e,r,n){if(e===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pD(e,t)}function Cm(t,e,r=!1){for(let n=0;n<e.length;n++)if(uD(t,e[n],r))return!0;return!1}function fD(t){let e=t.attrs;if(e!=null){let r=e.indexOf(5);if(!(r&1))return e[r+1]}return null}function hD(t){for(let e=0;e<t.length;e++){let r=t[e];if(sD(r))return e}return t.length}function pD(t,e){let r=t.indexOf(4);if(r>-1)for(r++;r<t.length;){let n=t[r];if(typeof n=="number")return-1;if(n===e)return r;r++}return-1}function mD(t,e){e:for(let r=0;r<e.length;r++){let n=e[r];if(t.length===n.length){for(let i=0;i<t.length;i++)if(t[i]!==n[i])continue e;return!0}}return!1}function Ap(t,e){return t?":not("+e.trim()+")":e}function gD(t){let e=t[0],r=1,n=2,i="",o=!1;for(;r<t.length;){let s=t[r];if(typeof s=="string")if(n&2){let a=t[++r];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!It(s)&&(e+=Ap(o,i),i=""),n=s,o=o||!It(n);r++}return i!==""&&(e+=Ap(o,i)),e}function vD(t){return t.map(gD).join(",")}function yD(t){let e=[],r=[],n=1,i=2;for(;n<t.length;){let o=t[n];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++n]):i===8&&r.push(o);else{if(!It(i))break;i=o}n++}return{attrs:e,classes:r}}function J(t){return Gi(()=>{let e=xm(t),r=I(y({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===wm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||$t.Emulated,styles:t.styles||St,_:null,schemas:t.schemas||null,tView:null,id:""});Tm(r);let n=t.dependencies;return r.directiveDefs=Op(n,!1),r.pipeDefs=Op(n,!0),r.id=DD(r),r})}function _D(t){return wn(t)||bm(t)}function wD(t){return t!==null}function vt(t){return Gi(()=>({type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Rp(t,e){if(t==null)return Oi;let r={};for(let n in t)if(t.hasOwnProperty(n)){let i=t[n],o,s,a=Ae.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(r[o]=a!==Ae.None?[n,a]:n,e[o]=s):r[o]=n}return r}function rn(t){return Gi(()=>{let e=xm(t);return Tm(e),e})}function Hu(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function wn(t){return t[$w]||null}function bm(t){return t[Vw]||null}function Em(t){return t[Bw]||null}function Im(t){let e=wn(t)||bm(t)||Em(t);return e!==null?e.standalone:!1}function Sm(t,e){let r=t[Hw]||null;if(!r&&e===!0)throw new Error(`Type ${rt(t)} does not have '\u0275mod' property.`);return r}function xm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Rp(t.inputs,e),outputs:Rp(t.outputs),debugInfo:null}}function Tm(t){t.features?.forEach(e=>e(t))}function Op(t,e){if(!t)return null;let r=e?Em:_D;return()=>(typeof t=="function"?t():t).map(n=>r(n)).filter(wD)}function DD(t){let e=0,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of r)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function At(t){return{\u0275providers:t}}function CD(...t){return{\u0275providers:Mm(!0,t),\u0275fromNgModule:!0}}function Mm(t,...e){let r=[],n=new Set,i,o=s=>{r.push(s)};return $u(e,s=>{let a=s;Yl(a,o,[],n)&&(i||=[],i.push(a))}),i!==void 0&&Am(i,o),r}function Am(t,e){for(let r=0;r<t.length;r++){let{ngModule:n,providers:i}=t[r];Uu(i,o=>{e(o,n)})}}function Yl(t,e,r,n){if(t=Je(t),!t)return!1;let i=null,o=Ip(t),s=!o&&wn(t);if(!o&&!s){let c=t.ngModule;if(o=Ip(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=n.has(i);if(s){if(a)return!1;if(n.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Yl(l,e,r,n)}}else if(o){if(o.imports!=null&&!a){n.add(i);let l;try{$u(o.imports,u=>{Yl(u,e,r,n)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Am(l,e)}if(!a){let l=jn(i)||(()=>new i);e({provide:i,useFactory:l,deps:St},i),e({provide:_m,useValue:i,multi:!0},i),e({provide:Tt,useValue:()=>D(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Uu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Uu(t,e){for(let r of t)pm(r)&&(r=r.\u0275providers),Array.isArray(r)?Uu(r,e):e(r)}var bD=xe({provide:String,useValue:xe});function Rm(t){return t!==null&&typeof t=="object"&&bD in t}function ED(t){return!!(t&&t.useExisting)}function ID(t){return!!(t&&t.useFactory)}function Tr(t){return typeof t=="function"}function SD(t){return!!t.useClass}var ca=new E(""),Ps={},xD={},Al;function la(){return Al===void 0&&(Al=new Us),Al}var it=class{},Ni=class extends it{get destroyed(){return this._destroyed}constructor(e,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ql(e,s=>this.processProvider(s)),this.records.set(ym,Cr(void 0,this)),i.has("environment")&&this.records.set(it,Cr(void 0,this));let o=this.records.get(ca);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_m,St,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ue(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ue(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let r=yn(this),n=nt(void 0),i;try{return e()}finally{yn(r),nt(n)}}get(e,r=Ri,n=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(xp))return e[xp](this);n=aa(n);let i,o=yn(this),s=nt(void 0);try{if(!(n&se.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=OD(e)&&sa(e);l&&this.injectableDefInScope(l)?c=Cr(Kl(e),Ps):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=n&se.Self?la():this.parent;return r=n&se.Optional&&r===Ri?null:r,a.get(e,r)}catch(a){if(a.name==="NullInjectorError"){if((a[Bs]=a[Bs]||[]).unshift(rt(e)),o)throw a;return Xw(a,e,"R3InjectorError",this.source)}else throw a}finally{nt(s),yn(o)}}resolveInjectorInitializers(){let e=ue(null),r=yn(this),n=nt(void 0),i;try{let o=this.get(Tt,St,se.Self);for(let s of o)s()}finally{yn(r),nt(n),ue(e)}}toString(){let e=[],r=this.records;for(let n of r.keys())e.push(rt(n));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=Je(e);let r=Tr(e)?e:Je(e&&e.provide),n=MD(e);if(!Tr(e)&&e.multi===!0){let i=this.records.get(r);i||(i=Cr(void 0,Ps,!0),i.factory=()=>ql(i.multi),this.records.set(r,i)),r=e,i.multi.push(e)}this.records.set(r,n)}hydrate(e,r){let n=ue(null);try{return r.value===Ps&&(r.value=xD,r.value=r.factory()),typeof r.value=="object"&&r.value&&RD(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ue(n)}}injectableDefInScope(e){if(!e.providedIn)return!1;let r=Je(e.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(e){let r=this._onDestroyHooks.indexOf(e);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Kl(t){let e=sa(t),r=e!==null?e.factory:jn(t);if(r!==null)return r;if(t instanceof E)throw new Z(204,!1);if(t instanceof Function)return TD(t);throw new Z(204,!1)}function TD(t){if(t.length>0)throw new Z(204,!1);let r=Lw(t);return r!==null?()=>r.factory(t):()=>new t}function MD(t){if(Rm(t))return Cr(void 0,t.useValue);{let e=Om(t);return Cr(e,Ps)}}function Om(t,e,r){let n;if(Tr(t)){let i=Je(t);return jn(i)||Kl(i)}else if(Rm(t))n=()=>Je(t.useValue);else if(ID(t))n=()=>t.useFactory(...ql(t.deps||[]));else if(ED(t))n=()=>D(Je(t.useExisting));else{let i=Je(t&&(t.useClass||t.provide));if(AD(t))n=()=>new i(...ql(t.deps));else return jn(i)||Kl(i)}return n}function Cr(t,e,r=!1){return{factory:t,value:e,multi:r?[]:void 0}}function AD(t){return!!t.deps}function RD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function OD(t){return typeof t=="function"||typeof t=="object"&&t instanceof E}function Ql(t,e){for(let r of t)Array.isArray(r)?Ql(r,e):r&&pm(r)?Ql(r.\u0275providers,e):e(r)}function zn(t,e){t instanceof Ni&&t.assertNotDestroyed();let r,n=yn(t),i=nt(void 0);try{return e()}finally{yn(n),nt(i)}}function Nm(){return mm()!==void 0||Yw()!=null}function km(t){if(!Nm())throw new Z(-203,!1)}function ND(t){return typeof t=="function"}var on=0,ie=1,Y=2,Ke=3,xt=4,ct=5,Mr=6,ki=7,Ye=8,Ar=9,Mt=10,Ge=11,Pi=12,Np=13,Fr=14,mt=15,ua=16,br=17,Rr=18,da=19,Pm=20,_n=21,Rl=22,$n=23,ot=25,Fm=1;var Vn=7,Gs=8,zs=9,Xe=10,Gu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gu||{});function Fn(t){return Array.isArray(t)&&typeof t[Fm]=="object"}function sn(t){return Array.isArray(t)&&t[Fm]===!0}function Lm(t){return(t.flags&4)!==0}function fa(t){return t.componentOffset>-1}function zu(t){return(t.flags&1)===1}function Lr(t){return!!t.template}function kD(t){return(t[Y]&512)!==0}var Jl=class{constructor(e,r,n){this.previousValue=e,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function jm(t,e,r,n){e!==null?e.applyValueToInputSignal(e,n):t[r]=n}function Wn(){return $m}function $m(t){return t.type.prototype.ngOnChanges&&(t.setInput=FD),PD}Wn.ngInherit=!0;function PD(){let t=Bm(this),e=t?.current;if(e){let r=t.previous;if(r===Oi)t.previous=e;else for(let n in e)r[n]=e[n];t.current=null,this.ngOnChanges(e)}}function FD(t,e,r,n,i){let o=this.declaredInputs[n],s=Bm(t)||LD(t,{previous:Oi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new Jl(l&&l.currentValue,r,c===Oi),jm(t,e,i,r)}var Vm="__ngSimpleChanges__";function Bm(t){return t[Vm]||null}function LD(t,e){return t[Vm]=e}var kp=null;var Lt=function(t,e,r){kp?.(t,e,r)},Hm="svg",jD="math",$D=!1;function VD(){return $D}function Vt(t){for(;Array.isArray(t);)t=t[on];return t}function Um(t,e){return Vt(e[t])}function Rt(t,e){return Vt(e[t.index])}function Wu(t,e){return t.data[e]}function BD(t,e){return t[e]}function Cn(t,e){let r=e[t];return Fn(r)?r:r[on]}function qu(t){return(t[Y]&128)===128}function HD(t){return sn(t[Ke])}function Ws(t,e){return e==null?null:t[e]}function Gm(t){t[br]=0}function UD(t){t[Y]&1024||(t[Y]|=1024,qu(t)&&Fi(t))}function GD(t,e){for(;t>0;)e=e[Fr],t--;return e}function Zu(t){return!!(t[Y]&9216||t[$n]?.dirty)}function Xl(t){t[Mt].changeDetectionScheduler?.notify(1),Zu(t)?Fi(t):t[Y]&64&&(VD()?(t[Y]|=1024,Fi(t)):t[Mt].changeDetectionScheduler?.notify())}function Fi(t){t[Mt].changeDetectionScheduler?.notify();let e=Li(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!qu(e)));)e=Li(e)}function zm(t,e){if((t[Y]&256)===256)throw new Z(911,!1);t[_n]===null&&(t[_n]=[]),t[_n].push(e)}function zD(t,e){if(t[_n]===null)return;let r=t[_n].indexOf(e);r!==-1&&t[_n].splice(r,1)}function Li(t){let e=t[Ke];return sn(e)?e[Ke]:e}var oe={lFrame:tg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function WD(){return oe.lFrame.elementDepthCount}function qD(){oe.lFrame.elementDepthCount++}function ZD(){oe.lFrame.elementDepthCount--}function Wm(){return oe.bindingsEnabled}function qm(){return oe.skipHydrationRootTNode!==null}function YD(t){return oe.skipHydrationRootTNode===t}function KD(){oe.skipHydrationRootTNode=null}function Se(){return oe.lFrame.lView}function yt(){return oe.lFrame.tView}function pe(t){return oe.lFrame.contextLView=t,t[Ye]}function me(t){return oe.lFrame.contextLView=null,t}function Ot(){let t=Zm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zm(){return oe.lFrame.currentTNode}function QD(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wi(t,e){let r=oe.lFrame;r.currentTNode=t,r.isParent=e}function Ym(){return oe.lFrame.isParent}function Km(){oe.lFrame.isParent=!1}function JD(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function XD(){return oe.lFrame.bindingIndex}function eC(t){return oe.lFrame.bindingIndex=t}function ha(){return oe.lFrame.bindingIndex++}function Qm(t){let e=oe.lFrame,r=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,r}function tC(){return oe.lFrame.inI18n}function nC(t,e){let r=oe.lFrame;r.bindingIndex=r.bindingRootIndex=t,eu(e)}function rC(){return oe.lFrame.currentDirectiveIndex}function eu(t){oe.lFrame.currentDirectiveIndex=t}function iC(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Jm(t){oe.lFrame.currentQueryIndex=t}function oC(t){let e=t[ie];return e.type===2?e.declTNode:e.type===1?t[ct]:null}function Xm(t,e,r){if(r&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(r&se.Host);)if(i=oC(o),i===null||(o=o[Fr],i.type&10))break;if(i===null)return!1;e=i,t=o}let n=oe.lFrame=eg();return n.currentTNode=e,n.lView=t,!0}function Yu(t){let e=eg(),r=t[ie];oe.lFrame=e,e.currentTNode=r.firstChild,e.lView=t,e.tView=r,e.contextLView=t,e.bindingIndex=r.bindingStartIndex,e.inI18n=!1}function eg(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?tg(t):e}function tg(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ng(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rg=ng;function Ku(){let t=ng();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function sC(t){return(oe.lFrame.contextLView=GD(t,oe.lFrame.contextLView))[Ye]}function bn(){return oe.lFrame.selectedIndex}function Bn(t){oe.lFrame.selectedIndex=t}function aC(){let t=oe.lFrame;return Wu(t.tView,t.selectedIndex)}function we(){oe.lFrame.currentNamespace=Hm}function Fe(){cC()}function cC(){oe.lFrame.currentNamespace=null}function lC(){return oe.lFrame.currentNamespace}var ig=!0;function Qu(){return ig}function Ju(t){ig=t}function uC(t,e,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(n){let s=$m(e);(r.preOrderHooks??=[]).push(t,s),(r.preOrderCheckHooks??=[]).push(t,s)}i&&(r.preOrderHooks??=[]).push(0-t,i),o&&((r.preOrderHooks??=[]).push(t,o),(r.preOrderCheckHooks??=[]).push(t,o))}function Xu(t,e){for(let r=e.directiveStart,n=e.directiveEnd;r<n;r++){let o=t.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-r,s),a&&((t.contentHooks??=[]).push(r,a),(t.contentCheckHooks??=[]).push(r,a)),c&&(t.viewHooks??=[]).push(-r,c),l&&((t.viewHooks??=[]).push(r,l),(t.viewCheckHooks??=[]).push(r,l)),u!=null&&(t.destroyHooks??=[]).push(r,u)}}function Fs(t,e,r){og(t,e,3,r)}function Ls(t,e,r,n){(t[Y]&3)===r&&og(t,e,r,n)}function Ol(t,e){let r=t[Y];(r&3)===e&&(r&=16383,r+=1,t[Y]=r)}function og(t,e,r,n){let i=n!==void 0?t[br]&65535:0,o=n??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],n!=null&&a>=n)break}else e[c]<0&&(t[br]+=65536),(a<o||o==-1)&&(dC(t,r,e,c),t[br]=(t[br]&4294901760)+c+2),c++}function Pp(t,e){Lt(4,t,e);let r=ue(null);try{e.call(t)}finally{ue(r),Lt(5,t,e)}}function dC(t,e,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],a=t[s];i?t[Y]>>14<t[br]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,Pp(a,o)):Pp(a,o)}var xr=-1,Hn=class{constructor(e,r,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function fC(t){return t instanceof Hn}function hC(t){return(t.flags&8)!==0}function pC(t){return(t.flags&16)!==0}function sg(t){return t!==xr}function qs(t){return t&32767}function mC(t){return t>>16}function Zs(t,e){let r=mC(t),n=e;for(;r>0;)n=n[Fr],r--;return n}var tu=!0;function Ys(t){let e=tu;return tu=t,e}var gC=256,ag=gC-1,cg=5,vC=0,jt={};function yC(t,e,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Ai)&&(n=r[Ai]),n==null&&(n=r[Ai]=vC++);let i=n&ag,o=1<<i;e.data[t+(i>>cg)]|=o}function Ks(t,e){let r=lg(t,e);if(r!==-1)return r;let n=e[ie];n.firstCreatePass&&(t.injectorIndex=e.length,Nl(n.data,t),Nl(e,null),Nl(n.blueprint,null));let i=ed(t,e),o=t.injectorIndex;if(sg(i)){let s=qs(i),a=Zs(i,e),c=a[ie].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Nl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lg(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ed(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let r=0,n=null,i=e;for(;i!==null;){if(n=pg(i),n===null)return xr;if(r++,i=i[Fr],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return xr}function nu(t,e,r){yC(t,e,r)}function ug(t,e,r){if(r&se.Optional||t!==void 0)return t;Lu(e,"NodeInjector")}function dg(t,e,r,n){if(r&se.Optional&&n===void 0&&(n=null),!(r&(se.Self|se.Host))){let i=t[Ar],o=nt(void 0);try{return i?i.get(e,n,r&se.Optional):gm(e,n,r&se.Optional)}finally{nt(o)}}return ug(n,e,r)}function fg(t,e,r,n=se.Default,i){if(t!==null){if(e[Y]&2048&&!(n&se.Self)){let s=bC(t,e,r,n,jt);if(s!==jt)return s}let o=hg(t,e,r,n,jt);if(o!==jt)return o}return dg(e,r,n,i)}function hg(t,e,r,n,i){let o=DC(r);if(typeof o=="function"){if(!Xm(e,t,n))return n&se.Host?ug(i,r,n):dg(e,r,n,i);try{let s;if(s=o(n),s==null&&!(n&se.Optional))Lu(r);else return s}finally{rg()}}else if(typeof o=="number"){let s=null,a=lg(t,e),c=xr,l=n&se.Host?e[mt][ct]:null;for((a===-1||n&se.SkipSelf)&&(c=a===-1?ed(t,e):e[a+8],c===xr||!Lp(n,!1)?a=-1:(s=e[ie],a=qs(c),e=Zs(c,e)));a!==-1;){let u=e[ie];if(Fp(o,a,u.data)){let d=_C(a,e,r,s,n,l);if(d!==jt)return d}c=e[a+8],c!==xr&&Lp(n,e[ie].data[a+8]===l)&&Fp(o,a,e)?(s=u,a=qs(c),e=Zs(c,e)):a=-1}}return i}function _C(t,e,r,n,i,o){let s=e[ie],a=s.data[t+8],c=n==null?fa(a)&&tu:n!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,u=wC(a,s,r,c,l);return u!==null?Or(e,s,u,a):jt}function wC(t,e,r,n,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=n?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let g=s[h];if(h<c&&r===g||h>=c&&g.type===r)return h}if(i){let h=s[c];if(h&&Lr(h)&&h.type===r)return c}return null}function Or(t,e,r,n){let i=t[r],o=e.data;if(fC(i)){let s=i;s.resolving&&Gw(Uw(o[r]));let a=Ys(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?nt(s.injectImpl):null,u=Xm(t,n,se.Default);try{i=t[r]=s.factory(void 0,o,t,n),e.firstCreatePass&&r>=n.directiveStart&&uC(r,o[r],e)}finally{l!==null&&nt(l),Ys(a),s.resolving=!1,rg()}}return i}function DC(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ai)?t[Ai]:void 0;return typeof e=="number"?e>=0?e&ag:CC:e}function Fp(t,e,r){let n=1<<t;return!!(r[e+(t>>cg)]&n)}function Lp(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Ln=class{constructor(e,r){this._tNode=e,this._lView=r}get(e,r,n){return fg(this._tNode,this._lView,e,aa(n),r)}};function CC(){return new Ln(Ot(),Se())}function qn(t){return Gi(()=>{let e=t.prototype.constructor,r=e[Vs]||ru(e),n=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==n;){let o=i[Vs]||ru(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ru(t){return um(t)?()=>{let e=ru(Je(t));return e&&e()}:jn(t)}function bC(t,e,r,n,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!(s[Y]&512);){let a=hg(o,s,r,n|se.Self,jt);if(a!==jt)return a;let c=o.parent;if(!c){let l=s[Pm];if(l){let u=l.get(r,jt,n);if(u!==jt)return u}c=pg(s),s=s[Fr]}o=c}return i}function pg(t){let e=t[ie],r=e.type;return r===2?e.declTNode:r===1?t[ct]:null}function jp(t,e=null,r=null,n){let i=mg(t,e,r,n);return i.resolveInjectorInitializers(),i}function mg(t,e=null,r=null,n,i=new Set){let o=[r||St,CD(t)];return n=n||(typeof t=="object"?void 0:rt(t)),new Ni(o,e||la(),n||null,i)}var jr=(()=>{let e=class e{static create(n,i){if(Array.isArray(n))return jp({name:""},i,n,"");{let o=n.name??"";return jp({name:o},n.parent,n.providers,o)}}};e.THROW_IF_NOT_FOUND=Ri,e.NULL=new Us,e.\u0275prov=S({token:e,providedIn:"any",factory:()=>D(ym)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var EC="ngOriginalError";function kl(t){return t[EC]}var at=class{constructor(){this._console=console}handleError(e){let r=this._findOriginalError(e);this._console.error("ERROR",e),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(e){let r=e&&kl(e);for(;r&&kl(r);)r=kl(r);return r||null}},gg=new E("",{providedIn:"root",factory:()=>w(at).handleError.bind(void 0)}),qi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IC,e.__NG_ENV_ID__=n=>n;let t=e;return t})(),iu=class extends qi{constructor(e){super(),this._lView=e}onDestroy(e){return zm(this._lView,e),()=>zD(this._lView,e)}};function IC(){return new iu(Se())}function SC(){return td(Ot(),Se())}function td(t,e){return new Nt(Rt(t,e))}var Nt=(()=>{let e=class e{constructor(n){this.nativeElement=n}};e.__NG_ELEMENT_ID__=SC;let t=e;return t})();var ou=class extends V{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Nm()&&(this.destroyRef=w(qi,{optional:!0})??void 0)}emit(e){let r=ue(null);try{super.next(e)}finally{ue(r)}}subscribe(e,r,n){let i=e,o=r||(()=>null),s=n;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Pl(o),i&&(i=Pl(i)),s&&(s=Pl(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ce&&e.add(a),a}};function Pl(t){return e=>{setTimeout(t,void 0,e)}}var _e=ou;function vg(t){return(t.flags&128)===128}var yg=new Map,xC=0;function TC(){return xC++}function MC(t){yg.set(t[da],t)}function AC(t){yg.delete(t[da])}var $p="__ngContext__";function Un(t,e){Fn(e)?(t[$p]=e[da],MC(e)):t[$p]=e}function _g(t){return Dg(t[Pi])}function wg(t){return Dg(t[xt])}function Dg(t){for(;t!==null&&!sn(t);)t=t[xt];return t}var su;function Cg(t){su=t}function bg(){if(su!==void 0)return su;if(typeof document<"u")return document;throw new Z(210,!1)}var nd=new E("",{providedIn:"root",factory:()=>RC}),RC="ng",rd=new E(""),En=new E("",{providedIn:"platform",factory:()=>"unknown"});var id=new E("",{providedIn:"root",factory:()=>bg().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var OC="h",NC="b";var kC=()=>null;function od(t,e,r=!1){return kC(t,e,r)}var Eg=!1,PC=new E("",{providedIn:"root",factory:()=>Eg});var Rs;function FC(){if(Rs===void 0&&(Rs=null,en.trustedTypes))try{Rs=en.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rs}function pa(t){return FC()?.createHTML(t)||t}var Os;function LC(){if(Os===void 0&&(Os=null,en.trustedTypes))try{Os=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Os}function Vp(t){return LC()?.createHTML(t)||t}var Qs=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cm})`}};function ma(t){return t instanceof Qs?t.changingThisBreaksApplicationSecurity:t}function Ig(t,e){let r=jC(t);if(r!=null&&r!==e){if(r==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${r} (see ${cm})`)}return r===e}function jC(t){return t instanceof Qs&&t.getTypeName()||null}function $C(t){let e=new cu(t);return VC()?new au(e):e}var au=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let r=new window.DOMParser().parseFromString(pa(e),"text/html").body;return r===null?this.inertDocumentHelper.getInertBodyElement(e):(r.removeChild(r.firstChild),r)}catch{return null}}},cu=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let r=this.inertDocument.createElement("template");return r.innerHTML=pa(e),r}};function VC(){try{return!!new window.DOMParser().parseFromString(pa(""),"text/html")}catch{return!1}}var BC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Sg(t){return t=String(t),t.match(BC)?t:"unsafe:"+t}function an(t){let e={};for(let r of t.split(","))e[r]=!0;return e}function Zi(...t){let e={};for(let r of t)for(let n in r)r.hasOwnProperty(n)&&(e[n]=!0);return e}var xg=an("area,br,col,hr,img,wbr"),Tg=an("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mg=an("rp,rt"),HC=Zi(Mg,Tg),UC=Zi(Tg,an("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),GC=Zi(Mg,an("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Bp=Zi(xg,UC,GC,HC),Ag=an("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zC=an("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),WC=an("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),qC=Zi(Ag,zC,WC),ZC=an("script,style,template"),lu=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let r=e.firstChild,n=!0,i=[];for(;r;){if(r.nodeType===Node.ELEMENT_NODE?n=this.startElement(r):r.nodeType===Node.TEXT_NODE?this.chars(r.nodeValue):this.sanitizedSomething=!0,n&&r.firstChild){i.push(r),r=QC(r);continue}for(;r;){r.nodeType===Node.ELEMENT_NODE&&this.endElement(r);let o=KC(r);if(o){r=o;break}r=i.pop()}}return this.buf.join("")}startElement(e){let r=Hp(e).toLowerCase();if(!Bp.hasOwnProperty(r))return this.sanitizedSomething=!0,!ZC.hasOwnProperty(r);this.buf.push("<"),this.buf.push(r);let n=e.attributes;for(let i=0;i<n.length;i++){let o=n.item(i),s=o.name,a=s.toLowerCase();if(!qC.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Ag[a]&&(c=Sg(c)),this.buf.push(" ",s,'="',Up(c),'"')}return this.buf.push(">"),!0}endElement(e){let r=Hp(e).toLowerCase();Bp.hasOwnProperty(r)&&!xg.hasOwnProperty(r)&&(this.buf.push("</"),this.buf.push(r),this.buf.push(">"))}chars(e){this.buf.push(Up(e))}};function YC(t,e){return(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function KC(t){let e=t.nextSibling;if(e&&t!==e.previousSibling)throw Rg(e);return e}function QC(t){let e=t.firstChild;if(e&&YC(t,e))throw Rg(e);return e}function Hp(t){let e=t.nodeName;return typeof e=="string"?e:"FORM"}function Rg(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}var JC=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,XC=/([^\#-~ |!])/g;function Up(t){return t.replace(/&/g,"&amp;").replace(JC,function(e){let r=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+((r-55296)*1024+(n-56320)+65536)+";"}).replace(XC,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ns;function Og(t,e){let r=null;try{Ns=Ns||$C(t);let n=e?String(e):"";r=Ns.getInertBodyElement(n);let i=5,o=n;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,n=o,o=r.innerHTML,r=Ns.getInertBodyElement(n)}while(n!==o);let a=new lu().sanitizeChildren(Gp(r)||r);return pa(a)}finally{if(r){let n=Gp(r)||r;for(;n.firstChild;)n.removeChild(n.firstChild)}}}function Gp(t){return"content"in t&&eb(t)?t.content:null}function eb(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName==="TEMPLATE"}var sd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(sd||{});function ga(t){let e=tb();return e?Vp(e.sanitize(sd.HTML,t)||""):Ig(t,"HTML")?Vp(ma(t)):Og(bg(),Ir(t))}function tb(){let t=Se();return t&&t[Mt].sanitizer}function Ng(t){return t instanceof Function?t():t}var tn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(tn||{}),nb;function ad(t,e){return nb(t,e)}function Er(t,e,r,n,i){if(n!=null){let o,s=!1;sn(n)?o=n:Fn(n)&&(s=!0,n=n[on]);let a=Vt(n);t===0&&r!==null?i==null?jg(e,r,a):Js(e,r,a,i||null,!0):t===1&&r!==null?Js(e,r,a,i||null,!0):t===2?vb(e,a,s):t===3&&e.destroyNode(a),o!=null&&_b(e,t,o,r,i)}}function rb(t,e){return t.createText(e)}function ib(t,e,r){t.setValue(e,r)}function kg(t,e,r){return t.createElement(e,r)}function ob(t,e){Pg(t,e),e[on]=null,e[ct]=null}function sb(t,e,r,n,i,o){n[on]=i,n[ct]=e,ya(t,n,r,1,i,o)}function Pg(t,e){e[Mt].changeDetectionScheduler?.notify(1),ya(t,e,e[Ge],2,null,null)}function ab(t){let e=t[Pi];if(!e)return Fl(t[ie],t);for(;e;){let r=null;if(Fn(e))r=e[Pi];else{let n=e[Xe];n&&(r=n)}if(!r){for(;e&&!e[xt]&&e!==t;)Fn(e)&&Fl(e[ie],e),e=e[Ke];e===null&&(e=t),Fn(e)&&Fl(e[ie],e),r=e&&e[xt]}e=r}}function cb(t,e,r,n){let i=Xe+n,o=r.length;n>0&&(r[i-1][xt]=e),n<o-Xe?(e[xt]=r[i],vm(r,Xe+n,e)):(r.push(e),e[xt]=null),e[Ke]=r;let s=e[ua];s!==null&&r!==s&&lb(s,e);let a=e[Rr];a!==null&&a.insertView(t),Xl(e),e[Y]|=128}function lb(t,e){let r=t[zs],i=e[Ke][Ke][mt];e[mt]!==i&&(t[Y]|=Gu.HasTransplantedViews),r===null?t[zs]=[e]:r.push(e)}function Fg(t,e){let r=t[zs],n=r.indexOf(e);r.splice(n,1)}function ji(t,e){if(t.length<=Xe)return;let r=Xe+e,n=t[r];if(n){let i=n[ua];i!==null&&i!==t&&Fg(i,n),e>0&&(t[r-1][xt]=n[xt]);let o=Hs(t,Xe+e);ob(n[ie],n);let s=o[Rr];s!==null&&s.detachView(o[ie]),n[Ke]=null,n[xt]=null,n[Y]&=-129}return n}function va(t,e){if(!(e[Y]&256)){let r=e[Ge];r.destroyNode&&ya(t,e,r,3,null,null),ab(e)}}function Fl(t,e){if(e[Y]&256)return;let r=ue(null);try{e[Y]&=-129,e[Y]|=256,e[$n]&&$h(e[$n]),db(t,e),ub(t,e),e[ie].type===1&&e[Ge].destroy();let n=e[ua];if(n!==null&&sn(e[Ke])){n!==e[Ke]&&Fg(n,e);let i=e[Rr];i!==null&&i.detachView(t)}AC(e)}finally{ue(r)}}function ub(t,e){let r=t.cleanup,n=e[ki];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(e[ki]=null);let i=e[_n];if(i!==null){e[_n]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function db(t,e){let r;if(t!=null&&(r=t.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=e[r[n]];if(!(i instanceof Hn)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Lt(4,a,c);try{c.call(a)}finally{Lt(5,a,c)}}else{Lt(4,i,o);try{o.call(i)}finally{Lt(5,i,o)}}}}}function Lg(t,e,r){return fb(t,e.parent,r)}function fb(t,e,r){let n=e;for(;n!==null&&n.type&40;)e=n,n=e.parent;if(n===null)return r[on];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=t.data[n.directiveStart+i];if(o===$t.None||o===$t.Emulated)return null}return Rt(n,r)}}function Js(t,e,r,n,i){t.insertBefore(e,r,n,i)}function jg(t,e,r){t.appendChild(e,r)}function zp(t,e,r,n,i){n!==null?Js(t,e,r,n,i):jg(t,e,r)}function hb(t,e,r,n){t.removeChild(e,r,n)}function cd(t,e){return t.parentNode(e)}function pb(t,e){return t.nextSibling(e)}function $g(t,e,r){return gb(t,e,r)}function mb(t,e,r){return t.type&40?Rt(t,r):null}var gb=mb,Wp;function ld(t,e,r,n){let i=Lg(t,n,e),o=e[Ge],s=n.parent||e[ct],a=$g(s,n,e);if(i!=null)if(Array.isArray(r))for(let c=0;c<r.length;c++)zp(o,i,r[c],a,!1);else zp(o,i,r,a,!1);Wp!==void 0&&Wp(o,n,e,r,i)}function js(t,e){if(e!==null){let r=e.type;if(r&3)return Rt(e,t);if(r&4)return uu(-1,t[e.index]);if(r&8){let n=e.child;if(n!==null)return js(t,n);{let i=t[e.index];return sn(i)?uu(-1,i):Vt(i)}}else{if(r&32)return ad(e,t)()||Vt(t[e.index]);{let n=Vg(t,e);if(n!==null){if(Array.isArray(n))return n[0];let i=Li(t[mt]);return js(i,n)}else return js(t,e.next)}}}return null}function Vg(t,e){if(e!==null){let n=t[mt][ct],i=e.projection;return n.projection[i]}return null}function uu(t,e){let r=Xe+t+1;if(r<e.length){let n=e[r],i=n[ie].firstChild;if(i!==null)return js(n,i)}return e[Vn]}function vb(t,e,r){let n=cd(t,e);n&&hb(t,n,e,r)}function ud(t,e,r,n,i,o,s){for(;r!=null;){let a=n[r.index],c=r.type;if(s&&e===0&&(a&&Un(Vt(a),n),r.flags|=2),(r.flags&32)!==32)if(c&8)ud(t,e,r.child,n,i,o,!1),Er(e,t,i,a,o);else if(c&32){let l=ad(r,n),u;for(;u=l();)Er(e,t,i,u,o);Er(e,t,i,a,o)}else c&16?Bg(t,e,n,r,i,o):Er(e,t,i,a,o);r=s?r.projectionNext:r.next}}function ya(t,e,r,n,i,o){ud(r,n,t.firstChild,e,i,o,!1)}function yb(t,e,r){let n=e[Ge],i=Lg(t,r,e),o=r.parent||e[ct],s=$g(o,r,e);Bg(n,0,e,r,i,s)}function Bg(t,e,r,n,i,o){let s=r[mt],c=s[ct].projection[n.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Er(e,t,i,u,o)}else{let l=c,u=s[Ke];vg(n)&&(l.flags|=128),ud(t,e,l,u,i,o,!0)}}function _b(t,e,r,n,i){let o=r[Vn],s=Vt(r);o!==s&&Er(e,t,n,o,i);for(let a=Xe;a<r.length;a++){let c=r[a];ya(c[ie],c,t,e,n,o)}}function wb(t,e,r,n,i){if(e)i?t.addClass(r,n):t.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:tn.DashCase;i==null?t.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=tn.Important),t.setStyle(r,n,i,o))}}function Db(t,e,r){t.setAttribute(e,"style",r)}function Hg(t,e,r){r===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",r)}function Ug(t,e,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&Zl(t,e,n),i!==null&&Hg(t,e,i),o!==null&&Db(t,e,o)}var cn={};function x(t=1){Gg(yt(),Se(),bn()+t,!1)}function Gg(t,e,r,n){if(!n)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fs(e,o,r)}else{let o=t.preOrderHooks;o!==null&&Ls(e,o,0,r)}Bn(r)}function X(t,e=se.Default){let r=Se();if(r===null)return D(t,e);let n=Ot();return fg(n,r,Je(t),e)}function zg(t,e,r,n,i,o){let s=ue(null);try{let a=null;i&Ae.SignalBased&&(a=e[n][dn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Ae.HasDecoratorInputTransform&&(o=t.inputTransforms[n].call(e,o)),t.setInput!==null?t.setInput(e,a,o,r,n):jm(e,a,n,o)}finally{ue(s)}}function Cb(t,e){let r=t.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)Bn(~i);else{let o=i,s=r[++n],a=r[++n];nC(s,o);let c=e[o];a(2,c)}}}finally{Bn(-1)}}function _a(t,e,r,n,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[on]=i,d[Y]=n|4|128|8|64,(l!==null||t&&t[Y]&2048)&&(d[Y]|=2048),Gm(d),d[Ke]=d[Fr]=t,d[Ye]=r,d[Mt]=s||t&&t[Mt],d[Ge]=a||t&&t[Ge],d[Ar]=c||t&&t[Ar]||null,d[ct]=o,d[da]=TC(),d[Mr]=u,d[Pm]=l,d[mt]=e.type==2?t[mt]:d,d}function Yi(t,e,r,n,i){let o=t.data[e];if(o===null)o=bb(t,e,r,n,i),tC()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=QD();o.injectorIndex=s===null?-1:s.injectorIndex}return Wi(o,!0),o}function bb(t,e,r,n,i){let o=Zm(),s=Ym(),a=s?o:o&&o.parent,c=t.data[e]=Tb(t,a,r,e,n,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function Wg(t,e,r,n){if(r===0)return-1;let i=e.length;for(let o=0;o<r;o++)e.push(n),t.blueprint.push(n),t.data.push(null);return i}function qg(t,e,r,n,i){let o=bn(),s=n&2;try{Bn(-1),s&&e.length>ot&&Gg(t,e,ot,!1),Lt(s?2:0,i),r(n,i)}finally{Bn(o),Lt(s?3:1,i)}}function Zg(t,e,r){if(Lm(e)){let n=ue(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=r[s];a.contentQueries(1,c,s)}}}finally{ue(n)}}}function Yg(t,e,r){Wm()&&(Pb(t,e,r,Rt(r,e)),(r.flags&64)===64&&ev(t,e,r))}function Kg(t,e,r=Rt){let n=e.localNames;if(n!==null){let i=e.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],a=s===-1?r(e,t):t[s];t[i++]=a}}}function Qg(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dd(t,e,r,n,i,o,s,a,c,l,u){let d=ot+n,f=d+i,h=Eb(d,f),g=typeof l=="function"?l():l;return h[ie]={type:t,blueprint:h,template:r,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function Eb(t,e){let r=[];for(let n=0;n<e;n++)r.push(n<t?null:cn);return r}function Ib(t,e,r,n){let o=n.get(PC,Eg)||r===$t.ShadowDom,s=t.selectRootElement(e,o);return Sb(s),s}function Sb(t){xb(t)}var xb=()=>null;function Tb(t,e,r,n,i,o){let s=e?e.injectorIndex:-1,a=0;return qm()&&(a|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function qp(t,e,r,n,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;n??={};let a,c=Ae.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Zp(n,r,l,a,c):Zp(n,r,l,a)}return n}function Zp(t,e,r,n,i){let o;t.hasOwnProperty(r)?(o=t[r]).push(e,n):o=t[r]=[e,n],i!==void 0&&o.push(i)}function Mb(t,e,r){let n=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=n;u<i;u++){let d=o[u],f=r?r.get(d):null,h=f?f.inputs:null,g=f?f.outputs:null;c=qp(0,d.inputs,u,c,h),l=qp(1,d.outputs,u,l,g);let v=c!==null&&s!==null&&!Bu(e)?Gb(c,u,s):null;a.push(v)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function Ab(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Rb(t,e,r,n,i,o,s,a){let c=Rt(e,r),l=e.inputs,u;!a&&l!=null&&(u=l[n])?(fd(t,r,u,n,i),fa(e)&&Ob(r,e.index)):e.type&3?(n=Ab(n),i=s!=null?s(i,e.value||"",n):i,o.setProperty(c,n,i)):e.type&12}function Ob(t,e){let r=Cn(e,t);r[Y]&16||(r[Y]|=64)}function Jg(t,e,r,n){if(Wm()){let i=n===null?null:{"":-1},o=Lb(t,r),s,a;o===null?s=a=null:[s,a]=o,s!==null&&Xg(t,e,r,s,i,a),i&&jb(r,n,i)}r.mergedAttrs=Vu(r.mergedAttrs,r.attrs)}function Xg(t,e,r,n,i,o){for(let l=0;l<n.length;l++)nu(Ks(r,e),t,n[l].type);Vb(r,t.data.length,n.length);for(let l=0;l<n.length;l++){let u=n[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=Wg(t,e,n.length,null);for(let l=0;l<n.length;l++){let u=n[l];r.mergedAttrs=Vu(r.mergedAttrs,u.hostAttrs),Bb(t,r,e,c,u),$b(c,u,i),u.contentQueries!==null&&(r.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(r.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(r.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(r.index),a=!0),c++}Mb(t,r,o)}function Nb(t,e,r,n,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;kb(s)!=a&&s.push(a),s.push(r,n,o)}}function kb(t){let e=t.length;for(;e>0;){let r=t[--e];if(typeof r=="number"&&r<0)return r}return 0}function Pb(t,e,r,n){let i=r.directiveStart,o=r.directiveEnd;fa(r)&&Hb(e,r,t.data[i+r.componentOffset]),t.firstCreatePass||Ks(r,e),Un(n,e);let s=r.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Or(e,t,a,r);if(Un(l,e),s!==null&&Ub(e,a-i,l,c,r,s),Lr(c)){let u=Cn(r.index,e);u[Ye]=Or(e,t,a,r)}}}function ev(t,e,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=rC();try{Bn(o);for(let a=n;a<i;a++){let c=t.data[a],l=e[a];eu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Fb(c,l)}}finally{Bn(-1),eu(s)}}function Fb(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Lb(t,e){let r=t.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(Cm(e,s.selectors,!1))if(n||(n=[]),Lr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),n.unshift(...a,s);let c=a.length;du(t,e,c)}else n.unshift(s),du(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function du(t,e,r){e.componentOffset=r,(t.components??=[]).push(e.index)}function jb(t,e,r){if(e){let n=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=r[e[i+1]];if(o==null)throw new Z(-301,!1);n.push(e[i],o)}}}function $b(t,e,r){if(r){if(e.exportAs)for(let n=0;n<e.exportAs.length;n++)r[e.exportAs[n]]=t;Lr(e)&&(r[""]=t)}}function Vb(t,e,r){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+r,t.providerIndexes=e}function Bb(t,e,r,n,i){t.data[n]=i;let o=i.factory||(i.factory=jn(i.type,!0)),s=new Hn(o,Lr(i),X);t.blueprint[n]=s,r[n]=s,Nb(t,e,n,Wg(t,r,i.hostVars,cn),i)}function Hb(t,e,r){let n=Rt(e,t),i=Qg(r),o=t[Mt].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let a=wa(t,_a(t,i,null,s,n,e,null,o.createRenderer(n,r),null,null,null));t[e.index]=a}function Ub(t,e,r,n,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];zg(n,r,c,l,u,d)}}function Gb(t,e,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){n===null&&(n=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){n.push(o,s[a+1],s[a+2],r[i+1]);break}}i+=2}return n}function tv(t,e,r,n){return[t,!0,0,e,null,n,null,r,null,null]}function nv(t,e){let r=t.contentQueries;if(r!==null){let n=ue(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let a=t.data[s];Jm(o),a.contentQueries(2,e[s],s)}}}finally{ue(n)}}}function wa(t,e){return t[Pi]?t[Np][xt]=e:t[Pi]=e,t[Np]=e,e}function fu(t,e,r){Jm(0);let n=ue(null);try{e(t,r)}finally{ue(n)}}function zb(t){return t[ki]||(t[ki]=[])}function Wb(t){return t.cleanup||(t.cleanup=[])}function rv(t,e){let r=t[Ar],n=r?r.get(at,null):null;n&&n.handleError(e)}function fd(t,e,r,n,i){for(let o=0;o<r.length;){let s=r[o++],a=r[o++],c=r[o++],l=e[s],u=t.data[s];zg(u,l,n,a,c,i)}}function iv(t,e,r){let n=Um(e,t);ib(t[Ge],n,r)}function qb(t,e){let r=Cn(e,t),n=r[ie];Zb(n,r);let i=r[on];i!==null&&r[Mr]===null&&(r[Mr]=od(i,r[Ar])),hd(n,r,r[Ye])}function Zb(t,e){for(let r=e.length;r<t.blueprint.length;r++)e.push(t.blueprint[r])}function hd(t,e,r){Yu(e);try{let n=t.viewQuery;n!==null&&fu(1,n,r);let i=t.template;i!==null&&qg(t,e,i,1,r),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rr]?.finishViewCreation(t),t.staticContentQueries&&nv(t,e),t.staticViewQueries&&fu(2,t.viewQuery,r);let o=t.components;o!==null&&Yb(e,o)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{e[Y]&=-5,Ku()}}function Yb(t,e){for(let r=0;r<e.length;r++)qb(t,e[r])}function pd(t,e,r,n){let i=ue(null);try{let o=e.tView,a=t[Y]&4096?4096:16,c=_a(t,o,r,a,null,e,null,null,n?.injector??null,n?.embeddedViewInjector??null,n?.dehydratedView??null),l=t[e.index];c[ua]=l;let u=t[Rr];return u!==null&&(c[Rr]=u.createEmbeddedView(o)),hd(o,c,r),c}finally{ue(i)}}function ov(t,e){let r=Xe+e;if(r<t.length)return t[r]}function $i(t,e){return!e||e.firstChild===null||vg(t)}function Da(t,e,r,n=!0){let i=e[ie];if(cb(i,e,t,r),n){let s=uu(r,t),a=e[Ge],c=cd(a,t[Vn]);c!==null&&sb(i,t[ct],a,e,c,s)}let o=e[Mr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function sv(t,e){let r=ji(t,e);return r!==void 0&&va(r[ie],r),r}function Xs(t,e,r,n,i=!1){for(;r!==null;){let o=e[r.index];o!==null&&n.push(Vt(o)),sn(o)&&Kb(o,n);let s=r.type;if(s&8)Xs(t,e,r.child,n);else if(s&32){let a=ad(r,e),c;for(;c=a();)n.push(c)}else if(s&16){let a=Vg(e,r);if(Array.isArray(a))n.push(...a);else{let c=Li(e[mt]);Xs(c[ie],c,a,n,!0)}}r=i?r.projectionNext:r.next}return n}function Kb(t,e){for(let r=Xe;r<t.length;r++){let n=t[r],i=n[ie].firstChild;i!==null&&Xs(n[ie],n,i,e)}t[Vn]!==t[on]&&e.push(t[Vn])}var av=[];function Qb(t){return t[$n]??Jb(t)}function Jb(t){let e=av.pop()??Object.create(eE);return e.lView=t,e}function Xb(t){t.lView[$n]!==t&&(t.lView=null,av.push(t))}var eE=I(y({},Qo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fi(t.lView)},consumerOnSignalRead(){this.lView[$n]=this}}),cv=100;function lv(t,e=!0,r=0){let n=t[Mt],i=n.rendererFactory,o=!1;o||i.begin?.();try{tE(t,r)}catch(s){throw e&&rv(t,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function tE(t,e){hu(t,e);let r=0;for(;Zu(t);){if(r===cv)throw new Z(103,!1);r++,hu(t,1)}}function nE(t,e,r,n){let i=e[Y];if((i&256)===256)return;let o=!1;!o&&e[Mt].inlineEffectRunner?.flush(),Yu(e);let s=null,a=null;!o&&rE(t)&&(a=Qb(e),s=nl(a));try{Gm(e),eC(t.bindingStartIndex),r!==null&&qg(t,e,r,2,n);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Fs(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ls(e,d,0,null),Ol(e,0)}if(iE(e),uv(e,0),t.contentQueries!==null&&nv(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Fs(e,d)}else{let d=t.contentHooks;d!==null&&Ls(e,d,1),Ol(e,1)}Cb(t,e);let l=t.components;l!==null&&fv(e,l,0);let u=t.viewQuery;if(u!==null&&fu(2,u,n),!o)if(c){let d=t.viewCheckHooks;d!==null&&Fs(e,d)}else{let d=t.viewHooks;d!==null&&Ls(e,d,2),Ol(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Rl]){for(let d of e[Rl])d();e[Rl]=null}o||(e[Y]&=-73)}catch(c){throw Fi(e),c}finally{a!==null&&(rl(a,s),Xb(a)),Ku()}}function rE(t){return t.type!==2}function uv(t,e){for(let r=_g(t);r!==null;r=wg(r))for(let n=Xe;n<r.length;n++){let i=r[n];dv(i,e)}}function iE(t){for(let e=_g(t);e!==null;e=wg(e)){if(!(e[Y]&Gu.HasTransplantedViews))continue;let r=e[zs];for(let n=0;n<r.length;n++){let i=r[n],o=i[Ke];UD(i)}}}function oE(t,e,r){let n=Cn(e,t);dv(n,r)}function dv(t,e){qu(t)&&hu(t,e)}function hu(t,e){let n=t[ie],i=t[Y],o=t[$n],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&il(o)),o&&(o.dirty=!1),t[Y]&=-9217,s)nE(n,t,n.template,t[Ye]);else if(i&8192){uv(t,1);let a=n.components;a!==null&&fv(t,a,1)}}function fv(t,e,r){for(let n=0;n<e.length;n++)oE(t,e[n],r)}function md(t){for(t[Mt].changeDetectionScheduler?.notify();t;){t[Y]|=64;let e=Li(t);if(kD(t)&&!e)return t;t=e}return null}var Nr=class{get rootNodes(){let e=this._lView,r=e[ie];return Xs(r,e,r.firstChild,[])}constructor(e,r,n=!0){this._lView=e,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(e){this._lView[Ye]=e}get destroyed(){return(this._lView[Y]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(sn(e)){let r=e[Gs],n=r?r.indexOf(this):-1;n>-1&&(ji(e,n),Hs(r,n))}this._attachedToViewContainer=!1}va(this._lView[ie],this._lView)}onDestroy(e){zm(this._lView,e)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){Xl(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,lv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Pg(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e,Xl(this._lView)}};var j2=new RegExp(`^(\\d+)*(${NC}|${OC})*(.*)`);var sE=()=>null;function Vi(t,e){return sE(t,e)}var pu=class{},mu=class{},ea=class{};function aE(t){let e=Error(`No component factory found for ${rt(t)}.`);return e[cE]=t,e}var cE="ngComponent";var gu=class{resolveComponentFactory(e){throw aE(e)}},Ca=(()=>{let e=class e{};e.NULL=new gu;let t=e;return t})(),Bi=class{},ba=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>lE();let t=e;return t})();function lE(){let t=Se(),e=Ot(),r=Cn(e.index,t);return(Fn(r)?r:t)[Ge]}var uE=(()=>{let e=class e{};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Ll={};var Yp=new Set;function $r(t){Yp.has(t)||(Yp.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Kp(...t){}function dE(){let t=typeof en.requestAnimationFrame=="function",e=en[t?"requestAnimationFrame":"setTimeout"],r=en[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&r){let n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);let i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:r}}var be=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _e(!1),this.onMicrotaskEmpty=new _e(!1),this.onStable=new _e(!1),this.onError=new _e(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=dE().nativeRequestAnimationFrame,pE(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Z(909,!1)}run(e,r,n){return this._inner.run(e,r,n)}runTask(e,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,fE,Kp,Kp);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(e,r,n){return this._inner.runGuarded(e,r,n)}runOutsideAngular(e){return this._outer.run(e)}},fE={};function gd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hE(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(en,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,vu(t),t.isCheckStableRunning=!0,gd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),vu(t))}function pE(t){let e=()=>{hE(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,s,a)=>{if(mE(a))return r.invokeTask(i,o,s,a);try{return Qp(t),r.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Jp(t)}},onInvoke:(r,n,i,o,s,a,c)=>{try{return Qp(t),r.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),Jp(t)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,vu(t),gd(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function vu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Qp(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Jp(t){t._nesting--,gd(t)}function mE(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var hv=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of n)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=S({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function yu(t,e,r){let n=r?t.styles:null,i=r?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=bp(i,a);else if(o==2){let c=a,l=e[++s];n=bp(n,c+": "+l+";")}}r?t.styles=n:t.stylesWithoutHost=n,r?t.classes=i:t.classesWithoutHost=i}var ta=class extends Ca{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let r=wn(e);return new kr(r,this.ngModule)}};function Xp(t){let e=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let n=t[r];n!==void 0&&e.push({propName:Array.isArray(n)?n[0]:n,templateName:r})}return e}function gE(t){let e=t.toLowerCase();return e==="svg"?Hm:e==="math"?jD:null}var _u=class{constructor(e,r){this.injector=e,this.parentInjector=r}get(e,r,n){n=aa(n);let i=this.injector.get(e,Ll,n);return i!==Ll||r===Ll?i:this.parentInjector.get(e,r,n)}},kr=class extends ea{get inputs(){let e=this.componentDef,r=e.inputTransforms,n=Xp(e.inputs);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return Xp(this.componentDef.outputs)}constructor(e,r){super(),this.componentDef=e,this.ngModule=r,this.componentType=e.type,this.selector=vD(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!r}create(e,r,n,i){let o=ue(null);try{i=i||this.ngModule;let s=i instanceof it?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new _u(e,s):e,c=a.get(Bi,null);if(c===null)throw new Z(407,!1);let l=a.get(uE,null),u=a.get(hv,null),d=a.get(pu,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",v=n?Ib(h,n,this.componentDef.encapsulation,a):kg(h,g,gE(g)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let M=null;v!==null&&(M=od(v,a,!0));let z=dd(0,null,null,1,0,null,null,null,null,null,null),ve=_a(null,z,null,b,null,null,f,h,a,null,M);Yu(ve);let G,K;try{let F=this.componentDef,ke,Pe=null;F.findHostDirectiveDefs?(ke=[],Pe=new Map,F.findHostDirectiveDefs(F,ke,Pe),ke.push(F)):ke=[F];let kt=vE(ve,v),qo=yE(kt,v,F,ke,ve,f,h);K=Wu(z,ot),v&&DE(h,F,v,n),r!==void 0&&CE(K,this.ngContentSelectors,r),G=wE(qo,F,ke,Pe,ve,[bE]),hd(z,ve,null)}finally{Ku()}return new wu(this.componentType,G,td(K,ve),ve,K)}finally{ue(o)}}},wu=class extends mu{constructor(e,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Nr(i,void 0,!1),this.componentType=e}setInput(e,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),r))return;let o=this._rootLView;fd(o[ie],o,i,e,r),this.previousInputValues.set(e,r);let s=Cn(this._tNode.index,o);md(s)}}get injector(){return new Ln(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function vE(t,e){let r=t[ie],n=ot;return t[n]=e,Yi(r,n,2,"#host",null)}function yE(t,e,r,n,i,o,s){let a=i[ie];_E(n,t,e,s);let c=null;e!==null&&(c=od(e,i[Ar]));let l=o.rendererFactory.createRenderer(e,r),u=16;r.signals?u=4096:r.onPush&&(u=64);let d=_a(i,Qg(r),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&du(a,t,n.length-1),wa(i,d),i[t.index]=d}function _E(t,e,r,n){for(let i of t)e.mergedAttrs=Vu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(yu(e,e.mergedAttrs,!0),r!==null&&Ug(n,r,e))}function wE(t,e,r,n,i,o){let s=Ot(),a=i[ie],c=Rt(s,i);Xg(a,i,s,r,null,n);for(let u=0;u<r.length;u++){let d=s.directiveStart+u,f=Or(i,a,d,s);Un(f,i)}ev(a,i,s),c&&Un(c,i);let l=Or(i,a,s.directiveStart+s.componentOffset,s);if(t[Ye]=i[Ye]=l,o!==null)for(let u of o)u(l,e);return Zg(a,s,i),l}function DE(t,e,r,n){if(n)Zl(t,r,["ng-version","17.3.9"]);else{let{attrs:i,classes:o}=yD(e.selectors[0]);i&&Zl(t,r,i),o&&o.length>0&&Hg(t,r,o.join(" "))}}function CE(t,e,r){let n=t.projection=[];for(let i=0;i<e.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function bE(){let t=Ot();Xu(Se()[ie],t)}var Zn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EE;let t=e;return t})();function EE(){let t=Ot();return SE(t,Se())}var IE=Zn,pv=class extends IE{constructor(e,r,n){super(),this._lContainer=e,this._hostTNode=r,this._hostLView=n}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new Ln(this._hostTNode,this._hostLView)}get parentInjector(){let e=ed(this._hostTNode,this._hostLView);if(sg(e)){let r=Zs(e,this._hostLView),n=qs(e),i=r[ie].data[n+8];return new Ln(i,r)}else return new Ln(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let r=em(this._lContainer);return r!==null&&r[e]||null}get length(){return this._lContainer.length-Xe}createEmbeddedView(e,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=Vi(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(a,i,$i(this._hostTNode,s)),a}createComponent(e,r,n,i,o){let s=e&&!ND(e),a;if(s)a=r;else{let g=r||{};a=g.index,n=g.injector,i=g.projectableNodes,o=g.environmentInjector||g.ngModuleRef}let c=s?e:new kr(wn(e)),l=n||this.parentInjector;if(!o&&c.ngModule==null){let v=(s?l:this.parentInjector).get(it,null);v&&(o=v)}let u=wn(c.componentType??{}),d=Vi(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,$i(this._hostTNode,d)),h}insert(e,r){return this.insertImpl(e,r,!0)}insertImpl(e,r,n){let i=e._lView;if(HD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ke],l=new pv(c,c[ct],c[Ke]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(r),s=this._lContainer;return Da(s,i,o,n),e.attachToViewContainerRef(),vm(jl(s),o,e),e}move(e,r){return this.insert(e,r)}indexOf(e){let r=em(this._lContainer);return r!==null?r.indexOf(e):-1}remove(e){let r=this._adjustIndex(e,-1),n=ji(this._lContainer,r);n&&(Hs(jl(this._lContainer),r),va(n[ie],n))}detach(e){let r=this._adjustIndex(e,-1),n=ji(this._lContainer,r);return n&&Hs(jl(this._lContainer),r)!=null?new Nr(n):null}_adjustIndex(e,r=0){return e??this.length+r}};function em(t){return t[Gs]}function jl(t){return t[Gs]||(t[Gs]=[])}function SE(t,e){let r,n=e[t.index];return sn(n)?r=n:(r=tv(n,e,null,t),e[t.index]=r,wa(e,r)),TE(r,e,t,n),new pv(r,t,e)}function xE(t,e){let r=t[Ge],n=r.createComment(""),i=Rt(e,t),o=cd(r,i);return Js(r,o,n,pb(r,i),!1),n}var TE=RE,ME=()=>!1;function AE(t,e,r){return ME(t,e,r)}function RE(t,e,r,n){if(t[Vn])return;let i;r.type&8?i=Vt(n):i=xE(e,r),t[Vn]=i}function vd(t,e){$r("NgSignals");let r=Wh(t),n=r[dn];return e?.equal&&(n.equal=e.equal),r.set=i=>ol(n,i),r.update=i=>qh(n,i),r.asReadonly=OE.bind(r),r}function OE(){let t=this[dn];if(t.readonlyFn===void 0){let e=()=>this();e[dn]=t,t.readonlyFn=e}return t.readonlyFn}function Vr(t){let e=t.inputConfig,r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];Array.isArray(i)&&i[3]&&(r[n]=i[3])}t.inputTransforms=r}var Dn=class{},Hi=class{};var Du=class extends Dn{constructor(e,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ta(this);let i=Sm(e);this._bootstrapComponents=Ng(i.bootstrap),this._r3Injector=mg(e,r,[{provide:Dn,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver},...n],rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cu=class extends Hi{constructor(e){super(),this.moduleType=e}create(e){return new Du(this.moduleType,e,[])}};var na=class extends Dn{constructor(e){super(),this.componentFactoryResolver=new ta(this),this.instance=null;let r=new Ni([...e.providers,{provide:Dn,useValue:this},{provide:Ca,useValue:this.componentFactoryResolver}],e.parent||la(),e.debugName,new Set(["environment"]));this.injector=r,e.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function yd(t,e,r=null){return new na({providers:t,parent:e,debugName:r,runEnvironmentInitializers:!0}).injector}var Ea=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Te(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NE(t,e,r){return t[e]=r}function nn(t,e,r){let n=t[e];return Object.is(n,r)?!1:(t[e]=r,!0)}function kE(t,e,r,n){let i=nn(t,e,r);return nn(t,e+1,n)||i}function PE(t,e,r,n,i){let o=kE(t,e,r,n);return nn(t,e+2,i)||o}function FE(t){return(t.flags&32)===32}function LE(t,e,r,n,i,o,s,a,c){let l=e.consts,u=Yi(e,t,4,s||null,Ws(l,a));Jg(e,r,u,Ws(l,c)),Xu(e,u);let d=u.tView=dd(2,u,n,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function N(t,e,r,n,i,o,s,a){let c=Se(),l=yt(),u=t+ot,d=l.firstCreatePass?LE(u,l,c,e,r,n,i,o,s):l.data[u];Wi(d,!1);let f=jE(l,c,d,t);Qu()&&ld(l,c,f,d),Un(f,c);let h=tv(f,c,f,d);return c[u]=h,wa(c,h),AE(h,d,c),zu(d)&&Yg(l,c,d),s!=null&&Kg(c,d,a),N}var jE=$E;function $E(t,e,r,n){return Ju(!0),e[Ge].createComment("")}function VE(t,e,r,n){return nn(t,ha(),r)?e+Ir(r)+n:cn}function BE(t,e,r,n,i,o,s,a){let c=XD(),l=PE(t,c,r,i,s);return Qm(3),l?e+Ir(r)+n+Ir(i)+o+Ir(s)+a:cn}function ks(t,e){return t<<17|e<<2}function Gn(t){return t>>17&32767}function HE(t){return(t&2)==2}function UE(t,e){return t&131071|e<<17}function bu(t){return t|2}function Pr(t){return(t&131068)>>2}function $l(t,e){return t&-131069|e<<2}function GE(t){return(t&1)===1}function Eu(t){return t|1}function zE(t,e,r,n,i,o){let s=o?e.classBindings:e.styleBindings,a=Gn(s),c=Pr(s);t[n]=r;let l=!1,u;if(Array.isArray(r)){let d=r;u=d[1],(u===null||zi(d,u)>0)&&(l=!0)}else u=r;if(i)if(c!==0){let f=Gn(t[a+1]);t[n+1]=ks(f,a),f!==0&&(t[f+1]=$l(t[f+1],n)),t[a+1]=UE(t[a+1],n)}else t[n+1]=ks(a,0),a!==0&&(t[a+1]=$l(t[a+1],n)),a=n;else t[n+1]=ks(c,0),a===0?a=n:t[c+1]=$l(t[c+1],n),c=n;l&&(t[n+1]=bu(t[n+1])),tm(t,u,n,!0),tm(t,u,n,!1),WE(e,u,t,n,o),s=ks(a,c),o?e.classBindings=s:e.styleBindings=s}function WE(t,e,r,n,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&zi(o,e)>=0&&(r[n+1]=Eu(r[n+1]))}function tm(t,e,r,n){let i=t[r+1],o=e===null,s=n?Gn(i):Pr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];qE(c,e)&&(a=!0,t[s+1]=n?Eu(l):bu(l)),s=n?Gn(l):Pr(l)}a&&(t[r+1]=n?bu(i):Eu(i))}function qE(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?zi(t,e)>=0:!1}function ae(t,e,r){let n=Se(),i=ha();if(nn(n,i,e)){let o=yt(),s=aC();Rb(o,s,n,t,e,n[Ge],r,!1)}return ae}function nm(t,e,r,n,i){let o=e.inputs,s=i?"class":"style";fd(t,r,o[s],s,n)}function lt(t,e){return ZE(t,e,null,!0),lt}function ZE(t,e,r,n){let i=Se(),o=yt(),s=Qm(2);if(o.firstUpdatePass&&KE(o,t,s,n),e!==cn&&nn(i,s,e)){let a=o.data[bn()];tI(o,a,i,i[Ge],t,i[s+1]=nI(e,r),n,s)}}function YE(t,e){return e>=t.expandoStartIndex}function KE(t,e,r,n){let i=t.data;if(i[r+1]===null){let o=i[bn()],s=YE(t,r);rI(o,n)&&e===null&&!s&&(e=!1),e=QE(i,o,e,n),zE(i,o,e,r,s,n)}}function QE(t,e,r,n){let i=iC(t),o=n?e.residualClasses:e.residualStyles;if(i===null)(n?e.classBindings:e.styleBindings)===0&&(r=Vl(null,t,e,r,n),r=Ui(r,e.attrs,n),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(r=Vl(i,t,e,r,n),o===null){let c=JE(t,e,n);c!==void 0&&Array.isArray(c)&&(c=Vl(null,t,e,c[1],n),c=Ui(c,e.attrs,n),XE(t,e,n,c))}else o=eI(t,e,n)}return o!==void 0&&(n?e.residualClasses=o:e.residualStyles=o),r}function JE(t,e,r){let n=r?e.classBindings:e.styleBindings;if(Pr(n)!==0)return t[Gn(n)]}function XE(t,e,r,n){let i=r?e.classBindings:e.styleBindings;t[Gn(i)]=n}function eI(t,e,r){let n,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;n=Ui(n,s,r)}return Ui(n,e.attrs,r)}function Vl(t,e,r,n,i){let o=null,s=r.directiveEnd,a=r.directiveStylingLast;for(a===-1?a=r.directiveStart:a++;a<s&&(o=e[a],n=Ui(n,o.hostAttrs,i),o!==t);)a++;return t!==null&&(r.directiveStylingLast=a),n}function Ui(t,e,r){let n=r?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===n&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rD(t,s,r?!0:e[++o]))}return t===void 0?null:t}function tI(t,e,r,n,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=GE(l)?rm(c,e,r,i,Pr(l),s):void 0;if(!ra(u)){ra(o)||HE(l)&&(o=rm(c,null,r,i,a,s));let d=Um(bn(),r);wb(n,s,d,i,o)}}function rm(t,e,r,n,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=r[i+1];f===cn&&(f=d?St:void 0);let h=d?Ml(f,n):u===n?f:void 0;if(l&&!ra(h)&&(h=Ml(c,n)),ra(h)&&(a=h,s))return a;let g=t[i+1];i=s?Gn(g):Pr(g)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Ml(c,n))}return a}function ra(t){return t!==void 0}function nI(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=rt(ma(t)))),t}function rI(t,e){return(t.flags&(e?8:16))!==0}var Iu=class{destroy(e){}updateValue(e,r){}swap(e,r){let n=Math.min(e,r),i=Math.max(e,r),o=this.detach(i);if(i-n>1){let s=this.detach(n);this.attach(n,o),this.attach(i,s)}else this.attach(n,o)}move(e,r){this.attach(r,this.detach(e))}};function Bl(t,e,r,n,i){return t===r&&Object.is(e,n)?1:Object.is(i(t,e),i(r,n))?-1:0}function iI(t,e,r){let n,i,o=0,s=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;o<=s&&o<=a;){let c=t.at(o),l=e[o],u=Bl(o,c,o,l,r);if(u!==0){u<0&&t.updateValue(o,l),o++;continue}let d=t.at(s),f=e[a],h=Bl(s,d,a,f,r);if(h!==0){h<0&&t.updateValue(s,f),s--,a--;continue}let g=r(o,c),v=r(s,d),b=r(o,l);if(Object.is(b,v)){let M=r(a,f);Object.is(M,g)?(t.swap(o,s),t.updateValue(s,f),a--,s--):t.move(s,o),t.updateValue(o,l),o++;continue}if(n??=new ia,i??=om(t,o,s,r),Su(t,n,o,b))t.updateValue(o,l),o++,s++;else if(i.has(b))n.set(g,t.detach(o)),s--;else{let M=t.create(o,e[o]);t.attach(o,M),o++,s++}}for(;o<=a;)im(t,n,r,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&o<=s;){let l=t.at(o),u=c.value,d=Bl(o,l,o,u,r);if(d!==0)d<0&&t.updateValue(o,u),o++,c=a.next();else{n??=new ia,i??=om(t,o,s,r);let f=r(o,u);if(Su(t,n,o,f))t.updateValue(o,u),o++,s++,c=a.next();else if(!i.has(f))t.attach(o,t.create(o,u)),o++,s++,c=a.next();else{let h=r(o,l);n.set(h,t.detach(o)),s--}}}for(;!c.done;)im(t,n,r,t.length,c.value),c=a.next()}for(;o<=s;)t.destroy(t.detach(s--));n?.forEach(a=>{t.destroy(a)})}function Su(t,e,r,n){return e!==void 0&&e.has(n)?(t.attach(r,e.get(n)),e.delete(n),!0):!1}function im(t,e,r,n,i){if(Su(t,e,n,r(n,i)))t.updateValue(n,i);else{let o=t.create(n,i);t.attach(n,o)}}function om(t,e,r,n){let i=new Set;for(let o=e;o<=r;o++)i.add(n(o,t.at(o)));return i}var ia=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let r=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(r)?(this.kvMap.set(e,this._vMap.get(r)),this._vMap.delete(r)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,r){if(this.kvMap.has(e)){let n=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(n);)n=i.get(n);i.set(n,r)}else this.kvMap.set(e,r)}forEach(e){for(let[r,n]of this.kvMap)if(e(n,r),this._vMap!==void 0){let i=this._vMap;for(;i.has(n);)n=i.get(n),e(n,r)}}};function B(t,e,r){$r("NgControlFlow");let n=Se(),i=ha(),o=Au(n,ot+t),s=0;if(nn(n,i,e)){let a=ue(null);try{if(sv(o,s),e!==-1){let c=Ru(n[ie],ot+e),l=Vi(o,c.tView.ssrId),u=pd(n,c,r,{dehydratedView:l});Da(o,u,s,$i(c,l))}}finally{ue(a)}}else{let a=ov(o,s);a!==void 0&&(a[Ye]=r)}}var xu=class{constructor(e,r,n){this.lContainer=e,this.$implicit=r,this.$index=n}get $count(){return this.lContainer.length-Xe}};function Br(t,e){return e}var Tu=class{constructor(e,r,n){this.hasEmptyBlock=e,this.trackByFn=r,this.liveCollection=n}};function Hr(t,e,r,n,i,o,s,a,c,l,u,d,f){$r("NgControlFlow");let h=c!==void 0,g=Se(),v=a?s.bind(g[mt][Ye]):s,b=new Tu(h,v);g[ot+t]=b,N(t+1,e,r,n,i,o),h&&N(t+2,c,l,u,d,f)}var Mu=class extends Iu{constructor(e,r,n){super(),this.lContainer=e,this.hostLView=r,this.templateTNode=n,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Xe}at(e){return this.getLView(e)[Ye].$implicit}attach(e,r){let n=r[Mr];this.needsIndexUpdate||=e!==this.length,Da(this.lContainer,r,e,$i(this.templateTNode,n))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,oI(this.lContainer,e)}create(e,r){let n=Vi(this.lContainer,this.templateTNode.tView.ssrId);return pd(this.hostLView,this.templateTNode,new xu(this.lContainer,r,e),{dehydratedView:n})}destroy(e){va(e[ie],e)}updateValue(e,r){this.getLView(e)[Ye].$implicit=r}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ye].$index=e}getLView(e){return sI(this.lContainer,e)}};function Ur(t){let e=ue(null),r=bn();try{let n=Se(),i=n[ie],o=n[r];if(o.liveCollection===void 0){let a=r+1,c=Au(n,a),l=Ru(i,a);o.liveCollection=new Mu(c,n,l)}else o.liveCollection.reset();let s=o.liveCollection;if(iI(s,t,o.trackByFn),s.updateIndexes(),o.hasEmptyBlock){let a=ha(),c=s.length===0;if(nn(n,a,c)){let l=r+2,u=Au(n,l);if(c){let d=Ru(i,l),f=Vi(u,d.tView.ssrId),h=pd(n,d,void 0,{dehydratedView:f});Da(u,h,0,$i(d,f))}else sv(u,0)}}}finally{ue(e)}}function Au(t,e){return t[e]}function oI(t,e){return ji(t,e)}function sI(t,e){return ov(t,e)}function Ru(t,e){return Wu(t,e)}function aI(t,e,r,n,i,o){let s=e.consts,a=Ws(s,i),c=Yi(e,t,2,n,a);return Jg(e,r,c,Ws(s,o)),c.attrs!==null&&yu(c,c.attrs,!1),c.mergedAttrs!==null&&yu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function p(t,e,r,n){let i=Se(),o=yt(),s=ot+t,a=i[Ge],c=o.firstCreatePass?aI(s,o,i,e,r,n):o.data[s],l=cI(o,i,c,a,e,t);i[s]=l;let u=zu(c);return Wi(c,!0),Ug(a,l,c),!FE(c)&&Qu()&&ld(o,i,l,c),WD()===0&&Un(l,i),qD(),u&&(Yg(o,i,c),Zg(o,c,i)),n!==null&&Kg(i,c),p}function m(){let t=Ot();Ym()?Km():(t=t.parent,Wi(t,!1));let e=t;YD(e)&&KD(),ZD();let r=yt();return r.firstCreatePass&&(Xu(r,t),Lm(t)&&r.queries.elementEnd(t)),e.classesWithoutHost!=null&&hC(e)&&nm(r,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pC(e)&&nm(r,e,Se(),e.stylesWithoutHost,!1),m}function O(t,e,r,n){return p(t,e,r,n),m(),O}var cI=(t,e,r,n,i,o)=>(Ju(!0),kg(n,i,lC()));function De(){return Se()}var oa="en-US";var lI=oa;function uI(t){typeof t=="string"&&(lI=t.toLowerCase().replace(/_/g,"-"))}function U(t,e,r,n){let i=Se(),o=yt(),s=Ot();return fI(o,i,i[Ge],s,t,e,n),U}function dI(t,e,r,n){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let a=e[ki],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function fI(t,e,r,n,i,o,s){let a=zu(n),l=t.firstCreatePass&&Wb(t),u=e[Ye],d=zb(e),f=!0;if(n.type&3||s){let v=Rt(n,e),b=s?s(v):v,M=d.length,z=s?G=>s(Vt(G[n.index])):n.index,ve=null;if(!s&&a&&(ve=dI(t,e,i,n.index)),ve!==null){let G=ve.__ngLastListenerFn__||ve;G.__ngNextListenerFn__=o,ve.__ngLastListenerFn__=o,f=!1}else{o=am(n,e,u,o,!1);let G=r.listen(b,i,o);d.push(o,G),l&&l.push(i,z,M,M+1)}}else o=am(n,e,u,o,!1);let h=n.outputs,g;if(f&&h!==null&&(g=h[i])){let v=g.length;if(v)for(let b=0;b<v;b+=2){let M=g[b],z=g[b+1],K=e[M][z].subscribe(o),F=d.length;d.push(o,K),l&&l.push(i,n.index,F,-(F+1))}}}function sm(t,e,r,n){let i=ue(null);try{return Lt(6,e,r),r(n)!==!1}catch(o){return rv(t,o),!1}finally{Lt(7,e,r),ue(i)}}function am(t,e,r,n,i){return function o(s){if(s===Function)return n;let a=t.componentOffset>-1?Cn(t.index,e):e;md(a);let c=sm(e,r,n,s),l=o.__ngNextListenerFn__;for(;l;)c=sm(e,r,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function A(t=1){return sC(t)}function hI(t,e){let r=null,n=fD(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){r=i;continue}if(n===null?Cm(t,o,!0):mD(n,o))return i}return r}function _d(t){let e=Se()[mt][ct];if(!e.projection){let r=t?t.length:1,n=e.projection=tD(r,null),i=n.slice(),o=e.child;for(;o!==null;){let s=t?hI(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:n[s]=o,i[s]=o),o=o.next}}}function wd(t,e=0,r){let n=Se(),i=yt(),o=Yi(i,ot+t,16,null,r||null);o.projection===null&&(o.projection=e),Km(),(!n[Mr]||qm())&&(o.flags&32)!==32&&yb(i,n,o)}function pI(t,e,r,n){r>=t.data.length&&(t.data[r]=null,t.blueprint[r]=null),e[r]=n}function C(t,e=""){let r=Se(),n=yt(),i=t+ot,o=n.firstCreatePass?Yi(n,i,1,e,null):n.data[i],s=mI(n,r,o,e,t);r[i]=s,Qu()&&ld(n,r,s,o),Wi(o,!1)}var mI=(t,e,r,n,i)=>(Ju(!0),rb(e[Ge],n));function ut(t){return Bt("",t,""),ut}function Bt(t,e,r){let n=Se(),i=VE(n,t,e,r);return i!==cn&&iv(n,bn(),i),Bt}function Dd(t,e,r,n,i,o,s){let a=Se(),c=BE(a,t,e,r,n,i,o,s);return c!==cn&&iv(a,bn(),c),Dd}function gI(t,e,r){let n=yt();if(n.firstCreatePass){let i=Lr(t);Ou(r,n.data,n.blueprint,i,!0),Ou(e,n.data,n.blueprint,i,!1)}}function Ou(t,e,r,n,i){if(t=Je(t),Array.isArray(t))for(let o=0;o<t.length;o++)Ou(t[o],e,r,n,i);else{let o=yt(),s=Se(),a=Ot(),c=Tr(t)?t:Je(t.provide),l=Om(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(Tr(t)||!t.multi){let h=new Hn(l,i,X),g=Ul(c,e,i?u:u+f,d);g===-1?(nu(Ks(a,s),o,c),Hl(o,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(h),s.push(h)):(r[g]=h,s[g]=h)}else{let h=Ul(c,e,u+f,d),g=Ul(c,e,u,u+f),v=h>=0&&r[h],b=g>=0&&r[g];if(i&&!b||!i&&!v){nu(Ks(a,s),o,c);let M=_I(i?yI:vI,r.length,i,n,l);!i&&b&&(r[g].providerFactory=M),Hl(o,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),r.push(M),s.push(M)}else{let M=mv(r[i?g:h],l,!i&&n);Hl(o,t,h>-1?h:g,M)}!i&&n&&b&&r[g].componentProviders++}}}function Hl(t,e,r,n){let i=Tr(e),o=SD(e);if(i||o){let c=(o?Je(e.useClass):e).prototype.ngOnDestroy;if(c){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=l.indexOf(r);u===-1?l.push(r,[n,c]):l[u+1].push(n,c)}else l.push(r,c)}}}function mv(t,e,r){return r&&t.componentProviders++,t.multi.push(e)-1}function Ul(t,e,r,n){for(let i=r;i<n;i++)if(e[i]===t)return i;return-1}function vI(t,e,r,n){return Nu(this.multi,[])}function yI(t,e,r,n){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Or(r,r[ie],this.providerFactory.index,n);o=a.slice(0,s),Nu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Nu(i,o);return o}function Nu(t,e){for(let r=0;r<t.length;r++){let n=t[r];e.push(n())}return e}function _I(t,e,r,n,i){let o=new Hn(t,r,X);return o.multi=[],o.index=e,o.componentProviders=0,mv(o,i,n&&!r),o}function Ki(t,e=[]){return r=>{r.providersResolver=(n,i)=>gI(n,i?i(t):t,e)}}var wI=(()=>{let e=class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Mm(!1,n.type),o=i.length>0?yd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(D(it))});let t=e;return t})();function ee(t){$r("NgStandalone"),t.getStandaloneInjector=e=>e.get(wI).getOrCreateStandaloneInjector(t)}function DI(t,e){let r=t[e];return r===cn?void 0:r}function CI(t,e,r,n,i,o){let s=e+r;return nn(t,s,i)?NE(t,s+1,o?n.call(o,i):n(i)):DI(t,s+1)}function L(t,e){let r=yt(),n,i=t+ot;r.firstCreatePass?(n=bI(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];let o=n.factory||(n.factory=jn(n.type,!0)),s,a=nt(X);try{let c=Ys(!1),l=o();return Ys(c),pI(r,Se(),i,l),l}finally{nt(a)}}function bI(t,e){if(e)for(let r=e.length-1;r>=0;r--){let n=e[r];if(t===n.name)return n}}function j(t,e,r){let n=t+ot,i=Se(),o=BD(i,n);return EI(i,n)?CI(i,JD(),e,o.transform,r,o):o.transform(r)}function EI(t,e){return t[ie].data[e].pure}var Ia=(()=>{let e=class e{log(n){console.log(n)}warn(n){console.warn(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var gv=new E("");function Gr(t){return!!t&&typeof t.then=="function"}function Cd(t){return!!t&&typeof t.subscribe=="function"}var vv=new E(""),yv=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=w(vv,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Gr(s))n.push(s);else if(Cd(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});n.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bd=new E("");function II(){zh(()=>{throw new Z(600,!1)})}function SI(t){return t.isBoundToModule}function xI(t,e,r){try{let n=r();return Gr(n)?n.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):n}catch(n){throw e.runOutsideAngular(()=>t.handleError(n)),n}}var Yn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=w(gg),this.afterRenderEffectManager=w(hv),this.externalTestViews=new Set,this.beforeRender=new V,this.afterTick=new V,this.componentTypes=[],this.components=[],this.isStable=w(Ea).hasPendingTasks.pipe(_(n=>!n)),this._injector=w(it)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof ea;if(!this._injector.get(yv).done){let h=!o&&Im(n),g=!1;throw new Z(405,g)}let a;o?a=n:a=this._injector.get(Ca).resolveComponentFactory(n),this.componentTypes.push(a.componentType);let c=SI(a)?void 0:this._injector.get(Dn),l=i||a.selector,u=a.create(jr.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(gv,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Gl(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new Z(101,!1);let i=ue(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,ue(i)}}detectChangesInAttachedViews(n){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===cv)throw new Z(103,!1);if(n){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)TI(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>ku(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>ku(s))))break}}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Gl(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(bd,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Gl(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gl(t,e){let r=t.indexOf(e);r>-1&&t.splice(r,1)}function TI(t,e,r){!e&&!ku(t)||MI(t,r,e)}function ku(t){return Zu(t)}function MI(t,e,r){let n;r?(n=0,t[Y]|=1024):t[Y]&64?n=0:n=1,lv(t,e,n)}var Pu=class{constructor(e,r){this.ngModuleFactory=e,this.componentFactories=r}},Ed=(()=>{let e=class e{compileModuleSync(n){return new Cu(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=Sm(n),s=Ng(o.declarations).reduce((a,c)=>{let l=wn(c);return l&&a.push(new kr(l)),a},[]);return new Pu(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AI=(()=>{let e=class e{constructor(){this.zone=w(be),this.applicationRef=w(Yn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function RI(t){return[{provide:be,useFactory:t},{provide:Tt,multi:!0,useFactory:()=>{let e=w(AI,{optional:!0});return()=>e.initialize()}},{provide:Tt,multi:!0,useFactory:()=>{let e=w(PI);return()=>{e.initialize()}}},{provide:gg,useFactory:OI}]}function OI(){let t=w(be),e=w(at);return r=>t.runOutsideAngular(()=>e.handleError(r))}function NI(t){let e=RI(()=>new be(kI(t)));return At([[],e])}function kI(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var PI=(()=>{let e=class e{constructor(){this.subscription=new Ce,this.initialized=!1,this.zone=w(be),this.pendingTasks=w(Ea)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FI(){return typeof $localize<"u"&&$localize.locale||oa}var Id=new E("",{providedIn:"root",factory:()=>w(Id,se.Optional|se.SkipSelf)||FI()});var _v=new E("");var $s=null;function LI(t=[],e){return jr.create({name:e,providers:[{provide:ca,useValue:"platform"},{provide:_v,useValue:new Set([()=>$s=null])},...t]})}function jI(t=[]){if($s)return $s;let e=LI(t);return $s=e,II(),$I(e),e}function $I(t){t.get(rd,null)?.forEach(r=>r())}function Sa(){return!1}var ln=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VI;let t=e;return t})();function VI(t){return BI(Ot(),Se(),(t&16)===16)}function BI(t,e,r){if(fa(t)&&!r){let n=Cn(t.index,e);return new Nr(n,n)}else if(t.type&47){let n=e[mt];return new Nr(n,e)}return null}function wv(t){try{let{rootComponent:e,appProviders:r,platformProviders:n}=t,i=jI(n),o=[NI(),...r||[]],a=new na({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(be);return c.run(()=>{a.resolveInjectorInitializers();let l=a.get(at,null),u;c.runOutsideAngular(()=>{u=c.onError.subscribe({next:h=>{l.handleError(h)}})});let d=()=>a.destroy(),f=i.get(_v);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),xI(l,c,()=>{let h=a.get(yv);return h.runInitializers(),h.donePromise.then(()=>{let g=a.get(Id,oa);uI(g||oa);let v=a.get(Yn);return e!==void 0&&v.bootstrap(e),v})})})}catch(e){return Promise.reject(e)}}function Qi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function xa(t,e){$r("NgSignals");let r=Hh(t);return e?.equal&&(r[dn].equal=e.equal),r}function Ta(t){let e=ue(null);try{return t()}finally{ue(e)}}function Dv(t,e){let r=wn(t),n=e.elementInjector||la();return new kr(r).create(n,e.projectableNodes,e.hostElement,e.environmentInjector)}var xv=null;function zr(){return xv}function Tv(t){xv??=t}var Ma=class{};var Re=new E(""),Mv=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>w(zI),providedIn:"platform"});let t=e;return t})();var zI=(()=>{let e=class e extends Mv{constructor(){super(),this._doc=w(Re),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zr().getBaseHref(this._doc)}onPopState(n){let i=zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=zr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Av(t,e){if(t.length==0)return e;if(e.length==0)return t;let r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,r==2?t+e.substring(1):r==1?t+e:t+"/"+e}function Cv(t){let e=t.match(/#|\?|$/),r=e&&e.index||t.length,n=r-(t[r-1]==="/"?1:0);return t.slice(0,n)+t.slice(r)}function Kn(t){return t&&t[0]!=="?"?"?"+t:t}var Ra=(()=>{let e=class e{historyGo(n){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>w(Rv),providedIn:"root"});let t=e;return t})(),WI=new E(""),Rv=(()=>{let e=class e extends Ra{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??w(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Av(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+Kn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let a=this.prepareExternalUrl(o+Kn(s));this._platformLocation.pushState(n,i,a)}replaceState(n,i,o,s){let a=this.prepareExternalUrl(o+Kn(s));this._platformLocation.replaceState(n,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};e.\u0275fac=function(i){return new(i||e)(D(Mv),D(WI,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ji=(()=>{let e=class e{constructor(n){this._subject=new _e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=YI(Cv(bv(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Kn(i))}normalize(n){return e.stripTrailingSlash(ZI(this._basePath,bv(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kn(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Kn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};e.normalizeQueryParams=Kn,e.joinWithSlash=Av,e.stripTrailingSlash=Cv,e.\u0275fac=function(i){return new(i||e)(D(Ra))},e.\u0275prov=S({token:e,factory:()=>qI(),providedIn:"root"});let t=e;return t})();function qI(){return new Ji(D(Ra))}function ZI(t,e){if(!t||!e.startsWith(t))return e;let r=e.substring(t.length);return r===""||["/",";","?","#"].includes(r[0])?r:e}function bv(t){return t.replace(/\/index.html$/,"")}function YI(t){if(new RegExp("^(https?:)?//").test(t)){let[,r]=t.split(/\/\/[^\/]+/);return r}return t}function Ov(t,e){e=encodeURIComponent(e);for(let r of t.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Sd=/\s+/,Ev=[],Oa=(()=>{let e=class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=Ev,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Sd):Ev}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Sd):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let o=this.stateMap.get(n);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(Sd).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(X(Nt),X(ba))},e.\u0275dir=rn({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ae.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();function KI(t,e){return new Z(2100,!1)}var xd=class{createSubscription(e,r){return Ta(()=>e.subscribe({next:r,error:n=>{throw n}}))}dispose(e){Ta(()=>e.unsubscribe())}},Td=class{createSubscription(e,r){return e.then(r,n=>{throw n})}dispose(e){}},QI=new Td,JI=new xd,_t=(()=>{let e=class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(Gr(n))return QI;if(Cd(n))return JI;throw KI(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(X(ln,16))},e.\u0275pipe=Hu({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var Nv=(()=>{let e=class e{transform(n){return JSON.stringify(n,null,2)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Hu({name:"json",type:e,pure:!1,standalone:!0});let t=e;return t})();var Md="browser",XI="server";function kv(t){return t===Md}function Ad(t){return t===XI}var Aa=class{};var Nd=class extends Ma{constructor(){super(...arguments),this.supportsDOMEvents=!0}},kd=class t extends Nd{static makeCurrent(){Tv(new t)}onAndCancel(e,r,n){return e.addEventListener(r,n),()=>{e.removeEventListener(r,n)}}dispatchEvent(e,r){e.dispatchEvent(r)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,r){return r=r||this.getDefaultDocument(),r.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,r){return r==="window"?window:r==="document"?e:r==="body"?e.body:null}getBaseHref(e){let r=tS();return r==null?null:nS(r)}resetBaseElement(){Xi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ov(document.cookie,e)}},Xi=null;function tS(){return Xi=Xi||document.querySelector("base"),Xi?Xi.getAttribute("href"):null}function nS(t){return new URL(t,document.baseURI).pathname}var rS=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Pd=new E(""),jv=(()=>{let e=class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new Z(5101,!1);return this._eventNameToPlugin.set(n,i),i}};e.\u0275fac=function(i){return new(i||e)(D(Pd),D(be))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Na=class{constructor(e){this._doc=e}},Rd="ng-app-id",$v=(()=>{let e=class e{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ad(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Rd}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(Rd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Rd,this.appId),n.appendChild(a),a}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(D(Re),D(nd),D(id,8),D(En))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Od={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ld=/%COMP%/g,Vv="%COMP%",iS=`_nghost-${Vv}`,oS=`_ngcontent-${Vv}`,sS=!0,aS=new E("",{providedIn:"root",factory:()=>sS});function cS(t){return oS.replace(Ld,t)}function lS(t){return iS.replace(Ld,t)}function Bv(t,e){return e.map(r=>r.replace(Ld,t))}var Pv=(()=>{let e=class e{constructor(n,i,o,s,a,c,l,u=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ad(c),this.defaultRenderer=new eo(n,a,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===$t.ShadowDom&&(i=I(y({},i),{encapsulation:$t.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof ka?o.applyToHost(n):o instanceof to&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case $t.Emulated:s=new ka(l,u,i,this.appId,d,a,c,f);break;case $t.ShadowDom:return new Fd(l,u,n,i,a,c,this.nonce,f);default:s=new to(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(D(jv),D($v),D(nd),D(aS),D(Re),D(En),D(be),D(id))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),eo=class{constructor(e,r,n,i){this.eventManager=e,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,r){return r?this.doc.createElementNS(Od[r]||r,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,r){(Fv(e)?e.content:e).appendChild(r)}insertBefore(e,r,n){e&&(Fv(e)?e.content:e).insertBefore(r,n)}removeChild(e,r){e&&e.removeChild(r)}selectRootElement(e,r){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Z(-5104,!1);return r||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,r,n,i){if(i){r=i+":"+r;let o=Od[i];o?e.setAttributeNS(o,r,n):e.setAttribute(r,n)}else e.setAttribute(r,n)}removeAttribute(e,r,n){if(n){let i=Od[n];i?e.removeAttributeNS(i,r):e.removeAttribute(`${n}:${r}`)}else e.removeAttribute(r)}addClass(e,r){e.classList.add(r)}removeClass(e,r){e.classList.remove(r)}setStyle(e,r,n,i){i&(tn.DashCase|tn.Important)?e.style.setProperty(r,n,i&tn.Important?"important":""):e.style[r]=n}removeStyle(e,r,n){n&tn.DashCase?e.style.removeProperty(r):e.style[r]=""}setProperty(e,r,n){e!=null&&(e[r]=n)}setValue(e,r){e.nodeValue=r}listen(e,r,n){if(typeof e=="string"&&(e=zr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${r}`);return this.eventManager.addEventListener(e,r,this.decoratePreventDefault(n))}decoratePreventDefault(e){return r=>{if(r==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(r)):e(r))===!1&&r.preventDefault()}}};function Fv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Fd=class extends eo{constructor(e,r,n,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Bv(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,r){return super.appendChild(this.nodeOrShadowRoot(e),r)}insertBefore(e,r,n){return super.insertBefore(this.nodeOrShadowRoot(e),r,n)}removeChild(e,r){return super.removeChild(this.nodeOrShadowRoot(e),r)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},to=class extends eo{constructor(e,r,n,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=c?Bv(c,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ka=class extends to{constructor(e,r,n,i,o,s,a,c){let l=i+"-"+n.id;super(e,r,n,o,s,a,c,l),this.contentAttr=cS(l),this.hostAttr=lS(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,r){let n=super.createElement(e,r);return super.setAttribute(n,this.contentAttr,""),n}},uS=(()=>{let e=class e extends Na{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(D(Re))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Lv=["alt","control","meta","shift"],dS={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fS={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},hS=(()=>{let e=class e extends Na{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zr().onAndCancel(n,s.domEventName,a))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),Lv.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(n,i){let o=dS[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Lv.forEach(a=>{if(a!==o){let c=fS[a];c(n)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{e.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(i){return new(i||e)(D(Re))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function Hv(t,e){return wv(y({rootComponent:t},pS(e)))}function pS(t){return{appProviders:[..._S,...t?.providers??[]],platformProviders:yS}}function mS(){kd.makeCurrent()}function gS(){return new at}function vS(){return Cg(document),document}var yS=[{provide:En,useValue:Md},{provide:rd,useValue:mS,multi:!0},{provide:Re,useFactory:vS,deps:[]}];var _S=[{provide:ca,useValue:"root"},{provide:at,useFactory:gS,deps:[]},{provide:Pd,useClass:uS,multi:!0,deps:[Re,be,En]},{provide:Pd,useClass:hS,multi:!0,deps:[Re]},Pv,$v,jv,{provide:Bi,useExisting:Pv},{provide:Aa,useClass:rS,deps:[]},[]];var Uv=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(i){return new(i||e)(D(Re))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var te="primary",vo=Symbol("RouteTitle"),Hd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r[0]:r}return null}getAll(e){if(this.has(e)){let r=this.params[e];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function Kr(t){return new Hd(t)}function bS(t,e,r){let n=r.path.split("/");if(n.length>t.length||r.pathMatch==="full"&&(e.hasChildren()||n.length<t.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}function ES(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!Ht(t[r],e[r]))return!1;return!0}function Ht(t,e){let r=t?Ud(t):void 0,n=e?Ud(e):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!Kv(t[i],e[i]))return!1;return!0}function Ud(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Kv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let r=[...t].sort(),n=[...e].sort();return r.every((i,o)=>n[o]===i)}else return t===e}function Qv(t){return t.length>0?t[t.length-1]:null}function xn(t){return Cs(t)?t:Gr(t)?Oe(Promise.resolve(t)):q(t)}var IS={exact:Xv,subset:e0},Jv={exact:SS,subset:xS,ignored:()=>!0};function Gv(t,e,r){return IS[r.paths](t.root,e.root,r.matrixParams)&&Jv[r.queryParams](t.queryParams,e.queryParams)&&!(r.fragment==="exact"&&t.fragment!==e.fragment)}function SS(t,e){return Ht(t,e)}function Xv(t,e,r){if(!Jn(t.segments,e.segments)||!La(t.segments,e.segments,r)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!t.children[n]||!Xv(t.children[n],e.children[n],r))return!1;return!0}function xS(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(r=>Kv(t[r],e[r]))}function e0(t,e,r){return t0(t,e,e.segments,r)}function t0(t,e,r,n){if(t.segments.length>r.length){let i=t.segments.slice(0,r.length);return!(!Jn(i,r)||e.hasChildren()||!La(i,r,n))}else if(t.segments.length===r.length){if(!Jn(t.segments,r)||!La(t.segments,r,n))return!1;for(let i in e.children)if(!t.children[i]||!e0(t.children[i],e.children[i],n))return!1;return!0}else{let i=r.slice(0,t.segments.length),o=r.slice(t.segments.length);return!Jn(t.segments,i)||!La(t.segments,i,n)||!t.children[te]?!1:t0(t.children[te],e,o,n)}}function La(t,e,r){return e.every((n,i)=>Jv[r](t[i].parameters,n.parameters))}var In=class{constructor(e=new Ee([],{}),r={},n=null){this.root=e,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return AS.serialize(this)}},Ee=class{constructor(e,r){this.segments=e,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ja(this)}},Qn=class{constructor(e,r){this.path=e,this.parameters=r}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return r0(this)}};function TS(t,e){return Jn(t,e)&&t.every((r,n)=>Ht(r.parameters,e[n].parameters))}function Jn(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.path===e[n].path)}function MS(t,e){let r=[];return Object.entries(t.children).forEach(([n,i])=>{n===te&&(r=r.concat(e(i,n)))}),Object.entries(t.children).forEach(([n,i])=>{n!==te&&(r=r.concat(e(i,n)))}),r}var gf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>new Va,providedIn:"root"});let t=e;return t})(),Va=class{parse(e){let r=new zd(e);return new In(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(e){let r=`/${no(e.root,!0)}`,n=NS(e.queryParams),i=typeof e.fragment=="string"?`#${RS(e.fragment)}`:"";return`${r}${n}${i}`}},AS=new Va;function ja(t){return t.segments.map(e=>r0(e)).join("/")}function no(t,e){if(!t.hasChildren())return ja(t);if(e){let r=t.children[te]?no(t.children[te],!1):"",n=[];return Object.entries(t.children).forEach(([i,o])=>{i!==te&&n.push(`${i}:${no(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=MS(t,(n,i)=>i===te?[no(t.children[te],!1)]:[`${i}:${no(n,!1)}`]);return Object.keys(t.children).length===1&&t.children[te]!=null?`${ja(t)}/${r[0]}`:`${ja(t)}/(${r.join("//")})`}}function n0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pa(t){return n0(t).replace(/%3B/gi,";")}function RS(t){return encodeURI(t)}function Gd(t){return n0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $a(t){return decodeURIComponent(t)}function zv(t){return $a(t.replace(/\+/g,"%20"))}function r0(t){return`${Gd(t.path)}${OS(t.parameters)}`}function OS(t){return Object.entries(t).map(([e,r])=>`;${Gd(e)}=${Gd(r)}`).join("")}function NS(t){let e=Object.entries(t).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Pa(r)}=${Pa(i)}`).join("&"):`${Pa(r)}=${Pa(n)}`).filter(r=>r);return e.length?`?${e.join("&")}`:""}var kS=/^[^\/()?;#]+/;function jd(t){let e=t.match(kS);return e?e[0]:""}var PS=/^[^\/()?;=#]+/;function FS(t){let e=t.match(PS);return e?e[0]:""}var LS=/^[^=?&#]+/;function jS(t){let e=t.match(LS);return e?e[0]:""}var $S=/^[^&#]+/;function VS(t){let e=t.match($S);return e?e[0]:""}var zd=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(r).length>0)&&(n[te]=new Ee(e,r)),n}parseSegment(){let e=jd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new Qn($a(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let r=FS(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=jd(this.remaining);i&&(n=i,this.capture(n))}e[$a(r)]=$a(n)}parseQueryParam(e){let r=jS(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=VS(this.remaining);s&&(n=s,this.capture(n))}let i=zv(r),o=zv(n);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=jd(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=te);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[te]:new Ee([],s),this.consumeOptional("//")}return r}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function i0(t){return t.segments.length>0?new Ee([],{[te]:t}):t}function o0(t){let e={};for(let[n,i]of Object.entries(t.children)){let o=o0(i);if(n===te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[n]=o)}let r=new Ee(t.segments,e);return BS(r)}function BS(t){if(t.numberOfChildren===1&&t.children[te]){let e=t.children[te];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Qr(t){return t instanceof In}function HS(t,e,r=null,n=null){let i=s0(t);return a0(i,e,r,n)}function s0(t){let e;function r(o){let s={};for(let c of o.children){let l=r(c);s[c.outlet]=l}let a=new Ee(o.url,s);return o===t&&(e=a),a}let n=r(t.root),i=i0(n);return e??i}function a0(t,e,r,n){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return $d(i,i,i,r,n);let o=US(e);if(o.toRoot())return $d(i,i,new Ee([],{}),r,n);let s=GS(o,i,t),a=s.processChildren?oo(s.segmentGroup,s.index,o.commands):l0(s.segmentGroup,s.index,o.commands);return $d(i,s.segmentGroup,a,r,n)}function Ba(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function co(t){return typeof t=="object"&&t!=null&&t.outlets}function $d(t,e,r,n,i){let o={};n&&Object.entries(n).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=r:s=c0(t,e,r);let a=i0(o0(s));return new In(a,o,i)}function c0(t,e,r){let n={};return Object.entries(t.children).forEach(([i,o])=>{o===e?n[i]=r:n[i]=c0(o,e,r)}),new Ee(t.segments,n)}var Ha=class{constructor(e,r,n){if(this.isAbsolute=e,this.numberOfDoubleDots=r,this.commands=n,e&&n.length>0&&Ba(n[0]))throw new Z(4003,!1);let i=n.find(co);if(i&&i!==Qv(n))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function US(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ha(!0,0,t);let e=0,r=!1,n=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?r=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Ha(r,e,n)}var Zr=class{constructor(e,r,n){this.segmentGroup=e,this.processChildren=r,this.index=n}};function GS(t,e,r){if(t.isAbsolute)return new Zr(e,!0,0);if(!r)return new Zr(e,!1,NaN);if(r.parent===null)return new Zr(r,!0,0);let n=Ba(t.commands[0])?0:1,i=r.segments.length-1+n;return zS(r,i,t.numberOfDoubleDots)}function zS(t,e,r){let n=t,i=e,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new Z(4005,!1);i=n.segments.length}return new Zr(n,!1,i-o)}function WS(t){return co(t[0])?t[0].outlets:{[te]:t}}function l0(t,e,r){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return oo(t,e,r);let n=qS(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){let o=new Ee(t.segments.slice(0,n.pathIndex),{});return o.children[te]=new Ee(t.segments.slice(n.pathIndex),t.children),oo(o,0,i)}else return n.match&&i.length===0?new Ee(t.segments,{}):n.match&&!t.hasChildren()?Wd(t,e,r):n.match?oo(t,0,i):Wd(t,e,r)}function oo(t,e,r){if(r.length===0)return new Ee(t.segments,{});{let n=WS(r),i={};if(Object.keys(n).some(o=>o!==te)&&t.children[te]&&t.numberOfChildren===1&&t.children[te].segments.length===0){let o=oo(t.children[te],e,r);return new Ee(t.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=l0(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Ee(t.segments,i)}}function qS(t,e,r){let n=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(n>=r.length)return o;let s=t.segments[i],a=r[n];if(co(a))break;let c=`${a}`,l=n<r.length-1?r[n+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!qv(c,l,s))return o;n+=2}else{if(!qv(c,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function Wd(t,e,r){let n=t.segments.slice(0,e),i=0;for(;i<r.length;){let o=r[i];if(co(o)){let c=ZS(o.outlets);return new Ee(n,c)}if(i===0&&Ba(r[0])){let c=t.segments[e];n.push(new Qn(c.path,Wv(r[0]))),i++;continue}let s=co(o)?o.outlets[te]:`${o}`,a=i<r.length-1?r[i+1]:null;s&&a&&Ba(a)?(n.push(new Qn(s,Wv(a))),i+=2):(n.push(new Qn(s,{})),i++)}return new Ee(n,{})}function ZS(t){let e={};return Object.entries(t).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[r]=Wd(new Ee([],{}),0,n))}),e}function Wv(t){let e={};return Object.entries(t).forEach(([r,n])=>e[r]=`${n}`),e}function qv(t,e,r){return t==r.path&&Ht(e,r.parameters)}var so="imperative",ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ze||{}),wt=class{constructor(e,r){this.id=e,this.url=r}},lo=class extends wt{constructor(e,r,n="imperative",i=null){super(e,r),this.type=ze.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xn=class extends wt{constructor(e,r,n){super(e,r),this.urlAfterRedirects=n,this.type=ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ft=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(ft||{}),qd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(qd||{}),Sn=class extends wt{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},er=class extends wt{constructor(e,r,n,i){super(e,r),this.reason=n,this.code=i,this.type=ze.NavigationSkipped}},uo=class extends wt{constructor(e,r,n,i){super(e,r),this.error=n,this.target=i,this.type=ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ua=class extends wt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zd=class extends wt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class extends wt{constructor(e,r,n,i,o){super(e,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kd=class extends wt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class extends wt{constructor(e,r,n,i){super(e,r),this.urlAfterRedirects=n,this.state=i,this.type=ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jd=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xd=class{constructor(e){this.route=e,this.type=ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ef=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tf=class{constructor(e){this.snapshot=e,this.type=ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nf=class{constructor(e){this.snapshot=e,this.type=ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rf=class{constructor(e){this.snapshot=e,this.type=ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fo=class{},ho=class{constructor(e){this.url=e}};var of=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ya,this.attachRef=null}},Ya=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new of,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ga=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let r=this.pathFromRoot(e);return r.length>1?r[r.length-2]:null}children(e){let r=sf(e,this._root);return r?r.children.map(n=>n.value):[]}firstChild(e){let r=sf(e,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(e){let r=af(e,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return af(e,this._root).map(r=>r.value)}};function sf(t,e){if(t===e.value)return e;for(let r of e.children){let n=sf(t,r);if(n)return n}return null}function af(t,e){if(t===e.value)return[e];for(let r of e.children){let n=af(t,r);if(n.length)return n.unshift(e),n}return[]}var dt=class{constructor(e,r){this.value=e,this.children=r}toString(){return`TreeNode(${this.value})`}};function qr(t){let e={};return t&&t.children.forEach(r=>e[r.value.outlet]=r),e}var za=class extends Ga{constructor(e,r){super(e),this.snapshot=r,yf(this,e)}toString(){return this.snapshot.toString()}};function u0(t){let e=YS(t),r=new Te([new Qn("",{})]),n=new Te({}),i=new Te({}),o=new Te({}),s=new Te(""),a=new Jr(r,n,o,s,i,te,t,e.root);return a.snapshot=e.root,new za(new dt(a,[]),e)}function YS(t){let e={},r={},n={},i="",o=new po([],e,n,i,r,te,t,null,{});return new Wa("",new dt(o,[]))}var Jr=class{constructor(e,r,n,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_(l=>l[vo]))??q(void 0),this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_(e=>Kr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_(e=>Kr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vf(t,e,r="emptyOnly"){let n,{routeConfig:i}=t;return e!==null&&(r==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:y(y({},e.params),t.params),data:y(y({},e.data),t.data),resolve:y(y(y(y({},t.data),e.data),i?.data),t._resolvedData)}:n={params:y({},t.params),data:y({},t.data),resolve:y(y({},t.data),t._resolvedData??{})},i&&f0(i)&&(n.resolve[vo]=i.title),n}var po=class{get title(){return this.data?.[vo]}constructor(e,r,n,i,o,s,a,c,l){this.url=e,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${r}')`}},Wa=class extends Ga{constructor(e,r){super(r),this.url=e,yf(this,r)}toString(){return d0(this._root)}};function yf(t,e){e.value._routerState=t,e.children.forEach(r=>yf(t,r))}function d0(t){let e=t.children.length>0?` { ${t.children.map(d0).join(", ")} } `:"";return`${t.value}${e}`}function Vd(t){if(t.snapshot){let e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Ht(e.queryParams,r.queryParams)||t.queryParamsSubject.next(r.queryParams),e.fragment!==r.fragment&&t.fragmentSubject.next(r.fragment),Ht(e.params,r.params)||t.paramsSubject.next(r.params),ES(e.url,r.url)||t.urlSubject.next(r.url),Ht(e.data,r.data)||t.dataSubject.next(r.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cf(t,e){let r=Ht(t.params,e.params)&&TS(t.url,e.url),n=!t.parent!=!e.parent;return r&&!n&&(!t.parent||cf(t.parent,e.parent))}function f0(t){return typeof t.title=="string"||t.title===null}var _f=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=te,this.activateEvents=new _e,this.deactivateEvents=new _e,this.attachEvents=new _e,this.detachEvents=new _e,this.parentContexts=w(Ya),this.location=w(Zn),this.changeDetector=w(ln),this.environmentInjector=w(it),this.inputBinder=w(wf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=n;let o=this.location,a=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new lf(n,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rn({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wn]});let t=e;return t})(),lf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,r,n){this.route=e,this.childContexts=r,this.parent=n}get(e,r){return e===Jr?this.route:e===Ya?this.childContexts:this.parent.get(e,r)}},wf=new E("");function KS(t,e,r){let n=mo(t,e._root,r?r._root:void 0);return new za(n,e)}function mo(t,e,r){if(r&&t.shouldReuseRoute(e.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=e.value;let i=QS(t,e,r);return new dt(n,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>mo(t,a)),s}}let n=JS(e.value),i=e.children.map(o=>mo(t,o));return new dt(n,i)}}function QS(t,e,r){return e.children.map(n=>{for(let i of r.children)if(t.shouldReuseRoute(n.value,i.value.snapshot))return mo(t,n,i);return mo(t,n)})}function JS(t){return new Jr(new Te(t.url),new Te(t.params),new Te(t.queryParams),new Te(t.fragment),new Te(t.data),t.outlet,t.component,t)}var h0="ngNavigationCancelingError";function p0(t,e){let{redirectTo:r,navigationBehaviorOptions:n}=Qr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=m0(!1,ft.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function m0(t,e){let r=new Error(`NavigationCancelingError: ${t||""}`);return r[h0]=!0,r.cancellationCode=e,r}function XS(t){return g0(t)&&Qr(t.url)}function g0(t){return!!t&&t[h0]}var e1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["ng-component"]],standalone:!0,features:[ee],decls:1,vars:0,template:function(i,o){i&1&&O(0,"router-outlet")},dependencies:[_f],encapsulation:2});let t=e;return t})();function t1(t,e){return t.providers&&!t._injector&&(t._injector=yd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Df(t){let e=t.children&&t.children.map(Df),r=e?I(y({},t),{children:e}):y({},t);return!r.component&&!r.loadComponent&&(e||r.loadChildren)&&r.outlet&&r.outlet!==te&&(r.component=e1),r}function Ut(t){return t.outlet||te}function n1(t,e){let r=t.filter(n=>Ut(n)===e);return r.push(...t.filter(n=>Ut(n)!==e)),r}function yo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let r=e.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var r1=(t,e,r,n)=>_(i=>(new uf(e,i.targetRouterState,i.currentRouterState,r,n).activate(t),i)),uf=class{constructor(e,r,n,i,o){this.routeReuseStrategy=e,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,e),Vd(this.futureState.root),this.activateChildRoutes(r,n,e)}deactivateChildRoutes(e,r,n){let i=qr(r);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(e,r,s.children)}else this.deactivateChildRoutes(e,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(e,r){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,r):this.deactivateRouteAndOutlet(e,r)}detachAndStoreRouteSubtree(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=qr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,r){let n=r.getContext(e.value.outlet),i=n&&e.value.component?n.children:r,o=qr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,r,n){let i=qr(r);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new rf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new tf(e.value.snapshot))}activateRoutes(e,r,n){let i=e.value,o=r?r.value:null;if(Vd(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,r,s.children)}else this.activateChildRoutes(e,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vd(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=yo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,n)}},qa=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yr=class{constructor(e,r){this.component=e,this.route=r}};function i1(t,e,r){let n=t._root,i=e?e._root:null;return ro(n,i,r,[n.value])}function o1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ei(t,e){let r=Symbol(),n=e.get(t,r);return n===r?typeof t=="function"&&!dm(t)?t:e.get(t):n}function ro(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qr(e);return t.children.forEach(s=>{s1(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ao(a,r.getContext(s),i)),i}function s1(t,e,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=a1(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new qa(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ro(t,e,a?a.children:null,n,i):ro(t,e,r,n,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yr(a.outlet.component,s))}else s&&ao(e,a,i),i.canActivateChecks.push(new qa(n)),o.component?ro(t,null,a?a.children:null,n,i):ro(t,null,r,n,i);return i}function a1(t,e,r){if(typeof r=="function")return r(t,e);switch(r){case"pathParamsChange":return!Jn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Jn(t.url,e.url)||!Ht(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cf(t,e)||!Ht(t.queryParams,e.queryParams);case"paramsChange":default:return!cf(t,e)}}function ao(t,e,r){let n=qr(t),i=t.value;Object.entries(n).forEach(([o,s])=>{i.component?e?ao(s,e.children.getContext(o),r):ao(s,null,r):ao(s,e,r)}),i.component?e&&e.outlet&&e.outlet.isActivated?r.canDeactivateChecks.push(new Yr(e.outlet.component,i)):r.canDeactivateChecks.push(new Yr(null,i)):r.canDeactivateChecks.push(new Yr(null,i))}function _o(t){return typeof t=="function"}function c1(t){return typeof t=="boolean"}function l1(t){return t&&_o(t.canLoad)}function u1(t){return t&&_o(t.canActivate)}function d1(t){return t&&_o(t.canActivateChild)}function f1(t){return t&&_o(t.canDeactivate)}function h1(t){return t&&_o(t.canMatch)}function v0(t){return t instanceof Jt||t?.name==="EmptyError"}var Fa=Symbol("INITIAL_VALUE");function Xr(){return Ue(t=>He(t.map(e=>e.pipe(Ze(1),Dr(Fa)))).pipe(_(e=>{for(let r of e)if(r!==!0){if(r===Fa)return Fa;if(r===!1||r instanceof In)return r}return!0}),re(e=>e!==Fa),Ze(1)))}function p1(t,e){return Me(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?q(I(y({},r),{guardsResult:!0})):m1(s,n,i,t).pipe(Me(a=>a&&c1(a)?g1(n,o,t,e):q(a)),_(a=>I(y({},r),{guardsResult:a})))})}function m1(t,e,r,n){return Oe(t).pipe(Me(i=>D1(i.component,i.route,r,e,n)),Ft(i=>i!==!0,!0))}function g1(t,e,r,n){return Oe(e).pipe(Xt(i=>yr(y1(i.route.parent,n),v1(i.route,n),w1(t,i.path,r),_1(t,i.route,r))),Ft(i=>i!==!0,!0))}function v1(t,e){return t!==null&&e&&e(new nf(t)),q(!0)}function y1(t,e){return t!==null&&e&&e(new ef(t)),q(!0)}function _1(t,e,r){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return q(!0);let i=n.map(o=>Mi(()=>{let s=yo(e)??r,a=ei(o,s),c=u1(a)?a.canActivate(e,t):zn(s,()=>a(e,t));return xn(c).pipe(Ft())}));return q(i).pipe(Xr())}function w1(t,e,r){let n=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>o1(s)).filter(s=>s!==null).map(s=>Mi(()=>{let a=s.guards.map(c=>{let l=yo(s.node)??r,u=ei(c,l),d=d1(u)?u.canActivateChild(n,t):zn(l,()=>u(n,t));return xn(d).pipe(Ft())});return q(a).pipe(Xr())}));return q(o).pipe(Xr())}function D1(t,e,r,n,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let c=yo(e)??i,l=ei(a,c),u=f1(l)?l.canDeactivate(t,e,r,n):zn(c,()=>l(t,e,r,n));return xn(u).pipe(Ft())});return q(s).pipe(Xr())}function C1(t,e,r,n){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=ei(s,t),c=l1(a)?a.canLoad(e,r):zn(t,()=>a(e,r));return xn(c)});return q(o).pipe(Xr(),y0(n))}function y0(t){return dl(Q(e=>{if(Qr(e))throw p0(t,e)}),_(e=>e===!0))}function b1(t,e,r,n){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=ei(s,t),c=h1(a)?a.canMatch(e,r):zn(t,()=>a(e,r));return xn(c)});return q(o).pipe(Xr(),y0(n))}var go=class{constructor(e){this.segmentGroup=e||null}},Za=class extends Error{constructor(e){super(),this.urlTree=e}};function Wr(t){return mn(new go(t))}function E1(t){return mn(new Z(4e3,!1))}function I1(t){return mn(m0(!1,ft.GuardRejected))}var df=class{constructor(e,r){this.urlSerializer=e,this.urlTree=r}lineralizeSegments(e,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return q(n);if(i.numberOfChildren>1||!i.children[te])return E1(e.redirectTo);i=i.children[te]}}applyRedirectCommands(e,r,n){let i=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),e,n);if(r.startsWith("/"))throw new Za(i);return i}applyRedirectCreateUrlTree(e,r,n,i){let o=this.createSegmentGroup(e,r.root,n,i);return new In(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(e,r){let n={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);n[i]=r[a]}else n[i]=o}),n}createSegmentGroup(e,r,n,i){let o=this.createSegments(e,r.segments,n,i),s={};return Object.entries(r.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,n,i)}),new Ee(o,s)}createSegments(e,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,n))}findPosParam(e,r,n){let i=n[r.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,r){let n=0;for(let i of r){if(i.path===e.path)return r.splice(n),i;n++}return e}},ff={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S1(t,e,r,n,i){let o=Cf(t,e,r);return o.matched?(n=t1(e,n),b1(n,e,r,i).pipe(_(s=>s===!0?o:y({},ff)))):q(o)}function Cf(t,e,r){if(e.path==="**")return x1(r);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||r.length>0)?y({},ff):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(e.matcher||bS)(r,t,e);if(!i)return y({},ff);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?y(y({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function x1(t){return{matched:!0,parameters:t.length>0?Qv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Zv(t,e,r,n){return r.length>0&&A1(t,r,n)?{segmentGroup:new Ee(e,M1(n,new Ee(r,t.children))),slicedSegments:[]}:r.length===0&&R1(t,r,n)?{segmentGroup:new Ee(t.segments,T1(t,r,n,t.children)),slicedSegments:r}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:r}}function T1(t,e,r,n){let i={};for(let o of r)if(Ka(t,e,o)&&!n[Ut(o)]){let s=new Ee([],{});i[Ut(o)]=s}return y(y({},n),i)}function M1(t,e){let r={};r[te]=e;for(let n of t)if(n.path===""&&Ut(n)!==te){let i=new Ee([],{});r[Ut(n)]=i}return r}function A1(t,e,r){return r.some(n=>Ka(t,e,n)&&Ut(n)!==te)}function R1(t,e,r){return r.some(n=>Ka(t,e,n))}function Ka(t,e,r){return(t.hasChildren()||e.length>0)&&r.pathMatch==="full"?!1:r.path===""}function O1(t,e,r,n){return Ut(t)!==n&&(n===te||!Ka(e,r,t))?!1:Cf(e,t,r).matched}function N1(t,e,r){return e.length===0&&!t.children[r]}var hf=class{};function k1(t,e,r,n,i,o,s="emptyOnly"){return new pf(t,e,r,n,i,s,o).recognize()}var P1=31,pf=class{constructor(e,r,n,i,o,s,a){this.injector=e,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new df(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=Zv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(_(r=>{let n=new po([],Object.freeze({}),Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,{},te,this.rootComponentType,null,{}),i=new dt(n,r),o=new Wa("",i),s=HS(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,te).pipe(pt(n=>{if(n instanceof Za)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof go?this.noMatchError(n):n}))}inheritParamsAndData(e,r){let n=e.value,i=vf(n,r,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,n))}processSegmentGroup(e,r,n,i){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,r,n):this.processSegment(e,r,n,n.segments,i,!0).pipe(_(o=>o instanceof dt?[o]:[]))}processChildren(e,r,n){let i=[];for(let o of Object.keys(n.children))o==="primary"?i.unshift(o):i.push(o);return Oe(i).pipe(Xt(o=>{let s=n.children[o],a=n1(r,o);return this.processSegmentGroup(e,a,s,o)}),Pn((o,s)=>(o.push(...s),o)),vn(null),bl(),Me(o=>{if(o===null)return Wr(n);let s=_0(o);return F1(s),q(s)}))}processSegment(e,r,n,i,o,s){return Oe(r).pipe(Xt(a=>this.processSegmentAgainstRoute(a._injector??e,r,a,n,i,o,s).pipe(pt(c=>{if(c instanceof go)return q(null);throw c}))),Ft(a=>!!a),pt(a=>{if(v0(a))return N1(n,i,o)?q(new hf):Wr(n);throw a}))}processSegmentAgainstRoute(e,r,n,i,o,s,a){return O1(n,i,o,s)?n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,n,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,r,n,o,s):Wr(i):Wr(i)}expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Cf(r,i,o);if(!a)return Wr(r);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>P1&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(Me(f=>this.processSegment(e,n,r,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,r,n,i,o){let s=S1(r,n,i,e,this.urlSerializer);return n.path==="**"&&(r.children={}),s.pipe(Ue(a=>a.matched?(e=n._injector??e,this.getChildConfig(e,n,i).pipe(Ue(({routes:c})=>{let l=n._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new po(u,f,Object.freeze(y({},this.urlTree.queryParams)),this.urlTree.fragment,j1(n),Ut(n),n.component??n._loadedComponent??null,n,$1(n)),{segmentGroup:g,slicedSegments:v}=Zv(r,u,d,c);if(v.length===0&&g.hasChildren())return this.processChildren(l,c,g).pipe(_(M=>M===null?null:new dt(h,M)));if(c.length===0&&v.length===0)return q(new dt(h,[]));let b=Ut(n)===o;return this.processSegment(l,c,g,v,b?te:o,!0).pipe(_(M=>new dt(h,M instanceof dt?[M]:[])))}))):Wr(r)))}getChildConfig(e,r,n){return r.children?q({routes:r.children,injector:e}):r.loadChildren?r._loadedRoutes!==void 0?q({routes:r._loadedRoutes,injector:r._loadedInjector}):C1(e,r,n,this.urlSerializer).pipe(Me(i=>i?this.configLoader.loadChildren(e,r).pipe(Q(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):I1(r))):q({routes:[],injector:e})}};function F1(t){t.sort((e,r)=>e.value.outlet===te?-1:r.value.outlet===te?1:e.value.outlet.localeCompare(r.value.outlet))}function L1(t){let e=t.value.routeConfig;return e&&e.path===""}function _0(t){let e=[],r=new Set;for(let n of t){if(!L1(n)){e.push(n);continue}let i=e.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):e.push(n)}for(let n of r){let i=_0(n.children);e.push(new dt(n.value,i))}return e.filter(n=>!r.has(n))}function j1(t){return t.data||{}}function $1(t){return t.resolve||{}}function V1(t,e,r,n,i,o){return Me(s=>k1(t,e,r,n,s.extractedUrl,i,o).pipe(_(({state:a,tree:c})=>I(y({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function B1(t,e){return Me(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return q(r);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of w0(c))s.add(l);let a=0;return Oe(s).pipe(Xt(c=>o.has(c)?H1(c,n,t,e):(c.data=vf(c,c.parent,t).resolve,q(void 0))),Q(()=>a++),wr(1),Me(c=>a===s.size?q(r):Le))})}function w0(t){let e=t.children.map(r=>w0(r)).flat();return[t,...e]}function H1(t,e,r,n){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!f0(i)&&(o[vo]=i.title),U1(o,t,e,n).pipe(_(s=>(t._resolvedData=s,t.data=vf(t,t.parent,r).resolve,null)))}function U1(t,e,r,n){let i=Ud(t);if(i.length===0)return q({});let o={};return Oe(i).pipe(Me(s=>G1(t[s],e,r,n).pipe(Ft(),Q(a=>{o[s]=a}))),wr(1),Dl(o),pt(s=>v0(s)?Le:mn(s)))}function G1(t,e,r,n){let i=yo(e)??n,o=ei(t,i),s=o.resolve?o.resolve(e,r):zn(i,()=>o(e,r));return xn(s)}function Bd(t){return Ue(e=>{let r=t(e);return r?Oe(r).pipe(_(()=>e)):q(e)})}var D0=(()=>{let e=class e{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===te);return i}getResolvedTitleForRoute(n){return n.data[vo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>w(z1),providedIn:"root"});let t=e;return t})(),z1=(()=>{let e=class e extends D0{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(D(Uv))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bf=new E("",{providedIn:"root",factory:()=>({})}),Ef=new E(""),W1=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=w(Ed)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=xn(n.loadComponent()).pipe(_(C0),Q(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),_r(()=>{this.componentLoaders.delete(n)})),o=new pr(i,()=>new V).pipe(hr());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=q1(i,this.compiler,n,this.onLoadEndListener).pipe(_r(()=>{this.childrenLoaders.delete(i)})),a=new pr(s,()=>new V).pipe(hr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function q1(t,e,r,n){return xn(t.loadChildren()).pipe(_(C0),Me(i=>i instanceof Hi||Array.isArray(i)?q(i):Oe(e.compileModuleAsync(i))),_(i=>{n&&n(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(r).injector,s=o.get(Ef,[],{optional:!0,self:!0}).flat()),{routes:s.map(Df),injector:o}}))}function Z1(t){return t&&typeof t=="object"&&"default"in t}function C0(t){return Z1(t)?t.default:t}var If=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>w(Y1),providedIn:"root"});let t=e;return t})(),Y1=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),K1=new E("");var Q1=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new V,this.transitionAbortSubject=new V,this.configLoader=w(W1),this.environmentInjector=w(it),this.urlSerializer=w(gf),this.rootContexts=w(Ya),this.location=w(Ji),this.inputBindingEnabled=w(wf,{optional:!0})!==null,this.titleStrategy=w(D0),this.options=w(bf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=w(If),this.createViewTransition=w(K1,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Jd(o)),i=o=>this.events.next(new Xd(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(I(y(y({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new Te({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:so,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(re(s=>s.id!==0),_(s=>I(y({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ue(s=>{let a=!1,c=!1;return q(s).pipe(Ue(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),Le;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?I(y({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new er(l.id,this.urlSerializer.serialize(l.rawUrl),f,qd.IgnoredSameUrlNavigation)),l.resolve(null),Le}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return q(l).pipe(Ue(f=>{let h=this.transitions?.getValue();return this.events.next(new lo(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Le:Promise.resolve(f)}),V1(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Q(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=I(y({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new Ua(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:g,restoredState:v,extras:b}=l,M=new lo(f,this.urlSerializer.serialize(h),g,v);this.events.next(M);let z=u0(this.rootComponentType).snapshot;return this.currentTransition=s=I(y({},l),{targetSnapshot:z,urlAfterRedirects:h,extras:I(y({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,q(s)}else{let f="";return this.events.next(new er(l.id,this.urlSerializer.serialize(l.extractedUrl),f,qd.IgnoredByUrlHandlingStrategy)),l.resolve(null),Le}}),Q(l=>{let u=new Zd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),_(l=>(this.currentTransition=s=I(y({},l),{guards:i1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),p1(this.environmentInjector,l=>this.events.next(l)),Q(l=>{if(s.guardsResult=l.guardsResult,Qr(l.guardsResult))throw p0(this.urlSerializer,l.guardsResult);let u=new Yd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),re(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",ft.GuardRejected),!1)),Bd(l=>{if(l.guards.canActivateChecks.length)return q(l).pipe(Q(u=>{let d=new Kd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ue(u=>{let d=!1;return q(u).pipe(B1(this.paramsInheritanceStrategy,this.environmentInjector),Q({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",ft.NoDataFromResolver)}}))}),Q(u=>{let d=new Qd(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Bd(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Q(h=>{d.component=h}),_(()=>{})));for(let h of d.children)f.push(...u(h));return f};return He(u(l.targetSnapshot.root)).pipe(vn(null),Ze(1))}),Bd(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Oe(d).pipe(_(()=>s)):q(s)}),_(l=>{let u=KS(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=I(y({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Q(()=>{this.events.next(new fo)}),r1(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ze(1),Q({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),je(this.transitionAbortSubject.pipe(Q(l=>{throw l}))),_r(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",ft.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pt(l=>{if(c=!0,g0(l))this.events.next(new Sn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),XS(l)?this.events.next(new ho(l.url)):s.resolve(!1);else{this.events.next(new uo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(n.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Le}))}))}cancelNavigationTransition(n,i,o){let s=new Sn(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function J1(t){return t!==so}var X1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>w(ex),providedIn:"root"});let t=e;return t})(),mf=class{shouldDetach(e){return!1}store(e,r){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,r){return e.routeConfig===r.routeConfig}},ex=(()=>{let e=class e extends mf{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=qn(e)))(o||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),b0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:()=>w(tx),providedIn:"root"});let t=e;return t})(),tx=(()=>{let e=class e extends b0{constructor(){super(...arguments),this.location=w(Ji),this.urlSerializer=w(gf),this.options=w(bf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=w(If),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=u0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof lo)this.stateMemento=this.createStateMemento();else if(n instanceof er)this.rawUrlTree=i.initialUrl;else if(n instanceof Ua){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else n instanceof fo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):n instanceof Sn&&(n.code===ft.GuardRejected||n.code===ft.NoDataFromResolver)?this.restoreHistory(i):n instanceof uo?this.restoreHistory(i,!0):n instanceof Xn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=y(y({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=y(y({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=qn(e)))(o||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),io=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(io||{});function nx(t,e){t.events.pipe(re(r=>r instanceof Xn||r instanceof Sn||r instanceof uo||r instanceof er),_(r=>r instanceof Xn||r instanceof er?io.COMPLETE:(r instanceof Sn?r.code===ft.Redirect||r.code===ft.SupersededByNewNavigation:!1)?io.REDIRECTING:io.FAILED),re(r=>r!==io.REDIRECTING),Ze(1)).subscribe(()=>{e()})}function rx(t){throw t}var ix={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ox={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},E0=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=w(Ia),this.stateManager=w(b0),this.options=w(bf,{optional:!0})||{},this.pendingTasks=w(Ea),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=w(Q1),this.urlSerializer=w(gf),this.location=w(Ji),this.urlHandlingStrategy=w(If),this._events=new V,this.errorHandler=this.options.errorHandler||rx,this.navigated=!1,this.routeReuseStrategy=w(X1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=w(Ef,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!w(wf,{optional:!0}),this.eventsSubscription=new Ce,this.isNgZoneEnabled=w(be)instanceof be&&be.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Sn&&i.code!==ft.Redirect&&i.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xn)this.navigated=!0;else if(i instanceof ho){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||J1(o.source)};this.scheduleNavigation(a,so,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ax(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),so,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=y({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(n);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Df),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=y(y({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=s0(h)}catch{(typeof n[0]!="string"||!n[0].startsWith("/"))&&(n=[]),f=this.currentUrlTree.root}return a0(f,n,d,u??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=Qr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,so,null,i)}navigate(n,i={skipLocationChange:!1}){return sx(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=y({},ix):i===!1?o=y({},ox):o=i,Qr(n))return Gv(this.currentUrlTree,n,o);let s=this.parseUrl(n);return Gv(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return nx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Z(4008,!1)}function ax(t){return!(t instanceof fo)&&!(t instanceof ho)}var cx=new E("");function I0(t,...e){return At([{provide:Ef,multi:!0,useValue:t},[],{provide:Jr,useFactory:lx,deps:[E0]},{provide:bd,multi:!0,useFactory:ux},e.map(r=>r.\u0275providers)])}function lx(t){return t.routerState.root}function ux(){let t=w(jr);return e=>{let r=t.get(Yn);if(e!==r.components[0])return;let n=t.get(E0),i=t.get(dx);t.get(fx)===1&&n.initialNavigation(),t.get(hx,null,se.Optional)?.setUpPreloading(),t.get(cx,null,se.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var dx=new E("",{factory:()=>new V}),fx=new E("",{providedIn:"root",factory:()=>1});var hx=new E("");function wo(t,e){let r=!e?.manualCleanup;r&&!e?.injector&&km(wo);let n=r?e?.injector?.get(qi)??w(qi):null,i;e?.requireSync?i=vd({kind:0}):i=vd({kind:1,value:e?.initialValue});let o=t.subscribe({next:s=>i.set({kind:1,value:s}),error:s=>{if(e?.rejectErrors)throw s;i.set({kind:2,error:s})}});return n?.onDestroy(o.unsubscribe.bind(o)),xa(()=>{let s=i();switch(s.kind){case 1:return s.value;case 2:throw s.error;case 0:throw new Z(601,"`toSignal()` called with `requireSync` but `Observable` did not emit synchronously.")}})}var Mf={};function R(t,e){if(Mf[t]=(Mf[t]||0)+1,typeof e=="function")return Sf(t,(...n)=>I(y({},e(...n)),{type:t}));switch(e?e._as:"empty"){case"empty":return Sf(t,()=>({type:t}));case"props":return Sf(t,n=>I(y({},n),{type:t}));default:throw new Error("Unexpected config.")}}function ge(){return{_as:"props",_p:void 0}}function Sf(t,e){return Object.defineProperty(e,"type",{value:t,writable:!1})}var bo="@ngrx/store/init",Gt=(()=>{let e=class e extends Te{constructor(){super({type:bo})}next(n){if(typeof n=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof n>"u")throw new TypeError("Actions must be objects");if(typeof n.type>"u")throw new TypeError("Actions must have a type property");super.next(n)}complete(){}ngOnDestroy(){super.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),px=[Gt],B0=new E("@ngrx/store Internal Root Guard"),S0=new E("@ngrx/store Internal Initial State"),Eo=new E("@ngrx/store Initial State"),H0=new E("@ngrx/store Reducer Factory"),x0=new E("@ngrx/store Internal Reducer Factory Provider"),U0=new E("@ngrx/store Initial Reducers"),xf=new E("@ngrx/store Internal Initial Reducers"),T0=new E("@ngrx/store Store Features"),M0=new E("@ngrx/store Internal Store Reducers"),Tf=new E("@ngrx/store Internal Feature Reducers"),A0=new E("@ngrx/store Internal Feature Configs"),G0=new E("@ngrx/store Internal Store Features"),R0=new E("@ngrx/store Internal Feature Reducers Token"),z0=new E("@ngrx/store Feature Reducers"),O0=new E("@ngrx/store User Provided Meta Reducers"),Qa=new E("@ngrx/store Meta Reducers"),N0=new E("@ngrx/store Internal Resolved Meta Reducers"),k0=new E("@ngrx/store User Runtime Checks Config"),P0=new E("@ngrx/store Internal User Runtime Checks Config"),Do=new E("@ngrx/store Internal Runtime Checks"),Nf=new E("@ngrx/store Check if Action types are unique"),Co=new E("@ngrx/store Root Store Provider"),Ja=new E("@ngrx/store Feature State Provider");function kf(t,e={}){let r=Object.keys(t),n={};for(let o=0;o<r.length;o++){let s=r[o];typeof t[s]=="function"&&(n[s]=t[s])}let i=Object.keys(n);return function(s,a){s=s===void 0?e:s;let c=!1,l={};for(let u=0;u<i.length;u++){let d=i[u],f=n[d],h=s[d],g=f(h,a);l[d]=g,c=c||g!==h}return c?l:s}}function mx(t,e){return Object.keys(t).filter(r=>r!==e).reduce((r,n)=>Object.assign(r,{[n]:t[n]}),{})}function W0(...t){return function(e){if(t.length===0)return e;let r=t[t.length-1];return t.slice(0,-1).reduceRight((i,o)=>o(i),r(e))}}function q0(t,e){return Array.isArray(e)&&e.length>0&&(t=W0.apply(null,[...e,t])),(r,n)=>{let i=t(r);return(o,s)=>(o=o===void 0?n:o,i(o,s))}}function gx(t){let e=Array.isArray(t)&&t.length>0?W0(...t):r=>r;return(r,n)=>(r=e(r),(i,o)=>(i=i===void 0?n:i,r(i,o)))}var tr=class extends W{},ti=class extends Gt{},ec="@ngrx/store/update-reducers",Xa=(()=>{let e=class e extends Te{get currentReducers(){return this.reducers}constructor(n,i,o,s){super(s(o,i)),this.dispatcher=n,this.initialState=i,this.reducers=o,this.reducerFactory=s}addFeature(n){this.addFeatures([n])}addFeatures(n){let i=n.reduce((o,{reducers:s,reducerFactory:a,metaReducers:c,initialState:l,key:u})=>{let d=typeof s=="function"?gx(c)(s,l):q0(a,c)(s,l);return o[u]=d,o},{});this.addReducers(i)}removeFeature(n){this.removeFeatures([n])}removeFeatures(n){this.removeReducers(n.map(i=>i.key))}addReducer(n,i){this.addReducers({[n]:i})}addReducers(n){this.reducers=y(y({},this.reducers),n),this.updateReducers(Object.keys(n))}removeReducer(n){this.removeReducers([n])}removeReducers(n){n.forEach(i=>{this.reducers=mx(this.reducers,i)}),this.updateReducers(n)}updateReducers(n){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:ec,features:n})}ngOnDestroy(){this.complete()}};e.\u0275fac=function(i){return new(i||e)(D(ti),D(Eo),D(U0),D(H0))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),vx=[Xa,{provide:tr,useExisting:Xa},{provide:ti,useExisting:Gt}],nr=(()=>{let e=class e extends V{ngOnDestroy(){this.complete()}};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=qn(e)))(o||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),yx=[nr],ni=class extends W{},F0=(()=>{let e=class e extends Te{constructor(n,i,o,s){super(s);let c=n.pipe(Qt(xi)).pipe(ye(i)),l={state:s},u=c.pipe(Pn(_x,l));this.stateSubscription=u.subscribe(({state:d,action:f})=>{this.next(d),o.next(f)}),this.state=wo(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};e.INIT=bo,e.\u0275fac=function(i){return new(i||e)(D(Gt),D(tr),D(nr),D(Eo))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function _x(t={state:void 0},[e,r]){let{state:n}=t;return{state:r(n,e),action:e}}var wx=[F0,{provide:ni,useExisting:F0}],We=(()=>{let e=class e extends W{constructor(n,i,o){super(),this.actionsObserver=i,this.reducerManager=o,this.source=n,this.state=n.state}select(n,...i){return Cx.call(null,n,...i)(this)}selectSignal(n,i){return xa(()=>n(this.state()),i)}lift(n){let i=new e(this,this.actionsObserver,this.reducerManager);return i.operator=n,i}dispatch(n){this.actionsObserver.next(n)}next(n){this.actionsObserver.next(n)}error(n){this.actionsObserver.error(n)}complete(){this.actionsObserver.complete()}addReducer(n,i){this.reducerManager.addReducer(n,i)}removeReducer(n){this.reducerManager.removeReducer(n)}};e.\u0275fac=function(i){return new(i||e)(D(ni),D(Gt),D(Xa))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),Dx=[We];function Cx(t,e,...r){return function(i){let o;if(typeof t=="string"){let s=[e,...r].filter(Boolean);o=i.pipe(Il(t,...s))}else if(typeof t=="function")o=i.pipe(_(s=>t(s,e)));else throw new TypeError(`Unexpected type '${typeof t}' in select operator, expected 'string' or 'function'`);return o.pipe(Ss())}}var Pf="https://ngrx.io/guide/store/configuration/runtime-checks";function L0(t){return t===void 0}function j0(t){return t===null}function Z0(t){return Array.isArray(t)}function bx(t){return typeof t=="string"}function Ex(t){return typeof t=="boolean"}function Ix(t){return typeof t=="number"}function Y0(t){return typeof t=="object"&&t!==null}function Sx(t){return Y0(t)&&!Z0(t)}function xx(t){if(!Sx(t))return!1;let e=Object.getPrototypeOf(t);return e===Object.prototype||e===null}function Af(t){return typeof t=="function"}function Tx(t){return Af(t)&&t.hasOwnProperty("\u0275cmp")}function Mx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $0(t,e){return t===e}function Ax(t,e,r){for(let n=0;n<t.length;n++)if(!r(t[n],e[n]))return!0;return!1}function K0(t,e=$0,r=$0){let n=null,i=null,o;function s(){n=null,i=null}function a(u=void 0){o={result:u}}function c(){o=void 0}function l(){if(o!==void 0)return o.result;if(!n)return i=t.apply(null,arguments),n=arguments,i;if(!Ax(arguments,n,e))return i;let u=t.apply(null,arguments);return n=arguments,r(i,u)?i:(i=u,u)}return{memoized:l,reset:s,setResult:a,clearResult:c}}function Ie(...t){return Ox(K0)(...t)}function Rx(t,e,r,n){if(r===void 0){let o=e.map(s=>s(t));return n.memoized.apply(null,o)}let i=e.map(o=>o(t,r));return n.memoized.apply(null,[...i,r])}function Ox(t,e={stateFn:Rx}){return function(...r){let n=r;if(Array.isArray(n[0])){let[u,...d]=n;n=[...u,...d]}else n.length===1&&Nx(n[0])&&(n=kx(n[0]));let i=n.slice(0,n.length-1),o=n[n.length-1],s=i.filter(u=>u.release&&typeof u.release=="function"),a=t(function(...u){return o.apply(null,u)}),c=K0(function(u,d){return e.stateFn.apply(null,[u,i,d,a])});function l(){c.reset(),a.reset(),s.forEach(u=>u.release())}return Object.assign(c.memoized,{release:l,projector:a.memoized,setResult:c.setResult,clearResult:c.clearResult})}}function Nx(t){return!!t&&typeof t=="object"&&Object.values(t).every(e=>typeof e=="function")}function kx(t){let e=Object.values(t),r=Object.keys(t),n=(...i)=>r.reduce((o,s,a)=>I(y({},o),{[s]:i[a]}),{});return[...e,n]}function Px(t){return t instanceof E?w(t):t}function Fx(t,e){return e.map((r,n)=>{if(t[n]instanceof E){let i=w(t[n]);return{key:r.key,reducerFactory:i.reducerFactory?i.reducerFactory:kf,metaReducers:i.metaReducers?i.metaReducers:[],initialState:i.initialState}}return r})}function Lx(t){return t.map(e=>e instanceof E?w(e):e)}function Q0(t){return typeof t=="function"?t():t}function jx(t,e){return t.concat(e)}function $x(){if(w(We,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Vx(t,e){return function(r,n){let i=e.action(n)?Rf(n):n,o=t(r,i);return e.state()?Rf(o):o}}function Rf(t){Object.freeze(t);let e=Af(t);return Object.getOwnPropertyNames(t).forEach(r=>{if(!r.startsWith("\u0275")&&Mx(t,r)&&(!e||r!=="caller"&&r!=="callee"&&r!=="arguments")){let n=t[r];(Y0(n)||Af(n))&&!Object.isFrozen(n)&&Rf(n)}}),t}function Bx(t,e){return function(r,n){if(e.action(n)){let o=Of(n);V0(o,"action")}let i=t(r,n);if(e.state()){let o=Of(i);V0(o,"state")}return i}}function Of(t,e=[]){return(L0(t)||j0(t))&&e.length===0?{path:["root"],value:t}:Object.keys(t).reduce((n,i)=>{if(n)return n;let o=t[i];return Tx(o)?n:L0(o)||j0(o)||Ix(o)||Ex(o)||bx(o)||Z0(o)?!1:xx(o)?Of(o,[...e,i]):{path:[...e,i],value:o}},!1)}function V0(t,e){if(t===!1)return;let r=t.path.join("."),n=new Error(`Detected unserializable ${e} at "${r}". ${Pf}#strict${e}serializability`);throw n.value=t.value,n.unserializablePath=r,n}function Hx(t,e){return function(r,n){if(e.action(n)&&!be.isInAngularZone())throw new Error(`Action '${n.type}' running outside NgZone. ${Pf}#strictactionwithinngzone`);return t(r,n)}}function Ux(t){return Sa()?y({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},t):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Gx({strictActionSerializability:t,strictStateSerializability:e}){return r=>t||e?Bx(r,{action:n=>t&&!Ff(n),state:()=>e}):r}function zx({strictActionImmutability:t,strictStateImmutability:e}){return r=>t||e?Vx(r,{action:n=>t&&!Ff(n),state:()=>e}):r}function Ff(t){return t.type.startsWith("@ngrx")}function Wx({strictActionWithinNgZone:t}){return e=>t?Hx(e,{action:r=>t&&!Ff(r)}):e}function qx(t){return[{provide:P0,useValue:t},{provide:k0,useFactory:Zx,deps:[P0]},{provide:Do,deps:[k0],useFactory:Ux},{provide:Qa,multi:!0,deps:[Do],useFactory:zx},{provide:Qa,multi:!0,deps:[Do],useFactory:Gx},{provide:Qa,multi:!0,deps:[Do],useFactory:Wx}]}function J0(){return[{provide:Nf,multi:!0,deps:[Do],useFactory:Yx}]}function Zx(t){return t}function Yx(t){if(!t.strictActionTypeUniqueness)return;let e=Object.entries(Mf).filter(([,r])=>r>1).map(([r])=>r);if(e.length)throw new Error(`Action types are registered more than once, ${e.map(r=>`"${r}"`).join(", ")}. ${Pf}#strictactiontypeuniqueness`)}function Lf(t,e,r={}){return At([...tT(t,e,r),eT])}function Kx(t={},e={}){return[{provide:B0,useFactory:$x},{provide:S0,useValue:e.initialState},{provide:Eo,useFactory:Q0,deps:[S0]},{provide:xf,useValue:t},{provide:M0,useExisting:t instanceof E?t:xf},{provide:U0,deps:[xf,[new ju(M0)]],useFactory:Px},{provide:O0,useValue:e.metaReducers?e.metaReducers:[]},{provide:N0,deps:[Qa,O0],useFactory:jx},{provide:x0,useValue:e.reducerFactory?e.reducerFactory:kf},{provide:H0,deps:[x0,N0],useFactory:q0},px,vx,yx,wx,Dx,qx(e.runtimeChecks),J0()]}function Qx(){w(Gt),w(tr),w(nr),w(We),w(B0,{optional:!0}),w(Nf,{optional:!0})}var Jx=[{provide:Co,useFactory:Qx},{provide:Tt,multi:!0,useFactory(){return()=>w(Co)}}];function X0(t,e){return At([...Kx(t,e),Jx])}function Xx(){w(Co);let t=w(G0),e=w(z0),r=w(Xa);w(Nf,{optional:!0});let n=t.map((i,o)=>{let a=e.shift()[o];return I(y({},i),{reducers:a,initialState:Q0(i.initialState)})});r.addFeatures(n)}var eT=[{provide:Ja,useFactory:Xx},{provide:Tt,multi:!0,useFactory(){return()=>w(Ja)}}];function tT(t,e,r={}){return[{provide:A0,multi:!0,useValue:t instanceof Object?{}:r},{provide:T0,multi:!0,useValue:{key:t instanceof Object?t.name:t,reducerFactory:!(r instanceof E)&&r.reducerFactory?r.reducerFactory:kf,metaReducers:!(r instanceof E)&&r.metaReducers?r.metaReducers:[],initialState:!(r instanceof E)&&r.initialState?r.initialState:void 0}},{provide:G0,deps:[A0,T0],useFactory:Fx},{provide:Tf,multi:!0,useValue:t instanceof Object?t.reducer:e},{provide:R0,multi:!0,useExisting:e instanceof E?e:Tf},{provide:z0,multi:!0,deps:[Tf,[new ju(R0)]],useFactory:Lx},J0()]}function he(...t){let e=t.pop(),r=t.map(n=>n.type);return{reducer:e,types:r}}function tc(t,...e){let r=new Map;for(let n of e)for(let i of n.types){let o=r.get(i);if(o){let s=(a,c)=>n.reducer(o(a,c),c);r.set(i,s)}else r.set(i,n.reducer)}return function(n=t,i){let o=r.get(i.type);return o?o(n,i):n}}var So="PERFORM_ACTION",nT="REFRESH",oy="RESET",sy="ROLLBACK",ay="COMMIT",cy="SWEEP",ly="TOGGLE_ACTION",rT="SET_ACTIONS_ACTIVE",uy="JUMP_TO_STATE",dy="JUMP_TO_ACTION",Kf="IMPORT_STATE",fy="LOCK_CHANGES",hy="PAUSE_RECORDING",ri=class{constructor(e,r){if(this.action=e,this.timestamp=r,this.type=So,typeof e.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},jf=class{constructor(){this.type=nT}},$f=class{constructor(e){this.timestamp=e,this.type=oy}},Vf=class{constructor(e){this.timestamp=e,this.type=sy}},Bf=class{constructor(e){this.timestamp=e,this.type=ay}},Hf=class{constructor(){this.type=cy}},Uf=class{constructor(e){this.id=e,this.type=ly}};var Gf=class{constructor(e){this.index=e,this.type=uy}},zf=class{constructor(e){this.actionId=e,this.type=dy}},Wf=class{constructor(e){this.nextLiftedState=e,this.type=Kf}},qf=class{constructor(e){this.status=e,this.type=fy}},Zf=class{constructor(e){this.status=e,this.type=hy}};var sc=new E("@ngrx/store-devtools Options"),ey=new E("@ngrx/store-devtools Initial Config");function py(){return null}var iT="NgRx Store DevTools";function oT(t){let e={maxAge:!1,monitor:py,actionSanitizer:void 0,stateSanitizer:void 0,name:iT,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},r=typeof t=="function"?t():t,n=r.logOnly?{pause:!0,export:!0,test:!0}:!1,i=r.features||n||e.features;i.import===!0&&(i.import="custom");let o=Object.assign({},e,{features:i},r);if(o.maxAge&&o.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${o.maxAge}`);return o}function ty(t,e){return t.filter(r=>e.indexOf(r)<0)}function my(t){let{computedStates:e,currentStateIndex:r}=t;if(r>=e.length){let{state:i}=e[e.length-1];return i}let{state:n}=e[r];return n}function Io(t){return new ri(t,+Date.now())}function sT(t,e){return Object.keys(e).reduce((r,n)=>{let i=Number(n);return r[i]=gy(t,e[i],i),r},{})}function gy(t,e,r){return I(y({},e),{action:t(e.action,r)})}function aT(t,e){return e.map((r,n)=>({state:vy(t,r.state,n),error:r.error}))}function vy(t,e,r){return t(e,r)}function yy(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function cT(t,e,r,n){let i=[],o={},s=[];return t.stagedActionIds.forEach((a,c)=>{let l=t.actionsById[a];l&&(c&&Qf(t.computedStates[c],l,e,r,n)||(o[a]=l,i.push(a),s.push(t.computedStates[c])))}),I(y({},t),{stagedActionIds:i,actionsById:o,computedStates:s})}function Qf(t,e,r,n,i){let o=r&&!r(t,e.action),s=n&&!e.action.type.match(n.map(c=>ny(c)).join("|")),a=i&&e.action.type.match(i.map(c=>ny(c)).join("|"));return o||s||a}function ny(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _y(t){return{ngZone:t?w(be):null,connectInZone:t}}var ac=(()=>{let e=class e extends Gt{};e.\u0275fac=(()=>{let n;return function(o){return(n||(n=qn(e)))(o||e)}})(),e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),rc={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Yf=new E("@ngrx/store-devtools Redux Devtools Extension"),wy=(()=>{let e=class e{constructor(n,i,o){this.config=i,this.dispatcher=o,this.zoneConfig=_y(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,i){if(this.devtoolsExtension)if(n.type===So){if(i.isLocked||i.isPaused)return;let o=my(i);if(yy(this.config)&&Qf(o,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?vy(this.config.stateSanitizer,o,i.currentStateIndex):o,a=this.config.actionSanitizer?gy(this.config.actionSanitizer,n,i.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,s))}else{let o=I(y({},i),{stagedActionIds:i.stagedActionIds,actionsById:this.config.actionSanitizer?sT(this.config.actionSanitizer,i.actionsById):i.actionsById,computedStates:this.config.stateSanitizer?aT(this.config.stateSanitizer,i.computedStates):i.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new W(n=>{let i=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=i,i.init(),i.subscribe(o=>n.next(o)),i.unsubscribe}):Le}createActionStreams(){let n=this.createChangesObservable().pipe(xl()),i=n.pipe(re(u=>u.type===rc.START)),o=n.pipe(re(u=>u.type===rc.STOP)),s=n.pipe(re(u=>u.type===rc.DISPATCH),_(u=>this.unwrapAction(u.payload)),Xt(u=>u.type===Kf?this.dispatcher.pipe(re(d=>d.type===ec),gl(1e3),_l(1e3),_(()=>u),pt(()=>q(u)),Ze(1)):q(u))),c=n.pipe(re(u=>u.type===rc.ACTION),_(u=>this.unwrapAction(u.payload))).pipe(je(o)),l=s.pipe(je(o));this.start$=i.pipe(je(o)),this.actions$=this.start$.pipe(Ue(()=>c)),this.liftedActions$=this.start$.pipe(Ue(()=>l))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let i={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(i.maxAge=n.maxAge),i}sendToReduxDevtools(n){try{n()}catch(i){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",i)}}};e.\u0275fac=function(i){return new(i||e)(D(Yf),D(sc),D(ac))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})(),oc={type:bo},lT="@ngrx/store-devtools/recompute",uT={type:lT};function Dy(t,e,r,n,i){if(n)return{state:r,error:"Interrupted by an error up the chain"};let o=r,s;try{o=t(r,e)}catch(a){s=a.toString(),i.handleError(a)}return{state:o,error:s}}function ic(t,e,r,n,i,o,s,a,c){if(e>=t.length&&t.length===o.length)return t;let l=t.slice(0,e),u=o.length-(c?1:0);for(let d=e;d<u;d++){let f=o[d],h=i[f].action,g=l[d-1],v=g?g.state:n,b=g?g.error:void 0,z=s.indexOf(f)>-1?g:Dy(r,h,v,b,a);l.push(z)}return c&&l.push(t[t.length-1]),l}function dT(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:Io(oc)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function fT(t,e,r,n,i={}){return o=>(s,a)=>{let{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:h,currentStateIndex:g,computedStates:v,isLocked:b,isPaused:M}=s||e;s||(l=Object.create(l));function z(K){let F=K,ke=d.slice(1,F+1);for(let Pe=0;Pe<ke.length;Pe++)if(v[Pe+1].error){F=Pe,ke=d.slice(1,F+1);break}else delete l[ke[Pe]];f=f.filter(Pe=>ke.indexOf(Pe)===-1),d=[0,...d.slice(F+1)],h=v[F].state,v=v.slice(F),g=g>F?g-F:0}function ve(){l={0:Io(oc)},u=1,d=[0],f=[],h=v[g].state,g=0,v=[]}let G=0;switch(a.type){case fy:{b=a.status,G=1/0;break}case hy:{M=a.status,M?(d=[...d,u],l[u]=new ri({type:"@ngrx/devtools/pause"},+Date.now()),u++,G=d.length-1,v=v.concat(v[v.length-1]),g===d.length-2&&g++,G=1/0):ve();break}case oy:{l={0:Io(oc)},u=1,d=[0],f=[],h=t,g=0,v=[];break}case ay:{ve();break}case sy:{l={0:Io(oc)},u=1,d=[0],f=[],g=0,v=[];break}case ly:{let{id:K}=a;f.indexOf(K)===-1?f=[K,...f]:f=f.filter(ke=>ke!==K),G=d.indexOf(K);break}case rT:{let{start:K,end:F,active:ke}=a,Pe=[];for(let kt=K;kt<F;kt++)Pe.push(kt);ke?f=ty(f,Pe):f=[...f,...Pe],G=d.indexOf(K);break}case uy:{g=a.index,G=1/0;break}case dy:{let K=d.indexOf(a.actionId);K!==-1&&(g=K),G=1/0;break}case cy:{d=ty(d,f),f=[],g=Math.min(g,d.length-1);break}case So:{if(b)return s||e;if(M||s&&Qf(s.computedStates[g],a,i.predicate,i.actionsSafelist,i.actionsBlocklist)){let F=v[v.length-1];v=[...v.slice(0,-1),Dy(o,a.action,F.state,F.error,r)],G=1/0;break}i.maxAge&&d.length===i.maxAge&&z(1),g===d.length-1&&g++;let K=u++;l[K]=a,d=[...d,K],G=d.length-1;break}case Kf:{({monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:h,currentStateIndex:g,computedStates:v,isLocked:b,isPaused:M}=a.nextLiftedState);break}case bo:{G=0,i.maxAge&&d.length>i.maxAge&&(v=ic(v,G,o,h,l,d,f,r,M),z(d.length-i.maxAge),G=1/0);break}case ec:{if(v.filter(F=>F.error).length>0)G=0,i.maxAge&&d.length>i.maxAge&&(v=ic(v,G,o,h,l,d,f,r,M),z(d.length-i.maxAge),G=1/0);else{if(!M&&!b){g===d.length-1&&g++;let F=u++;l[F]=new ri(a,+Date.now()),d=[...d,F],G=d.length-1,v=ic(v,G,o,h,l,d,f,r,M)}v=v.map(F=>I(y({},F),{state:o(F.state,uT)})),g=d.length-1,i.maxAge&&d.length>i.maxAge&&z(d.length-i.maxAge),G=1/0}break}default:{G=1/0;break}}return v=ic(v,G,o,h,l,d,f,r,M),c=n(c,a),{monitorState:c,actionsById:l,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:h,currentStateIndex:g,computedStates:v,isLocked:b,isPaused:M}}}var ry=(()=>{let e=class e{constructor(n,i,o,s,a,c,l,u){let d=dT(l,u.monitor),f=fT(l,d,c,u.monitor,u),h=tt(tt(i.asObservable().pipe(Tl(1)),s.actions$).pipe(_(Io)),n,s.liftedActions$).pipe(Qt(xi)),g=o.pipe(_(f)),v=_y(u.connectInZone),b=new Ii(1);this.liftedStateSubscription=h.pipe(ye(g),iy(v),Pn(({state:ve},[G,K])=>{let F=K(ve,G);return G.type!==So&&yy(u)&&(F=cT(F,u.predicate,u.actionsSafelist,u.actionsBlocklist)),s.notify(G,F),{state:F,action:G}},{state:d,action:null})).subscribe(({state:ve,action:G})=>{if(b.next(ve),G.type===So){let K=G.action;a.next(K)}}),this.extensionStartSubscription=s.start$.pipe(iy(v)).subscribe(()=>{this.refresh()});let M=b.asObservable(),z=M.pipe(_(my));Object.defineProperty(z,"state",{value:wo(z,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=M,this.state=z}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new ri(n,+Date.now()))}refresh(){this.dispatch(new jf)}reset(){this.dispatch(new $f(+Date.now()))}rollback(){this.dispatch(new Vf(+Date.now()))}commit(){this.dispatch(new Bf(+Date.now()))}sweep(){this.dispatch(new Hf)}toggleAction(n){this.dispatch(new Uf(n))}jumpToAction(n){this.dispatch(new zf(n))}jumpToState(n){this.dispatch(new Gf(n))}importState(n){this.dispatch(new Wf(n))}lockChanges(n){this.dispatch(new qf(n))}pauseRecording(n){this.dispatch(new Zf(n))}};e.\u0275fac=function(i){return new(i||e)(D(ac),D(Gt),D(tr),D(wy),D(nr),D(at),D(Eo),D(sc))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function iy({ngZone:t,connectInZone:e}){return r=>e?new W(n=>r.subscribe({next:i=>t.run(()=>n.next(i)),error:i=>t.run(()=>n.error(i)),complete:()=>t.run(()=>n.complete())})):r}var hT=new E("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function pT(t,e){return!!t||e.monitor!==py}function mT(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function Cy(t={}){return At([wy,ac,ry,{provide:ey,useValue:t},{provide:hT,deps:[Yf,sc],useFactory:pT},{provide:Yf,useFactory:mT},{provide:sc,deps:[ey],useFactory:oT},{provide:ni,deps:[ry],useFactory:gT},{provide:ti,useExisting:ac}])}function gT(t){return t.state}var vT={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},cc="__@ngrx/effects_create__";function ce(t,e={}){let r=e.functional?t:t(),n=y(y({},vT),e);return Object.defineProperty(r,cc,{value:n}),r}function yT(t){return Object.getOwnPropertyNames(t).filter(n=>t[n]&&t[n].hasOwnProperty(cc)?t[n][cc].hasOwnProperty("dispatch"):!1).map(n=>{let i=t[n][cc];return y({propertyName:n},i)})}function _T(t){return yT(t)}function by(t){return Object.getPrototypeOf(t)}function wT(t){return!!t.constructor&&t.constructor.name!=="Object"&&t.constructor.name!=="Function"}function Ey(t){return typeof t=="function"}function DT(t){return t.filter(Ey)}function CT(t,e,r){let n=by(t),o=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,s=_T(t).map(({propertyName:a,dispatch:c,useEffectsErrorHandler:l})=>{let u=typeof t[a]=="function"?t[a]():t[a],d=l?r(u,e):u;return c===!1?d.pipe(wl()):d.pipe(El()).pipe(_(h=>({effect:t[a],notification:h,propertyName:a,sourceName:o,sourceInstance:t})))});return tt(...s)}var bT=10;function Iy(t,e,r=bT){return t.pipe(pt(n=>(e&&e.handleError(n),r<=1?t:Iy(t,e,r-1))))}var ii=(()=>{let e=class e extends W{constructor(n){super(),n&&(this.source=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}};e.\u0275fac=function(i){return new(i||e)(D(nr))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function le(...t){return re(e=>t.some(r=>typeof r=="string"?r===e.type:r.type===e.type))}var V3=new E("@ngrx/effects Internal Root Guard"),B3=new E("@ngrx/effects User Provided Effects"),H3=new E("@ngrx/effects Internal Root Effects"),U3=new E("@ngrx/effects Internal Root Effects Instances"),G3=new E("@ngrx/effects Internal Feature Effects"),z3=new E("@ngrx/effects Internal Feature Effects Instance Groups"),ET=new E("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Iy}),IT="@ngrx/effects/init",ST=R(IT);function xT(t,e){if(t.notification.kind==="N"){let r=t.notification.value;!TT(r)&&e.handleError(new Error(`Effect ${MT(t)} dispatched an invalid action: ${AT(r)}`))}}function TT(t){return typeof t!="function"&&t&&t.type&&typeof t.type=="string"}function MT({propertyName:t,sourceInstance:e,sourceName:r}){let n=typeof e[t]=="function";return!!r?`"${r}.${String(t)}${n?"()":""}"`:`"${String(t)}()"`}function AT(t){try{return JSON.stringify(t)}catch{return t}}var RT="ngrxOnIdentifyEffects";function OT(t){return Jf(t,RT)}var NT="ngrxOnRunEffects";function kT(t){return Jf(t,NT)}var PT="ngrxOnInitEffects";function FT(t){return Jf(t,PT)}function Jf(t,e){return t&&e in t&&typeof t[e]=="function"}var Sy=(()=>{let e=class e extends V{constructor(n,i){super(),this.errorHandler=n,this.effectsErrorHandler=i}addEffects(n){this.next(n)}toActions(){return this.pipe(Ms(n=>wT(n)?by(n):n),Me(n=>n.pipe(Ms(LT))),Me(n=>{let i=n.pipe(Ts(s=>jT(this.errorHandler,this.effectsErrorHandler)(s)),_(s=>(xT(s,this.errorHandler),s.notification)),re(s=>s.kind==="N"&&s.value!=null),Cl()),o=n.pipe(Ze(1),re(FT),_(s=>s.ngrxOnInitEffects()));return tt(i,o)}))}};e.\u0275fac=function(i){return new(i||e)(D(at),D(ET))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function LT(t){return OT(t)?t.ngrxOnIdentifyEffects():""}function jT(t,e){return r=>{let n=CT(r,t,e);return kT(r)?r.ngrxOnRunEffects(n):n}}var $T=(()=>{let e=class e{get isStarted(){return!!this.effectsSubscription}constructor(n,i){this.effectSources=n,this.store=i,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};e.\u0275fac=function(i){return new(i||e)(D(Sy),D(We))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xy(...t){let e=t.flat(),r=DT(e);return At([r,{provide:Tt,multi:!0,useValue:()=>{w(Co),w(Ja,{optional:!0});let n=w($T),i=w(Sy),o=!n.isStarted;o&&n.start();for(let s of e){let a=Ey(s)?w(s):s;i.addEffects(a)}o&&w(We).dispatch(ST())}}])}var un={clubs:"Clubs",coins:"Coins",cups:"Cups",swords:"Swords"},T=class{constructor(e,r){this.cardValue=e,this.cardSuit=r}equals(e){return this.cardSuit===e.cardSuit&&this.cardValue===e.cardValue}get suit(){return this.cardSuit}get value(){return this.cardValue}};var oi=(()=>{let e=class e{constructor(n,i,o){this.characterCard=n,this.characterHp=i,this.characterMaxHp=o}updateHp(n){let i=Math.max(e.HP_MIN,Math.min(this.characterMaxHp,this.characterHp+n));return new e(this.characterCard,i,this.characterMaxHp)}get card(){return this.characterCard}get hp(){return this.characterHp}};e.HP_MIN=0,e.HP_MAX=12;let t=e;return t})();var Dt=class Dt{constructor(e=[]){this.deckCards=e}static empty(){return new Dt}static full(){let e=[];return Dt.suits.forEach(r=>Array.from(Array(10).keys()).forEach(n=>e.push(new T(n+1,r)))),new Dt(e)}clone(){return new Dt([...this.deckCards])}includes(e){return!!this.cards.find(r=>r.equals(e))}extractCharacterDeck(){let e=new Dt(this.deckCards.filter(r=>r.value>=8));return this.deckCards=this.deckCards.filter(r=>r.value<8),e}extractRelicDeck(){let e=new Dt(this.deckCards.filter(r=>r.value===1));return this.deckCards=this.deckCards.filter(r=>r.value>1),e}filterBySuit(e){return new Dt(this.cards.filter(r=>r.suit===e))}peek(){return this.deckCards[this.deckCards.length-1]}pop(){return this.deckCards.pop()}popPlayerCard(){let e=Math.floor(Math.random()*2+8),r=Array.from(Dt.suits)[Math.floor(Math.random()*Dt.suits.size)],n=this.deckCards.findIndex(i=>i.suit===r&&i.value==e);return this.deckCards.splice(n,1)[0]}push(e){this.deckCards.push(e)}pushAll(e){e.cards.forEach(r=>this.push(r))}remove(e){this.deckCards=this.deckCards.filter(r=>!r.equals(e))}removeAll(e){e.cards.forEach(r=>this.remove(r))}reverse(){this.deckCards.reverse()}shuffle(){this.deckCards.sort(()=>Math.random()-.5)}get cards(){return this.deckCards}get length(){return this.deckCards.length}get value(){return this.deckCards.reduce((e,r)=>e+=r.value,0)}};Dt.suits=new Set(["clubs","cups","coins","swords"]);var H=Dt;var si=R("[Game/Combat] Action Played",ge()),rr=R("[Game/Combat] Action Start"),lc=R("[Game/Combat] Action Started",ge()),Tn=R("[Game/Combat] Combat Start"),xo=R("[Game/Combat] Combat Started"),uc=R("[Game/Combat] Turn Start"),To=R("[Game/Combat] Turn Started",ge()),Mo=R("[Game/Combat] Resolve Combat",ge()),ai=R("[Game/Combat] Resolved Combat",ge());var Ao=R("[Game/Crawl] Challenged",ge()),dc=R("[Game/Crawl] Collected",ge()),fc=R("[Game/Crawl] Drawn",ge()),hc=R("[Game/Crawl] Skipped"),eh=R("[Game/Crawl] Reveal"),pc=R("[Game] Revealed",ge()),ci=R("[Game/Crawl] Spent",ge()),mc=R("[Game/Crawl] Threw Dice",ge()),li=R("[Game/Crawl] Resolve Card Success",ge()),gc=R("[Game/Crawl] Resolve Card Failure",ge()),ui=R("[Game/Crawl] Resolved Card",ge());var vc=R("[Game/UI] Aid Selected",ge()),di=R("[Game/UI] Action Play",ge()),yc=R("[Game/UI] Challenge"),_c=R("[Game/UI] Collect"),wc=R("[Game/UI] Draw"),Dc=R("[Game/UI] Throw Dice"),Ro=R("[Game/UI] Resolve Card By Dice"),Cc=R("[Game/UI] Gold Selected",ge()),bc=R("[Game/UI] Hero Action Selected",ge()),Ec=R("[Game/UI] Revealed Ok"),fi=R("[Game/UI] Spend"),Ic=R("[Game/UI] Skip"),n$=R("[Game/UI] Menu About"),r$=R("[Game/UI] Menu New Game"),i$=R("[Game/UI] Menu Settings");var hi=R("[Game/Tutorial] Start"),ir=R("[Game/Tutorial] Next"),Oo=R("[Game/Tutorial] Next Ready",ge()),or=R("[Game/Tutorial] Exit");var Ve=R("[Game] Error",ge()),Sc=R("[Game] Discard Action"),xc=R("[Game] Keep Selected Action",ge()),Tc=R("[Game] Kept Selected Action",ge()),No=R("[Game] Game Over"),Mc=R("[Game] Game Won"),sr=R("[Game] Start"),pi=R("[Game] Started",ge()),Ac=R("[Game] Reset");var ne=function(t){return t.GAME_INIT="GAME_INIT",t.COMBAT="COMBAT",t.CRAWL_READY="CRAWL_READY",t.CRAWL_ACT="CRAWL_ACT",t.DISCARD_ACTION="DISCARD_ACTION",t.ENEMY_REVEALED="ENEMY_REVEALED",t.GAME_OVER="GAME_OVER",t.GAME_WON="GAME_WON",t.RESOLVE_THREW_DICE="RESOLVE_THREW_DICE",t}(ne||{});var mi="game",My={action:0,aidSelected:H.empty(),heroAction:H.empty(),heroActionSelected:H.empty(),enemyAction:H.empty()},Ty={combat:My,decks:{aid:H.empty(),catacomb:H.empty(),character:H.empty(),dungeon:H.empty(),event:H.empty(),gold:H.empty(),goldSelected:H.empty(),obtainedRelic:H.empty(),relic:H.empty()},enemy:void 0,error:void 0,eventCard:void 0,hero:void 0,status:ne.GAME_INIT,tutorialIndex:void 0},Ay=tc(Ty,he(Ac,()=>Ty),he(vc,(t,{aidSelected:e})=>I(y({},t),{combat:I(y({},t.combat),{aidSelected:e}),decks:y({},t.decks)})),he(lc,(t,{action:e})=>I(y({},t),{combat:I(y({},t.combat),{action:e})})),he(Ao,(t,{character:e,enemy:r})=>I(y({},t),{decks:I(y({},t.decks),{character:e}),enemy:r})),he(dc,(t,{event:e,gold:r})=>I(y({},t),{decks:I(y({},t.decks),{event:e,gold:r}),eventCard:void 0,status:ne.CRAWL_READY})),he(Tn,t=>I(y({},t),{status:ne.COMBAT})),he(rr,(t,{})=>I(y({},t),{status:ne.COMBAT})),he(xo,t=>I(y({},t),{combat:I(y({},t.combat),{action:0}),decks:y({},t.decks)})),he(Sc,t=>I(y({},t),{status:ne.DISCARD_ACTION})),he(fc,(t,{event:e,dungeon:r})=>I(y({},t),{decks:I(y({},t.decks),{event:e,dungeon:r}),eventCard:e.peek(),status:ne.CRAWL_ACT})),he(Ve,(t,{error:e})=>I(y({},t),{error:e})),he(si,(t,{aid:e,catacomb:r,enemy:n,enemyAction:i,event:o,hero:s,heroAction:a})=>I(y({},t),{combat:I(y({},t.combat),{aidSelected:H.empty(),enemyAction:i,heroAction:a,heroActionSelected:H.empty()}),decks:I(y({},t.decks),{aid:e,catacomb:r,event:o}),enemy:n,hero:s})),he(No,t=>I(y({},t),{status:ne.GAME_OVER})),he(Mc,t=>I(y({},t),{status:ne.GAME_WON})),he(Cc,(t,{goldSelected:e})=>I(y({},t),{decks:I(y({},t.decks),{goldSelected:e})})),he(bc,(t,{heroActionSelected:e})=>I(y({},t),{combat:I(y({},t.combat),{heroActionSelected:e})})),he(Tc,(t,{heroAction:e,event:r})=>I(y({},t),{combat:I(y({},t.combat),{heroAction:e,heroActionSelected:H.empty()}),decks:I(y({},t.decks),{event:r}),status:ne.CRAWL_READY})),he(ui,(t,{hpDelta:e})=>I(y({},t),{eventCard:void 0,hero:t.hero?.updateHp(e),status:ne.CRAWL_READY})),he(ai,(t,{aid:e,event:r,heroAction:n,obtainedRelic:i,relic:o})=>I(y({},t),{combat:I(y({},t.combat),{enemyAction:H.empty(),heroAction:n,heroActionSelected:H.empty()}),decks:I(y({},t.decks),{aid:e,event:r,obtainedRelic:i,relic:o}),enemy:void 0,eventCard:void 0,status:ne.CRAWL_READY})),he(pc,(t,{character:e,enemy:r})=>I(y({},t),{decks:I(y({},t.decks),{character:e}),enemy:r,status:ne.ENEMY_REVEALED})),he(hc,t=>I(y({},t),{eventCard:void 0,status:ne.CRAWL_READY})),he(pi,(t,{decks:e,hero:r})=>I(y({},t),{combat:My,decks:y({aid:H.empty(),catacomb:H.empty(),event:H.empty(),gold:H.empty(),goldSelected:H.empty(),obtainedRelic:H.empty()},e),enemy:void 0,eventCard:void 0,hero:r,status:ne.CRAWL_READY})),he(ci,(t,{event:e,gold:r})=>I(y({},t),{decks:I(y({},t.decks),{event:e,gold:r,goldSelected:H.empty()}),status:ne.CRAWL_READY})),he(mc,(t,{dice:e})=>I(y({},t),{dice:e,status:ne.RESOLVE_THREW_DICE})),he(To,(t,{dungeon:e,event:r,heroAction:n,enemyAction:i})=>I(y({},t),{combat:I(y({},t.combat),{action:0,heroAction:n,enemyAction:i}),decks:I(y({},t.decks),{dungeon:e,event:r})})),he(ir,t=>I(y({},t),{tutorialIndex:(t.tutorialIndex??0)+1})),he(Oo,(t,{step:e})=>I(y({},t),{tutorialStep:e})),he(hi,t=>I(y({},t),{tutorialIndex:0})),he(or,t=>I(y({},t),{tutorialIndex:void 0})));var Ne=t=>t[mi],ko=Ie(Ne,t=>t.decks.aid),Rc=Ie(Ne,t=>t.combat?.aidSelected),Oc=Ie(Ne,t=>t.decks.catacomb),Po=Ie(Ne,t=>t.decks.character),Nc=Ie(Ne,t=>t.combat?.action),kc=Ie(Ne,t=>t.dice),Fo=Ie(Ne,t=>t.decks.dungeon),ar=Ie(Ne,t=>t.enemy),Lo=Ie(Ne,t=>t.combat?.enemyAction),rh=Ie(Ne,t=>t.combat?.enemyAction.peek()),Ry=Ie(Ne,t=>t.error),jo=Ie(Ne,t=>t.decks.gold),Pc=Ie(Ne,t=>t.decks.goldSelected),gi=Ie(Ne,t=>t.eventCard),zt=Ie(Ne,t=>t.decks.event),vi=Ie(Ne,t=>t.hero),Mn=Ie(Ne,t=>t.combat?.heroAction),$o=Ie(Ne,t=>t.combat?.heroActionSelected),Fc=Ie(Ne,t=>t.decks.relic),yi=Ie(Ne,t=>t.decks.obtainedRelic),Oy=Ie(Ne,t=>t.status);var ih=R("[Game/Menu] Init"),Lc=R("[Game/Menu] About Open",ge()),jc=R("[Game/Menu] New Game",ge()),$c=R("[Game/Menu] Settings",ge()),_i=R("[Game/Menu] Set Layout",ge());var Vc="menu",VT={showAbout:!0,showNewGame:!1,showSettings:!1,layout:"classic"},ky=tc(VT,he(Lc,(t,{show:e})=>I(y({},t),{showAbout:e===void 0?!t.showAbout:e})),he(jc,(t,{show:e})=>I(y({},t),{showNewGame:e===void 0?!t.showNewGame:e})),he($c,(t,{show:e})=>I(y({},t),{showSettings:e===void 0?!t.showSettings:e})),he(_i,(t,{layout:e})=>I(y({},t),{layout:e})));var Bc=t=>t[Vc],Py=Ie(Bc,t=>t.showAbout),Fy=Ie(Bc,t=>t.showNewGame),Ly=Ie(Bc,t=>t.showSettings),jy=Ie(Bc,t=>t.layout);var Qe=(()=>{let e=class e{constructor(){this.store=w(We),this.about$=this.store.select(Py),this.newGame$=this.store.select(Fy),this.layout$=this.store.select(jy),this.settings$=this.store.select(Ly)}about(n){this.store.dispatch(Lc({show:n}))}newGame(n){this.store.dispatch(jc({show:n}))}settings(n){this.store.dispatch($c({show:n}))}setLayout(n){this.store.dispatch(_i({layout:n}))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();var $y=t=>t[mi],Vo=Ie($y,t=>t.tutorialIndex),Vy=Ie($y,t=>t.tutorialStep);var Wt=(()=>{let e=class e{constructor(){this.store=w(We),this.index$=this.store.select(Vo),this.step$=this.store.select(Vy)}tutorialNext(){this.store.dispatch(ir())}tutorialStart(){this.store.dispatch(hi())}tutorialExit(){this.store.dispatch(or())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();var Uc=(()=>{let e=class e{constructor(){this.logs=[]}card(n){return n?`${n.value}${un[n.suit]}`:"(None)"}character(n){return`${this.card(n.card)} having ${n.hp} HPs`}deck(n){return n.cards.map(i=>this.card(i)).join(", ")||"(None)"}hp(n,i){return i>0?`${n} recovers ${i} HPs.`:i<0?`${n} loses ${-i} HPs.`:`${n} retains its HPs.`}append(n){this.logs.push(n),console.info(n)}actionPlay(n,i,o,s,a,c,l,u,d,f,h,g,v,b,M,z){let ve=g&&z?new T(g,z):void 0,G=z&&u.length>1?` as ${un[z]}`:"",K=[];if(K.push(`Hero played ${this.deck(u)}${G};`),K.push(`Aids ${this.deck(n)};`),K.push(`Relic ${this.card(ve)}.`),K.push(`Enemy responded with ${this.card(i)}.`),d){let F=[];F.push(`Hero carries a total attack of ${d} by clubs`),o&&d>o&&F.push(`and parries ${M}`),F.push("."),K.push(F.join(""))}if(b&&K.push(`Hero carries a total attack of ${b} by swords.`),v&&K.push(`Hero shields ${v}.`),h&&K.push(`Hero heals ${h} HPs.`),o){let F=[];F.push(`Enemy carries a total attack of ${o} by clubs`),d&&o>d&&F.push(` and parries ${M}`),F.push("."),K.push(F.join(""))}l&&K.push(`Enemy carries a total attack of ${l} by swords.`),c&&K.push(`Enemy shields ${c}.`),a&&K.push(`Enemy heals ${a} HPs.`),K.push(this.hp("Hero",f)),K.push(this.hp("Enemy",s)),this.append(K.join(" "))}actionStart(n){this.append(`Started action ${n}`)}challenge(n){this.append(`Challenged enemy ${this.character(n)}`)}collect(n){this.append(`Collected ${this.card(n)}`)}draw(n){this.append(`Drawn ${this.card(n)}`)}keepSelectedAction(n,i){this.append(`Kept ${this.deck(n)}; discarded ${this.deck(i)}`)}reveal(n){this.append(`Revealed enemy ${this.character(n)}`)}reshuffle(){this.append("Reshuffled dungeon cards.")}resolveCardFailure(n,i){this.append(`Failed ${this.card(n)}. ${this.hp("Hero",i)}`)}resolveCardSuccess(n,i){this.append(`Resolved ${this.card(n)}. ${this.hp("Hero",i)}`)}resolvedCard(n){this.append(`Hero has ${n} HPs.`)}skip(n){this.append(`Skipped ${this.card(n)}.`)}throwDice(n){this.append(`Thrown dice. Value is ${n}.`)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Hy=(()=>{let e=class e{reshuffle(n,i){if(n.length)return{dungeon:n,event:i};let o=i.clone();o.shuffle();let s=H.empty();return this.logger.reshuffle(),{dungeon:o,event:s}}constructor(n,i,o,s,a){this.actions$=n,this.menuFacade=i,this.tutorialFacade=o,this.logger=s,this.store=a,this.DEBUG=!1,this.actionPlay$=ce(()=>this.actions$.pipe(le(di),ye(this.store.select(ko),this.store.select(Rc),this.store.select(Oc),this.store.select(ar),this.store.select(Lo),this.store.select(rh),this.store.select(zt),this.store.select(vi),this.store.select(Mn),this.store.select($o),this.store.select(yi)),_(([{suit:c},l,u,d,f,h,g,v,b,M,z,ve])=>{let G=c?ve.filterBySuit(c).value:0,K=c?u.filterBySuit(c).length:0,F=c??"clubs",ke=z.value+G+K;if(!g)return Ve({error:`Invalid state for action ${di.type}: enemyAction=${g}`});if(!b||!f)return Ve({error:`Invalid state for action ${di.type}: hero=${b}, enemy=${f}`});let Pe=g.suit,kt=g.value,qo=F==="clubs"?ke:0,yh=Pe==="clubs"?kt:0,Qc=Math.min(qo,yh),_h=qo-Qc,wh=yh-Qc,Dh=F==="swords"?ke:0,Ch=Pe==="swords"?kt:0,H_=_h+Dh,U_=wh+Ch,bh=F==="coins"?ke:0,Eh=Pe==="coins"?kt:0,G_=Math.max(0,H_-Eh),z_=Math.max(0,U_-bh),Ih=F==="cups"?ke:0,Sh=Pe==="cups"?kt:0,xh=Ih-z_,Th=Sh-G_;b=b.updateHp(xh),f=f?.updateHp(Th);let Mh=h.clone();Mh.pop();let Ah=M.clone();Ah.removeAll(z);let Jc=v.clone();Jc.push(g),Jc.pushAll(z);let Rh=l.clone();Rh.removeAll(u);let Oh=d.clone();return Oh.pushAll(u),this.logger.actionPlay(u,g,wh,Th,Sh,Eh,Ch,z,_h,xh,Ih,G,bh,Dh,Qc,c),si({aid:Rh,catacomb:Oh,enemy:f,enemyAction:Mh,event:Jc,hero:b,heroAction:Ah})}))),this.actionPlayed$=ce(()=>this.actions$.pipe(le(si),ye(this.store.select(ar),this.store.select(rh),this.store.select(vi)),_(([,c,l,u])=>!u||!c?Ve({error:`Invalid state for action ${si.type}: hero=${u}, enemy=${c}`}):u.hp?c.hp?l?rr():uc():Mo({bribed:!1}):No()))),this.actionStart$=ce(()=>this.actions$.pipe(le(rr),ye(this.store.select(Nc)),_(([,c])=>{if(c===void 0)return Ve({error:`Invalid state for action ${rr.type}: lastAction=${c}`});let l=c+1;return this.logger.actionStart(l),lc({action:l})}))),this.challenge$=ce(()=>this.actions$.pipe(le(yc),ye(this.store.select(Po)),_(([,c])=>{let l=c.clone(),u=l.pop();if(!u)return Ve({error:"No enemy found"});let d=6,f=new oi(u,d,d);return this.logger.challenge(f),Ao({character:l,enemy:f})}))),this.challenged$=ce(()=>this.actions$.pipe(le(Ao),_(()=>Tn()))),this.collect$=ce(()=>this.actions$.pipe(le(_c),ye(this.store.select(zt),this.store.select(jo)),_(([,c,l])=>{let u=c.clone(),d=l.clone(),f=u.pop();return f?f.suit!=="coins"?Ve({error:`Event card is ${f.suit} while coins where expected`}):(d.push(f),this.logger.collect(f),dc({event:u,gold:d})):Ve({error:"No event card"})}))),this.combat$=ce(()=>this.actions$.pipe(le(Tn),_(()=>xo()))),this.combatStarted$=ce(()=>this.actions$.pipe(le(xo),_(()=>uc()))),this.draw$=ce(()=>this.actions$.pipe(le(wc),ye(this.store.select(zt),this.store.select(Fo)),_(([,c,l])=>{let u=c.clone(),d=l.clone();({dungeon:d,event:u}=this.reshuffle(d,u));let f=d.pop();return f?(u.push(f),this.logger.draw(f),fc({event:u,dungeon:d})):Ve({error:"Dungeon deck is empty"})}))),this.keepSelectedAction$=ce(()=>this.actions$.pipe(le(xc),ye(this.store.select(zt),this.store.select($o),this.store.select(Mn)),_(([{action:c},l,u,d])=>{let f=d.clone();f.removeAll(c=="keep"?u:H.empty());let h=d.clone();h.removeAll(f);let g=l.clone();return g.pushAll(f),this.logger.keepSelectedAction(h,f),Tc({heroAction:h,event:g})}))),this.newGame$=ce(()=>this.actions$.pipe(le(sr),Q(()=>this.menuFacade.newGame(!1)),re(()=>!1))),this.resolveCard$=ce(()=>this.actions$.pipe(le(Ro),ye(this.store.select(gi),this.store.select(kc)),_(([,c,l])=>{if(!l||!c)return Ve({error:`Invalid state for action ${Ro.type}: dice=${l}, eventCard=${c}`});if(l===1)return gc({eventCard:c});if(l===6)return li({eventCard:c});let u=c?.value;return l>=u?li({eventCard:c}):gc({eventCard:c})}))),this.resolveCardFailure$=ce(()=>this.actions$.pipe(le(gc),_(({eventCard:c})=>{let l=c.suit,u=0;return(l==="clubs"||l=="cups")&&(u=-Math.floor(c.value/2)),this.logger.resolveCardFailure(c,u),ui({hpDelta:u})}))),this.resolveCardSuccess$=ce(()=>this.actions$.pipe(le(li),_(({eventCard:c})=>{let l=c.suit,u=0;return l==="cups"&&(u=c.value),this.logger.resolveCardSuccess(c,u),ui({hpDelta:u})}))),this.resolvedCard$=ce(()=>this.actions$.pipe(le(ui),ye(this.store.select(vi)),Q(([,c])=>c&&this.logger.resolvedCard(c.hp)),re(([,c])=>c?.hp===0),_(()=>No()))),this.resolveCombat$=ce(()=>this.actions$.pipe(le(Mo),ye(this.store.select(ko),this.store.select(ar),this.store.select(Lo),this.store.select(zt),this.store.select(Mn),this.store.select(yi),this.store.select(Fc)),_(([{bribed:c},l,u,d,f,h,g,v])=>{if(!u)return Ve({error:`Invalid state for action ${Mo.type}: enemy=${u}`});let b=l.clone();b.push(u.card);let M=g.clone(),z=v.clone();if(u.card.value===10){let G=new T(1,u.card.suit);z.remove(G),M.push(G)}let ve=f.clone();return ve.pushAll(d),ai({aid:b,bribed:c,event:ve,heroAction:h,obtainedRelic:M,relic:z})}))),this.resolvedCombatDiscardAction$=ce(()=>this.actions$.pipe(le(ai),ye(this.store.select(Mn)),re(([{bribed:c},l])=>!c&&l.length>0),_(()=>Sc()))),this.resolvedCombatGameWon$=ce(()=>this.actions$.pipe(le(ai),ye(this.store.select(yi)),re(([,c])=>c.length===4),_(()=>Mc()))),this.reveal$=ce(()=>this.actions$.pipe(le(eh),ye(this.store.select(Po)),_(([,c])=>{let l=c.clone(),u=l.pop();if(!u)return Ve({error:"No enemy found"});let d=6,f=new oi(u,d,d);return this.logger.reveal(f),pc({character:l,enemy:f})}))),this.revealedOk$=ce(()=>this.actions$.pipe(le(Ec),ye(this.store.select(ar)),_(([,c])=>c?c.card.value===10?Tn():Mo({bribed:!0}):Ve({error:"No enemy preview found"})))),this.skip$=ce(()=>this.actions$.pipe(le(Ic),ye(this.store.select(gi)),_(([,c])=>c?(this.logger.skip(c),hc()):Ve({error:`Invalid state for action ${fi.type}: eventCard=${c}`})))),this.spend$=ce(()=>this.actions$.pipe(le(fi),ye(this.store.select(gi),this.store.select(zt),this.store.select(jo),this.store.select(Pc)),_(([,c,l,u,d])=>{if(!c)return Ve({error:`Invalid state for action ${fi.type}: eventCard=${c}`});let f=d.value,h=l.clone(),g=u.clone();return d.cards.forEach(v=>{g.remove(v),h.push(v)}),ci({eventCard:c,event:h,gold:g,selectedGoldValue:f})}))),this.spent$=ce(()=>this.actions$.pipe(le(ci),_(({eventCard:c,selectedGoldValue:l})=>{let u=c.suit;if(u==="clubs"||u==="cups")return li({eventCard:c});let d=c.value;return u==="swords"&&l===d?li({eventCard:c}):u==="swords"&&l>d?eh():(u==="swords"&&d*2,Ve({error:`Invalid state for action ${ci.type}: eventCardSuit=${u}, selectedGoldValue=${l}`}))}))),this.start$=ce(()=>this.actions$.pipe(le(sr),ye(this.tutorialFacade.index$),re(([,c])=>!this.DEBUG&&c===void 0),Q(()=>this.menuFacade.about(!1)),_(()=>{let c=H.full();c.shuffle();let l=new oi(c.popPlayerCard(),12,12),u=c.extractCharacterDeck(),d=c.extractRelicDeck();return pi({decks:{dungeon:c,character:u,relic:d},hero:l})}))),this.startDebug$=ce(()=>this.actions$.pipe(le(sr),re(()=>this.DEBUG),Q(()=>this.menuFacade.about(!1)),_(()=>{let c=new oi(new T(8,"swords"),12,12),l=H.empty();l.push(new T(10,"swords")),l.push(new T(10,"clubs")),l.push(new T(10,"coins")),l.push(new T(10,"cups")),l.push(new T(8,"clubs")),l.push(new T(9,"clubs")),l.push(new T(8,"coins")),l.push(new T(9,"coins")),l.push(new T(8,"cups")),l.push(new T(9,"cups")),l.push(new T(9,"swords"));let u=H.empty();u.push(new T(1,"clubs")),u.push(new T(1,"coins")),u.push(new T(1,"cups")),u.push(new T(1,"swords")),l.reverse();let d=H.empty();for(let h=0;h<4;h++)d.push(new T(4,"swords")),d.push(new T(7,"swords")),d.push(new T(7,"cups")),d.push(new T(5,"swords")),d.push(new T(3,"swords")),d.push(new T(2,"swords")),d.push(new T(1,"swords"));return d.reverse(),pi({decks:{dungeon:d,character:l,relic:u},hero:c})}))),this.startTutorial$=ce(()=>this.actions$.pipe(le(sr),ye(this.tutorialFacade.index$),re(([,c])=>c!==void 0),Q(()=>this.menuFacade.about(!1)),_(()=>{let c=new oi(new T(9,"swords"),12,12),l=H.empty();l.push(new T(10,"clubs")),l.push(new T(8,"cups")),l.push(new T(10,"swords")),l.reverse();let u=H.empty();u.push(new T(1,"clubs")),u.push(new T(1,"coins")),u.push(new T(1,"cups")),u.push(new T(1,"swords"));let d=H.empty();return d.push(new T(3,"coins")),d.push(new T(2,"coins")),d.push(new T(7,"clubs")),d.push(new T(4,"cups")),d.push(new T(3,"swords")),d.push(new T(4,"coins")),d.push(new T(6,"clubs")),d.push(new T(3,"clubs")),d.push(new T(6,"swords")),d.push(new T(4,"clubs")),d.push(new T(5,"swords")),d.push(new T(4,"swords")),d.push(new T(4,"clubs")),d.push(new T(4,"coins")),d.push(new T(3,"coins")),d.push(new T(2,"cups")),d.push(new T(7,"cups")),d.push(new T(5,"coins")),d.push(new T(5,"swords")),d.push(new T(6,"coins")),d.push(new T(7,"coins")),d.push(new T(4,"swords")),d.push(new T(2,"swords")),d.push(new T(2,"cups")),d.push(new T(3,"clubs")),d.push(new T(2,"coins")),d.push(new T(3,"coins")),d.push(new T(4,"clubs")),d.push(new T(7,"swords")),d.push(new T(6,"clubs")),d.push(new T(5,"coins")),d.push(new T(3,"cups")),d.push(new T(2,"clubs")),d.push(new T(2,"clubs")),d.push(new T(2,"clubs")),d.reverse(),pi({decks:{dungeon:d,character:l,relic:u},hero:c})}))),this.throwDice$=ce(()=>this.actions$.pipe(le(Dc),ye(this.tutorialFacade.index$),_(([,c])=>{let u=c!==void 0?5:Math.floor(Math.random()*6+1);return this.logger.throwDice(u),mc({dice:u})}))),this.turnStart$=ce(()=>this.actions$.pipe(le(uc),ye(this.store.select(Fo),this.store.select(zt),this.store.select(Mn)),_(([,c,l,u])=>{let d=c.clone(),f=l.clone(),h=u.clone(),g=3-h.length;for(let b=0;b<g;b++)({dungeon:d,event:f}=this.reshuffle(d,f)),h.push(d.pop());let v=H.empty();for(let b=0;b<3;b++)({dungeon:d,event:f}=this.reshuffle(d,f)),v.push(d.pop());return To({dungeon:d,event:f,enemyAction:v,heroAction:h})}))),this.turnStarted$=ce(()=>this.actions$.pipe(le(To),_(()=>rr())))}};e.\u0275fac=function(i){return new(i||e)(D(ii),D(Qe),D(Wt),D(Uc),D(We))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();var Ct=(()=>{let e=class e{constructor(){this.store=w(We),this.aidDeck$=this.store.select(ko),this.aidSelectedDeck$=this.store.select(Rc),this.catacombDeck$=this.store.select(Oc),this.characterDeck$=this.store.select(Po),this.combatAction$=this.store.select(Nc),this.dice$=this.store.select(kc),this.dungeonDeck$=this.store.select(Fo),this.enemy$=this.store.select(ar),this.enemyAction$=this.store.select(Lo),this.eventCard$=this.store.select(gi),this.eventDeck$=this.store.select(zt),this.error$=this.store.select(Ry),this.goldDeck$=this.store.select(jo),this.hero$=this.store.select(vi),this.heroAction$=this.store.select(Mn),this.heroActionSelectedDeck$=this.store.select($o),this.goldSelectedDeck$=this.store.select(Pc),this.obtainedRelicDeck$=this.store.select(yi),this.relicDeck$=this.store.select(Fc),this.status$=this.store.select(Oy)}aidSelected(n){this.store.dispatch(vc({aidSelected:n}))}challenge(){this.store.dispatch(yc())}collect(){this.store.dispatch(_c())}combatStart(){this.store.dispatch(Tn())}draw(){this.store.dispatch(wc())}fight(n){this.store.dispatch(di({suit:n}))}goldSelected(n){this.store.dispatch(Cc({goldSelected:n}))}heroActionSelected(n){this.store.dispatch(bc({heroActionSelected:n}))}keepSelectedAction(n){this.store.dispatch(xc({action:n}))}resolveCardByDice(){this.store.dispatch(Ro())}revealedOk(){this.store.dispatch(Ec())}reset(){this.store.dispatch(Ac())}spend(){this.store.dispatch(fi())}skip(){this.store.dispatch(Ic())}start(){this.store.dispatch(sr())}throwDice(){this.store.dispatch(Dc())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();function UT(t,e){if(t&1){let r=De();p(0,"button",10),U("click",function(){pe(r);let i=A();return me(i.onDraw())}),we(),p(1,"svg",11),O(2,"path",12),m(),Fe(),p(3,"u"),C(4,"D"),m(),C(5,"raw "),m()}}function GT(t,e){if(t&1){let r=De();p(0,"button",13),U("click",function(){pe(r);let i=A();return me(i.onCollect())}),we(),p(1,"svg",14),O(2,"path",15)(3,"path",16),m(),Fe(),p(4,"u"),C(5,"C"),m(),C(6,"ollect "),m()}}function zT(t,e){if(t&1){let r=De();p(0,"button",17),U("click",function(){pe(r);let i=A();return me(i.onSkip())}),we(),p(1,"svg",18),O(2,"path",19)(3,"path",20),m(),Fe(),p(4,"u"),C(5,"S"),m(),C(6,"kip "),m()}}function WT(t,e){if(t&1){let r=De();p(0,"button",21),U("click",function(){pe(r);let i=A();return me(i.onDice())}),we(),p(1,"svg",22),O(2,"path",23)(3,"path",24),m(),Fe(),p(4,"u"),C(5,"D"),m(),C(6,"ice "),m()}}function qT(t,e){if(t&1){let r=De();p(0,"button",25),U("click",function(){pe(r);let i=A();return me(i.onDiceFeedback())}),p(1,"u"),C(2,"D"),m(),C(3),L(4,"async"),m()}if(t&2){let r=A();x(3),Bt("ice gave a ",j(4,1,r.dice$),"")}}function ZT(t,e){if(t&1){let r=De();p(0,"button",26),U("click",function(){pe(r);let i=A();return me(i.onCombat())}),we(),p(1,"svg",27),O(2,"path",28),m(),Fe(),p(3,"u"),C(4,"C"),m(),C(5,"ombat "),m()}}function YT(t,e){if(t&1){let r=De();p(0,"button",29),L(1,"async"),U("click",function(){pe(r);let i=A();return me(i.onKeep("keep"))}),we(),p(2,"svg",11),O(3,"path",12),m(),C(4," Keep "),Fe(),p(5,"u"),C(6,"s"),m(),C(7,"elected "),m(),p(8,"button",30),U("click",function(){pe(r);let i=A();return me(i.onKeep("discard"))}),we(),p(9,"svg",31),O(10,"path",32),m(),Fe(),p(11,"u"),C(12,"D"),m(),C(13,"iscard all "),m()}if(t&2){let r=A();ae("disabled",j(1,1,r.disableKeep$))}}function KT(t,e){if(t&1){let r=De();p(0,"button",33),L(1,"async"),U("click",function(){pe(r);let i=A();return me(i.onSpend())}),we(),p(2,"svg",34),O(3,"path",35),m(),Fe(),p(4,"u"),C(5,"B"),m(),C(6),L(7,"async"),m()}if(t&2){let r=A();ae("disabled",j(1,2,r.disableSpend$)),x(6),Bt("",j(7,4,r.spendCaption$)," ")}}function QT(t,e){if(t&1){let r=De();p(0,"button",36),U("click",function(){pe(r);let i=A();return me(i.onRevealedOk())}),we(),p(1,"svg",37),O(2,"path",38),m(),Fe(),p(3,"u"),C(4,"C"),m(),C(5,"ombat "),m()}}function JT(t,e){if(t&1){let r=De();p(0,"button",39),U("click",function(){pe(r);let i=A();return me(i.onRevealedOk())}),we(),p(1,"svg",27),O(2,"path",28),m(),Fe(),p(3,"u"),C(4,"A"),m(),C(5,"ccept aid "),m()}}function XT(t,e){if(t&1){let r=De();p(0,"button",41),U("click",function(){let i=pe(r).$implicit,o=A(3);return me(o.onPlayAction(i.suit))}),m()}if(t&2){let r=e.$implicit,n=A(),i=A(),o=A();ae("id","button-play-"+r.suit)("disabled",r.disabled)("innerHTML",o.caption(r,i,n),ga)}}function eM(t,e){if(t&1&&(Hr(0,XT,1,3,"button",40,Br),L(2,"async")),t&2){let r=A(2);Ur(j(2,0,r.playActions$))}}function tM(t,e){if(t&1&&(N(0,eM,3,2),L(1,"async")),t&2){let r,n=A();B(0,(r=j(1,1,n.obtainedRelic$))?0:-1,r)}}var Uy=(()=>{let e=class e{constructor(n){this.gameFacade=n,this.playActionShortcuts={clubs:"l",coins:"o",cups:"u",swords:"w"},this.aidSelected$=this.gameFacade.aidSelectedDeck$,this.heroAction$=this.gameFacade.heroAction$,this.heroActionSelected$=this.gameFacade.heroActionSelectedDeck$,this.destroy$=new V,this.dice$=this.gameFacade.dice$,this.enemy$=this.gameFacade.enemy$,this.goldSelected$=this.gameFacade.goldSelectedDeck$,this.eventCard$=this.gameFacade.eventCard$,this.obtainedRelic$=this.gameFacade.obtainedRelicDeck$,this.status$=this.gameFacade.status$,this.disableKeep$=this.heroActionSelected$.pipe(_(i=>!i.length)),this.disableSpend$=He([this.eventCard$,this.goldSelected$]).pipe(_(([i,o])=>i&&o.value<i.value)),this.showDraw$=this.status$.pipe(_(i=>i===ne.CRAWL_READY)),this.showCollect$=He([this.eventCard$,this.status$]).pipe(_(([i,o])=>o===ne.CRAWL_ACT&&i?.suit==="coins")),this.showCombat$=He([this.eventCard$,this.status$]).pipe(_(([i,o])=>o===ne.CRAWL_ACT&&i?.suit==="swords")),this.showDice$=He([this.eventCard$,this.status$]).pipe(_(([i,o])=>o===ne.CRAWL_ACT&&(i?.suit==="clubs"||i?.suit==="cups"))),this.showDiceFeedback$=this.status$.pipe(_(i=>i===ne.RESOLVE_THREW_DICE)),this.showKeep$=this.status$.pipe(_(i=>i===ne.DISCARD_ACTION)),this.showSkip$=He([this.eventCard$,this.status$]).pipe(_(([i,o])=>o===ne.CRAWL_ACT&&i?.suit==="cups")),this.mapSelectedActionToSuit=i=>Array.from(new Set(i.cards.map(o=>o.suit)).values()).sort(),this.mapSuitToButton=(i,o,s,a)=>{let c=o.length&&!s.length,l=i.peek()?.suit,u=a&&l?l!==a:!1,d=un[a].replace(/^(.)(.)(.*)$/,"$1<u>$2</u>$3");return{disabled:c||u,caption:`Play ${d}`,shortcut:this.playActionShortcuts[a],suit:a}},this.mapEmptyButtons=(i,o)=>i.length?o:[{disabled:!1,caption:"Play",shortcut:"c"}],this.playActions$=He([this.aidSelected$,this.heroAction$,this.heroActionSelected$,this.status$]).pipe(_(([i,o,s,a])=>({aidSelected:i,heroAction:o,heroActionSelected:s,status:a})),_(({aidSelected:i,heroAction:o,heroActionSelected:s,status:a})=>({aidSelected:i,heroAction:o,heroActionSelected:s,selectedSuits:this.mapSelectedActionToSuit(s),status:a})),_(({aidSelected:i,heroAction:o,heroActionSelected:s,selectedSuits:a,status:c})=>({heroAction:o,buttons:a.map(l=>this.mapSuitToButton(i,o,s,l)),status:c})),_(({heroAction:i,buttons:o,status:s})=>({buttons:this.mapEmptyButtons(i,o),status:s})),_(({buttons:i,status:o})=>o===ne.COMBAT?i:[])),this.playActionsShortcuts$=this.playActions$.pipe(_(i=>Object.fromEntries(i.map(({shortcut:o,suit:s})=>[o,s])))),this.showRevealAid$=He([this.enemy$,this.status$]).pipe(_(([i,o])=>({enemyValue:i?.card.value??"",status:o})),_(({enemyValue:i,status:o})=>o===ne.ENEMY_REVEALED&&i!==10)),this.showRevealCombat$=He([this.enemy$,this.status$]).pipe(_(([i,o])=>({enemyValue:i?.card.value??"",status:o})),_(({enemyValue:i,status:o})=>o===ne.ENEMY_REVEALED&&i===10)),this.showShortcuts$=tt(ht(document,"keydown"),ht(document,"keyup")).pipe(je(this.destroy$),_(i=>i.shiftKey)),this.showSpend$=He([this.eventCard$,this.status$]).pipe(_(([i,o])=>o===ne.CRAWL_ACT&&i?.suit!=="coins")),this.spendCaption$=this.eventCard$.pipe(_(i=>i?.suit==="swords"?"ribe":"uy"))}caption(n,i,o){if(!n.suit)return n.caption;let s=o.filterBySuit(n.suit).length+i.filterBySuit(n.suit).length,a=s?` (+${s})`:"";return`${n.caption}${a}`}onDraw(){this.gameFacade.draw()}onCollect(){this.gameFacade.collect()}onCombat(){this.gameFacade.challenge()}onDice(){this.gameFacade.throwDice()}onDiceFeedback(){this.gameFacade.resolveCardByDice()}onPlayAction(n){this.gameFacade.fight(n)}onKeep(n){this.gameFacade.keepSelectedAction(n)}onRevealedOk(){this.gameFacade.revealedOk()}onSpend(){this.gameFacade.spend()}onSkip(){this.gameFacade.skip()}ngOnInit(){ht(document,"keydown").pipe(je(this.destroy$),_(n=>n.key.toLocaleLowerCase()),re(n=>/^[a-z]$/.test(n)),ye(this.disableKeep$,this.disableSpend$,this.playActions$,this.playActionsShortcuts$,this.showCollect$,this.showCombat$,this.showDice$,this.showDiceFeedback$,this.showDraw$,this.showKeep$,this.showRevealAid$,this.showRevealCombat$,this.showSpend$,this.showSkip$),Q(([n,i,o,s,a,c,l,u,d,f,h,g,v,b,M])=>{switch(n){case"a":g&&this.onRevealedOk();break;case"b":b&&!o&&this.onSpend();break;case"c":l&&this.onCombat(),c&&this.onCollect(),v&&this.onRevealedOk(),s.length===1&&this.onPlayAction(s[0].suit);break;case"d":f&&this.onDraw(),u&&this.onDice(),d&&this.onDiceFeedback(),h&&this.onKeep("discard");break;case"k":h&&!i&&this.onKeep("keep");break;case"s":h&&!i&&this.onKeep("keep"),M&&this.onSkip();break}a[n]&&this.onPlayAction(a[n])})).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(i){return new(i||e)(X(Ct))},e.\u0275cmp=J({type:e,selectors:[["app-action-bar"]],standalone:!0,features:[ee],decls:24,vars:37,consts:[[1,"action-bar"],["type","button","id","button-draw"],["type","button","id","button-collect"],["type","button","id","button-skip"],["type","button","id","button-dice"],["type","button","id","button-dice-fb"],["type","button","id","button-combat"],["type","button","id","button-spend",3,"disabled"],["type","button","id","button-reveal-combat"],["type","button","id","button-accept-aid"],["type","button","id","button-draw",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-index"],["d","M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435l.106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1M8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5 5 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.6 2.6 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046zm2.094 2.025"],["type","button","id","button-collect",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-piggy-bank"],["d","M5 6.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0m1.138-1.496A6.6 6.6 0 0 1 7.964 4.5c.666 0 1.303.097 1.893.273a.5.5 0 0 0 .286-.958A7.6 7.6 0 0 0 7.964 3.5c-.734 0-1.441.103-2.102.292a.5.5 0 1 0 .276.962"],["fill-rule","evenodd","d","M7.964 1.527c-2.977 0-5.571 1.704-6.32 4.125h-.55A1 1 0 0 0 .11 6.824l.254 1.46a1.5 1.5 0 0 0 1.478 1.243h.263c.3.513.688.978 1.145 1.382l-.729 2.477a.5.5 0 0 0 .48.641h2a.5.5 0 0 0 .471-.332l.482-1.351c.635.173 1.31.267 2.011.267.707 0 1.388-.095 2.028-.272l.543 1.372a.5.5 0 0 0 .465.316h2a.5.5 0 0 0 .478-.645l-.761-2.506C13.81 9.895 14.5 8.559 14.5 7.069q0-.218-.02-.431c.261-.11.508-.266.705-.444.315.306.815.306.815-.417 0 .223-.5.223-.461-.026a1 1 0 0 0 .09-.255.7.7 0 0 0-.202-.645.58.58 0 0 0-.707-.098.74.74 0 0 0-.375.562c-.024.243.082.48.32.654a2 2 0 0 1-.259.153c-.534-2.664-3.284-4.595-6.442-4.595M2.516 6.26c.455-2.066 2.667-3.733 5.448-3.733 3.146 0 5.536 2.114 5.536 4.542 0 1.254-.624 2.41-1.67 3.248a.5.5 0 0 0-.165.535l.66 2.175h-.985l-.59-1.487a.5.5 0 0 0-.629-.288c-.661.23-1.39.359-2.157.359a6.6 6.6 0 0 1-2.157-.359.5.5 0 0 0-.635.304l-.525 1.471h-.979l.633-2.15a.5.5 0 0 0-.17-.534 4.65 4.65 0 0 1-1.284-1.541.5.5 0 0 0-.446-.275h-.56a.5.5 0 0 1-.492-.414l-.254-1.46h.933a.5.5 0 0 0 .488-.393m12.621-.857a.6.6 0 0 1-.098.21l-.044-.025c-.146-.09-.157-.175-.152-.223a.24.24 0 0 1 .117-.173c.049-.027.08-.021.113.012a.2.2 0 0 1 .064.199"],["type","button","id","button-skip",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-fast-forward"],["d","M6.804 8 1 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C.713 12.69 0 12.345 0 11.692V4.308c0-.653.713-.998 1.233-.696z"],["d","M14.804 8 9 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C8.713 12.69 8 12.345 8 11.692V4.308c0-.653.713-.998 1.233-.696z"],["type","button","id","button-dice",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dice-5"],["d","M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z"],["d","M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"],["type","button","id","button-dice-fb",3,"click"],["type","button","id","button-combat",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lightning-charge"],["d","M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09zM4.157 8.5H7a.5.5 0 0 1 .478.647L6.11 13.59l5.732-6.09H9a.5.5 0 0 1-.478-.647L9.89 2.41z"],["type","button","id","button-keep",3,"click","disabled"],["type","button","id","button-discard",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3"],["d","M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5"],["type","button","id","button-spend",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-currency-dollar"],["d","M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73z"],["type","button","id","button-reveal-combat",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-hand-thumbs-up"],["d","M8.864.046C7.908-.193 7.02.53 6.956 1.466c-.072 1.051-.23 2.016-.428 2.59-.125.36-.479 1.013-1.04 1.639-.557.623-1.282 1.178-2.131 1.41C2.685 7.288 2 7.87 2 8.72v4.001c0 .845.682 1.464 1.448 1.545 1.07.114 1.564.415 2.068.723l.048.03c.272.165.578.348.97.484.397.136.861.217 1.466.217h3.5c.937 0 1.599-.477 1.934-1.064a1.86 1.86 0 0 0 .254-.912c0-.152-.023-.312-.077-.464.201-.263.38-.578.488-.901.11-.33.172-.762.004-1.149.069-.13.12-.269.159-.403.077-.27.113-.568.113-.857 0-.288-.036-.585-.113-.856a2 2 0 0 0-.138-.362 1.9 1.9 0 0 0 .234-1.734c-.206-.592-.682-1.1-1.2-1.272-.847-.282-1.803-.276-2.516-.211a10 10 0 0 0-.443.05 9.4 9.4 0 0 0-.062-4.509A1.38 1.38 0 0 0 9.125.111zM11.5 14.721H8c-.51 0-.863-.069-1.14-.164-.281-.097-.506-.228-.776-.393l-.04-.024c-.555-.339-1.198-.731-2.49-.868-.333-.036-.554-.29-.554-.55V8.72c0-.254.226-.543.62-.65 1.095-.3 1.977-.996 2.614-1.708.635-.71 1.064-1.475 1.238-1.978.243-.7.407-1.768.482-2.85.025-.362.36-.594.667-.518l.262.066c.16.04.258.143.288.255a8.34 8.34 0 0 1-.145 4.725.5.5 0 0 0 .595.644l.003-.001.014-.003.058-.014a9 9 0 0 1 1.036-.157c.663-.06 1.457-.054 2.11.164.175.058.45.3.57.65.107.308.087.67-.266 1.022l-.353.353.353.354c.043.043.105.141.154.315.048.167.075.37.075.581 0 .212-.027.414-.075.582-.05.174-.111.272-.154.315l-.353.353.353.354c.047.047.109.177.005.488a2.2 2.2 0 0 1-.505.805l-.353.353.353.354c.006.005.041.05.041.17a.9.9 0 0 1-.121.416c-.165.288-.503.56-1.066.56z"],["type","button","id","button-accept-aid",3,"click"],["type","button",3,"id","disabled","innerHTML"],["type","button",3,"click","id","disabled","innerHTML"]],template:function(i,o){if(i&1&&(p(0,"div",0),L(1,"async"),N(2,UT,6,0,"button",1),L(3,"async"),N(4,GT,7,0,"button",2),L(5,"async"),N(6,zT,7,0,"button",3),L(7,"async"),N(8,WT,7,0,"button",4),L(9,"async"),N(10,qT,5,3,"button",5),L(11,"async"),N(12,ZT,6,0,"button",6),L(13,"async"),N(14,YT,14,3),L(15,"async"),N(16,KT,8,6,"button",7),L(17,"async"),N(18,QT,6,0,"button",8),L(19,"async"),N(20,JT,6,0,"button",9),L(21,"async"),N(22,tM,2,3),L(23,"async"),m()),i&2){let s;lt("show-shortcuts",j(1,13,o.showShortcuts$)===!0),x(2),B(2,j(3,15,o.showDraw$)?2:-1),x(2),B(4,j(5,17,o.showCollect$)?4:-1),x(2),B(6,j(7,19,o.showSkip$)?6:-1),x(2),B(8,j(9,21,o.showDice$)?8:-1),x(2),B(10,j(11,23,o.showDiceFeedback$)?10:-1),x(2),B(12,j(13,25,o.showCombat$)?12:-1),x(2),B(14,j(15,27,o.showKeep$)?14:-1),x(2),B(16,j(17,29,o.showSpend$)?16:-1),x(2),B(18,j(19,31,o.showRevealCombat$)?18:-1),x(2),B(20,j(21,33,o.showRevealAid$)?20:-1),x(2),B(22,(s=j(23,35,o.aidSelected$))?22:-1,s)}},dependencies:[_t],styles:["[_nghost-%COMP%]{position:fixed;bottom:0;left:50%;transform:translate(-50%);padding:.25rem .25rem .2rem;background-color:var(--rd-bg-dark);border-radius:.5rem .5rem 0 0;box-shadow:var(--rd-shadow)}button[_ngcontent-%COMP%]:not(:disabled):not(:hover){border-color:#5a5}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sc-only[_ngcontent-%COMP%]{display:none}.action-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{text-decoration:none}.action-bar.show-shortcuts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .sc-only[_ngcontent-%COMP%]{display:inline}.action-bar.show-shortcuts[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{text-decoration:underline}"]});let t=e;return t})();function nM(t,e){t&1&&(p(0,"div",0)(1,"span",1),C(2,"(hidden)"),m()())}function rM(t,e){if(t&1&&(p(0,"span",3),C(1,"["),p(2,"u"),C(3),m(),C(4,"]"),m()),t&2){let r=A(2);x(3),ut(r.shortcut)}}function iM(t,e){if(t&1&&(p(0,"div",2)(1,"span",1),C(2),m(),N(3,rM,5,1,"span",3),m()),t&2){let r=A();lt("selected",r.selected),ae("ngClass",r.css),x(2),Dd("",r.card.value," ",r.suit,"",r.selected?" (selected)":"",""),x(),B(3,r.shortcut?3:-1)}}var An=(()=>{let e=class e{constructor(){this.SuitLabels=un,this.selected=!1,this.shortcut=void 0,this.cover=!1}get css(){return`card c${this.card.value} c${this.card.suit} ${this.selected}`}get suit(){return this.SuitLabels[this.card.suit]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-card"]],inputs:{card:"card",selected:"selected",shortcut:"shortcut",cover:"cover"},standalone:!0,features:[ee],decls:2,vars:1,consts:[[1,"card","covered"],[1,"tooltip"],[3,"ngClass"],[1,"shortcut"]],template:function(i,o){i&1&&N(0,nM,3,0,"div",0)(1,iM,4,7),i&2&&B(0,o.cover?0:1)},dependencies:[Oa],styles:['.card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-image:url("./media/neapolitan-DHTQWB2X.jpg");background-size:1000%;border:1px solid black;border-radius:5%/2.91665%;aspect-ratio:.58333;margin:.5em;width:100px;box-shadow:0 0 1rem #0006}.card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#fff;padding:.2em;border:1px solid #ddd;border-radius:.2em;box-shadow:#0002 .2em .2em .4em;color:#000}.card.covered[_ngcontent-%COMP%]{background-image:url("./media/neapolitan-back-Z342O2IK.jpg");background-size:100%}.card.selected[_ngcontent-%COMP%]{border-color:#ff0;box-shadow:#ff0 0 0 .4em}.card[_ngcontent-%COMP%]   .tooltip[_ngcontent-%COMP%]{display:none}.card[_ngcontent-%COMP%]:hover   .tooltip[_ngcontent-%COMP%]{display:initial}.c1[_ngcontent-%COMP%]{background-position-x:0}.c2[_ngcontent-%COMP%]{background-position-x:11.11111%}.c3[_ngcontent-%COMP%]{background-position-x:22.22222%}.c4[_ngcontent-%COMP%]{background-position-x:33.33333%}.c5[_ngcontent-%COMP%]{background-position-x:44.44444%}.c6[_ngcontent-%COMP%]{background-position-x:55.55555%}.c7[_ngcontent-%COMP%]{background-position-x:66.66666%}.c8[_ngcontent-%COMP%]{background-position-x:77.77777%}.c9[_ngcontent-%COMP%]{background-position-x:88.88888%}.c10[_ngcontent-%COMP%]{background-position-x:100%}.cgolds[_ngcontent-%COMP%]{background-position-y:0%}.ccups[_ngcontent-%COMP%]{background-position-y:33%}.cclubs[_ngcontent-%COMP%]{background-position-y:66%}.cswords[_ngcontent-%COMP%]{background-position-y:100%}']});let t=e;return t})();function oM(t,e){if(t&1){let r=De();p(0,"app-card",2),U("click",function(){let i=pe(r).$implicit,o=A();return me(o.onToggle(i))}),m()}if(t&2){let r=e.$implicit,n=A();ae("card",r)("selected",n.isSelected(r))("shortcut",n.getShortcut(n.deck,r))}}var wi=(()=>{let e=class e{constructor(){this.destroy$=new V,this.shortcutKeys="",this.deck=H.empty(),this.selectedDeck=H.empty(),this.selectCards=new _e,this.showShortcuts=new Te(!1)}set shortcuts(n){n===!0?this.shortcutKeys="1234567890":n==="secondary"?this.shortcutKeys="qwertyuiop":this.shortcutKeys=""}isSelected(n){return this.selectedDeck.includes(n)}ngOnInit(){this.initShortcuts()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onToggle(n){let i=this.selectedDeck.clone();this.isSelected(n)?i.remove(n):i.push(n),this.selectCards.emit(i)}initShortcuts(){let n=i=>{let o=i.key.toLocaleLowerCase();return new RegExp(`^[${this.shortcutKeys}]$`).test(o)?this.shortcutKeys.indexOf(o):-1};tt(ht(document,"keydown"),ht(document,"keyup")).pipe(je(this.destroy$),_(i=>i.shiftKey),Q(i=>this.showShortcuts.next(i))).subscribe(),ht(document,"keydown").pipe(je(this.destroy$),re(()=>this.shortcutKeys.length>0),_(i=>n(i)),re(i=>i>=0&&i<this.deck.length),Q(i=>this.onToggle(this.deck.cards[i]))).subscribe()}getShortcut(n,i){if(!this.showShortcuts.value)return"";let o=n.cards.findIndex(s=>s.equals(i));return o>=0&&o<this.shortcutKeys.length?this.shortcutKeys[o]:""}get selectedCards(){return this.selectedDeck?.cards??[]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-selectable-deck"]],inputs:{deck:"deck",shortcuts:"shortcuts",selectedDeck:"selectedDeck"},outputs:{selectCards:"selectCards"},standalone:!0,features:[ee],decls:3,vars:0,consts:[[1,"deck"],[3,"card","selected","shortcut"],[3,"click","card","selected","shortcut"]],template:function(i,o){i&1&&(p(0,"div",0),Hr(1,oM,1,3,"app-card",1,Br),m()),i&2&&(x(),Ur(o.deck.cards))},dependencies:[An],styles:[".deck[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]});let t=e;return t})();var Gy=(()=>{let e=class e{constructor(){this.actionSelected=H.empty(),this.deck=H.empty(),this.enable=!1,this.selectedDeck=H.empty(),this.selectCards=new _e}onSelect(n){if(!this.enable)return;let i=this.actionSelected.cards.map(a=>a.suit),s=n.cards.map(a=>a.suit).reduce((a,c)=>a&&i.includes(c),!0);i.length&&!s||this.selectCards.emit(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-aid-deck"]],inputs:{actionSelected:"actionSelected",deck:"deck",enable:"enable",selectedDeck:"selectedDeck"},outputs:{selectCards:"selectCards"},standalone:!0,features:[ee],decls:1,vars:3,consts:[[3,"selectCards","deck","shortcuts","selectedDeck"]],template:function(i,o){i&1&&(p(0,"app-selectable-deck",0),U("selectCards",function(a){return o.onSelect(a)}),m()),i&2&&ae("deck",o.deck)("shortcuts","secondary")("selectedDeck",o.selectedDeck)},dependencies:[wi]});let t=e;return t})();function sM(t,e){if(t&1&&O(0,"app-card",0),t&2){let r=A();ae("card",r.character.card)}}var zy=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-character"]],inputs:{character:"character"},standalone:!0,features:[ee],decls:1,vars:1,consts:[[3,"card"]],template:function(i,o){i&1&&N(0,sM,1,1,"app-card",0),i&2&&B(0,o.character?0:-1)},dependencies:[An]});let t=e;return t})();function aM(t,e){if(t&1&&O(0,"app-card",1),t&2){let r=e.$implicit,n=e.$index,i=A(2);ae("card",r)("cover",i.isCovered(n))}}function cM(t,e){if(t&1&&(p(0,"div",0),Hr(1,aM,1,2,"app-card",1,Br),m()),t&2){let r=A();x(),Ur(r.deck.cards)}}function lM(t,e){if(t&1&&O(0,"app-card",1),t&2){let r=A(2);ae("card",e)("cover",r.cover)}}function uM(t,e){if(t&1&&N(0,lM,1,2,"app-card",1),t&2){let r,n=A();B(0,(r=n.deck.peek())?0:-1,r)}}var Wy=(()=>{let e=class e{constructor(){this.deck=H.empty(),this.cover=!1,this.spread=!1}isCovered(n){return this.cover&&n<this.deck.length-1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-deck"]],inputs:{deck:"deck",cover:"cover",spread:"spread"},standalone:!0,features:[ee],decls:2,vars:1,consts:[[1,"deck"],[3,"card","cover"]],template:function(i,o){i&1&&N(0,cM,3,0,"div",0)(1,uM,1,1),i&2&&B(0,o.spread?0:1)},dependencies:[An],styles:[".deck[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}"]});let t=e;return t})();var qy=(()=>{let e=class e{constructor(){this.SuitLabel=un,this.aidSelected=H.empty(),this.deck=H.empty(),this.enable=!1,this.selectedDeck=H.empty(),this.shortcuts=!0,this.selectCards=new _e}onSelect(n){if(!this.enable)return;let i=this.selectedDeck.peek()?.value;if(i){let o=n.cards.find(s=>s.value!==i);o&&(n=H.empty(),n.push(o))}if(this.aidSelected.length&&n.length===1){let o=this.aidSelected.peek()?.suit;if(n.cards.find(a=>a.suit!==o))return}this.selectCards.emit(n)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-hero-action-deck"]],inputs:{aidSelected:"aidSelected",deck:"deck",enable:"enable",selectedDeck:"selectedDeck",shortcuts:"shortcuts"},outputs:{selectCards:"selectCards"},standalone:!0,features:[ee],decls:1,vars:3,consts:[[3,"selectCards","deck","shortcuts","selectedDeck"]],template:function(i,o){i&1&&(p(0,"app-selectable-deck",0),U("selectCards",function(a){return o.onSelect(a)}),m()),i&2&&ae("deck",o.deck)("shortcuts",o.shortcuts)("selectedDeck",o.selectedDeck)},dependencies:[wi]});let t=e;return t})();function dM(t,e){if(t&1&&(p(0,"div",1)(1,"div",3)(2,"div"),C(3,"Dungeon deck"),m(),p(4,"div"),C(5),m()(),p(6,"div",4),O(7,"app-deck",16),m()()),t&2){let r=e;x(5),ut(r.length),x(2),ae("deck",r)("cover",!0)}}function fM(t,e){t&1&&O(0,"app-card",5),t&2&&ae("card",e)}function hM(t,e){if(t&1&&(p(0,"div",6)(1,"div",3)(2,"div"),C(3,"Character deck"),m(),p(4,"div"),C(5),m()(),p(6,"div",4),O(7,"app-deck",16),m()()),t&2){let r=e;x(5),ut(r.length),x(2),ae("deck",r)("cover",!0)}}function pM(t,e){if(t&1&&(p(0,"div",7)(1,"div",3)(2,"div"),C(3,"Catacomb"),m(),p(4,"div"),C(5),m()(),p(6,"div",4),O(7,"app-deck",17),m()()),t&2){let r=e;x(5),ut(r.length),x(2),ae("deck",r)}}function mM(t,e){if(t&1&&(p(0,"div",3)(1,"div"),C(2,"Enemy"),m(),p(3,"div"),C(4),m()(),p(5,"div",4),O(6,"app-character",18),m()),t&2){let r=e;x(4),Bt("",r.hp," HP"),x(2),ae("character",r)}}function gM(t,e){t&1&&(p(0,"div",3)(1,"div"),C(2,"Enemy"),m()())}function vM(t,e){t&1&&(p(0,"div",9)(1,"div",3)(2,"div"),C(3,"Enemy action cards"),m()(),p(4,"div",4),O(5,"app-deck",19),m()()),t&2&&(x(5),ae("deck",e)("cover",!0)("spread",!0))}function yM(t,e){if(t&1&&(p(0,"div",10)(1,"div",3)(2,"div"),C(3,"Your relics"),m(),p(4,"div"),C(5),m()(),p(6,"div",4),O(7,"app-deck",20),m()()),t&2){let r=e;x(5),ut(r.length),x(2),ae("deck",r)("spread",!0)}}function _M(t,e){if(t&1&&(p(0,"div",3)(1,"div"),C(2,"The hero"),m(),p(3,"div",21),C(4),m()(),p(5,"div",4),O(6,"app-character",18),m()),t&2){let r=e;x(4),Bt("",r.hp," HP"),x(2),ae("character",r)}}function wM(t,e){if(t&1){let r=De();p(0,"div",12)(1,"div",3)(2,"div"),C(3,"Your actions"),m()(),p(4,"div",4)(5,"app-hero-action-deck",22),L(6,"async"),U("selectCards",function(i){pe(r);let o=A(4);return me(o.onHeroActionSelect(i))}),m()()()}if(t&2){let r=A(),n=A(),i=A(2);x(5),ae("deck",e)("enable",j(6,4,i.inCombat$)===!0)("selectedDeck",n)("aidSelected",r)}}function DM(t,e){if(t&1){let r=De();p(0,"div",12)(1,"div",3)(2,"div"),C(3,"Select actions to keep, then click continue"),m()(),p(4,"div",4)(5,"app-selectable-deck",23),U("selectCards",function(i){pe(r);let o=A(4);return me(o.onHeroActionSelect(i))}),m()()()}if(t&2){let r=A(2);x(5),ae("deck",e)("shortcuts",!0)("selectedDeck",r)}}function CM(t,e){if(t&1){let r=De();p(0,"div",13)(1,"div",3)(2,"div"),C(3,"Gold"),m(),p(4,"div"),C(5),m()(),p(6,"div",4)(7,"app-selectable-deck",23),L(8,"async"),U("selectCards",function(i){pe(r);let o=A(4);return me(o.onGoldSelect(i))}),m()()()}if(t&2){let r=e,n=A(3),i=A();x(5),ut(r.length),x(2),ae("deck",r)("shortcuts",j(8,4,i.enableGoldShortcuts$))("selectedDeck",n)}}function bM(t,e){if(t&1){let r=De();p(0,"div",14)(1,"div",3)(2,"div"),C(3,"Aid"),m(),p(4,"div"),C(5),m()(),p(6,"div",4)(7,"app-aid-deck",24),L(8,"async"),U("selectCards",function(i){pe(r);let o=A(4);return me(o.onAidSelect(i))}),m()()()}if(t&2){let r=e,n=A(),i=A(),o=A(2);x(5),ut(r.length),x(2),ae("deck",r)("enable",j(8,5,o.inCombat$)===!0)("actionSelected",i)("selectedDeck",n)}}function EM(t,e){if(t&1&&(p(0,"div",15)(1,"div",3)(2,"div"),C(3,"Relics"),m(),p(4,"div"),C(5),m()(),p(6,"div",4),O(7,"app-deck",20),m()()),t&2){let r=e;x(5),ut(r.length),x(2),ae("deck",r)("spread",!0)}}function IM(t,e){if(t&1&&(p(0,"div",0),N(1,dM,8,3,"div",1),L(2,"async"),p(3,"div",2)(4,"div",3)(5,"div"),C(6,"Event card"),m()(),p(7,"div",4),N(8,fM,1,1,"app-card",5),L(9,"async"),m()(),N(10,hM,8,3,"div",6),L(11,"async"),N(12,pM,8,2,"div",7),L(13,"async"),p(14,"div",8),N(15,mM,7,2),L(16,"async"),N(17,gM,3,0),m(),N(18,vM,6,3,"div",9),L(19,"async"),N(20,yM,8,3,"div",10),L(21,"async"),p(22,"div",11),N(23,_M,7,2),L(24,"async"),m(),N(25,wM,7,6,"div",12),L(26,"async"),N(27,DM,6,3,"div",12),L(28,"async"),N(29,CM,9,6,"div",13),L(30,"async"),N(31,bM,9,7,"div",14),L(32,"async"),N(33,EM,8,3,"div",15),L(34,"async"),m()),t&2){let r,n,i,o,s,a,c,l,u,d,f,h,g,v=A(3);ae("ngClass",v.layout),x(),B(1,(r=j(2,14,v.dungeonDeck$))?1:-1,r),x(7),B(8,(n=j(9,16,v.eventCard$))?8:-1,n),x(2),B(10,(i=j(11,18,v.characterDeck$))?10:-1,i),x(2),B(12,(o=j(13,20,v.catacombDeck$))?12:-1,o),x(3),B(15,(s=j(16,22,v.enemy$))?15:17,s),x(3),B(18,(a=j(19,24,v.enemyActions$))?18:-1,a),x(2),B(20,(c=j(21,26,v.obtainedRelicDeck$))?20:-1,c),x(3),B(23,(l=j(24,28,v.hero$))?23:-1,l),x(2),B(25,(u=j(26,30,v.heroActionToPlay$))?25:-1,u),x(2),B(27,(d=j(28,32,v.heroActionToDiscard$))?27:-1,d),x(2),B(29,(f=j(30,34,v.goldDeck$))?29:-1,f),x(2),B(31,(h=j(32,36,v.aidDeck$))?31:-1,h),x(2),B(33,(g=j(34,38,v.relicDeck$))?33:-1,g)}}function SM(t,e){if(t&1&&(N(0,IM,35,40,"div",0),L(1,"async")),t&2){let r,n=A(2);B(0,(r=j(1,1,n.aidSelectedDeck$))?0:-1,r)}}function xM(t,e){if(t&1&&(N(0,SM,2,3),L(1,"async")),t&2){let r,n=A();B(0,(r=j(1,1,n.heroActionSelectedDeck$))?0:-1,r)}}var Zy=(()=>{let e=class e{constructor(n){this.gameFacade=n,this.layout="classic",this.status$=this.gameFacade.status$,this.aidDeck$=this.gameFacade.aidDeck$,this.aidSelectedDeck$=this.gameFacade.aidSelectedDeck$,this.catacombDeck$=this.gameFacade.catacombDeck$,this.combatAction$=this.gameFacade.combatAction$,this.characterDeck$=this.gameFacade.characterDeck$,this.dice$=this.gameFacade.dice$,this.dungeonDeck$=this.gameFacade.dungeonDeck$,this.enableGoldShortcuts$=this.status$.pipe(_(i=>i===ne.CRAWL_ACT)),this.enemy$=this.gameFacade.enemy$,this.enemyActions$=this.gameFacade.enemyAction$,this.eventDeck$=this.gameFacade.eventDeck$,this.eventCard$=this.gameFacade.eventCard$,this.goldDeck$=this.gameFacade.goldDeck$,this.goldSelectedDeck$=this.gameFacade.goldSelectedDeck$,this.hero$=this.gameFacade.hero$,this.heroActions$=this.gameFacade.heroAction$,this.heroActionToDiscard$=He([this.status$,this.heroActions$]).pipe(_(([i,o])=>i===ne.DISCARD_ACTION?o:void 0)),this.heroActionToPlay$=He([this.status$,this.heroActions$]).pipe(_(([i,o])=>i!==ne.DISCARD_ACTION?o:void 0)),this.heroActionSelectedDeck$=this.gameFacade.heroActionSelectedDeck$,this.relicDeck$=this.gameFacade.relicDeck$,this.obtainedRelicDeck$=this.gameFacade.obtainedRelicDeck$,this.inCombat$=this.status$.pipe(_(i=>i===ne.COMBAT))}onAidSelect(n){this.gameFacade.aidSelected(n)}onGoldSelect(n){this.gameFacade.goldSelected(n)}onHeroActionSelect(n){this.gameFacade.heroActionSelected(n)}};e.\u0275fac=function(i){return new(i||e)(X(Ct))},e.\u0275cmp=J({type:e,selectors:[["app-board"]],inputs:{layout:"layout"},standalone:!0,features:[ee],decls:2,vars:3,consts:[[1,"board",3,"ngClass"],[1,"dungeon","slot"],[1,"event","slot"],[1,"heading"],[1,"body"],[3,"card"],[1,"character","slot"],[1,"catacomb","slot"],[1,"enemy","slot"],[1,"enemy-action","slot"],[1,"obtained-relic","slot"],[1,"hero","slot"],[1,"hero-action","slot"],[1,"gold","slot"],[1,"aid","slot"],[1,"relic","slot"],[3,"deck","cover"],[3,"deck"],[3,"character"],[3,"deck","cover","spread"],[3,"deck","spread"],[1,"hp"],[3,"selectCards","deck","enable","selectedDeck","aidSelected"],[3,"selectCards","deck","shortcuts","selectedDeck"],[3,"selectCards","deck","enable","actionSelected","selectedDeck"]],template:function(i,o){if(i&1&&(N(0,xM,2,3),L(1,"async")),i&2){let s;B(0,(s=j(1,1,o.goldSelectedDeck$))?0:-1,s)}},dependencies:[_t,Oa,Gy,An,zy,Wy,qy,wi],styles:[".board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(5,20%);grid-template-rows:1fr 1fr 1fr max-content;color:#fff;width:100%;padding-left:var(--rd-menu-width);min-height:100vh;box-sizing:border-box}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;border:1px solid red;padding:.5rem}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{display:flex;flex-grow:1;justify-content:center;text-align:center;margin:.5rem 0}.board[_ngcontent-%COMP%]   .slot[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{display:flex;justify-content:center}.board[_ngcontent-%COMP%]   .slot.catacomb[_ngcontent-%COMP%]{grid-column-start:5}.board[_ngcontent-%COMP%]   .slot.enemy[_ngcontent-%COMP%]{grid-column-start:2}.board[_ngcontent-%COMP%]   .slot.enemy-action[_ngcontent-%COMP%], .board[_ngcontent-%COMP%]   .slot.hero-action[_ngcontent-%COMP%]{grid-column-end:span 3}.board[_ngcontent-%COMP%]   .slot.relic[_ngcontent-%COMP%]{grid-column-start:5}.board.compact[_ngcontent-%COMP%]{grid-template-columns:repeat(4,25%);grid-template-rows:repeat(3,33%)}.board.compact[_ngcontent-%COMP%]   .slot.dungeon[_ngcontent-%COMP%], .board.compact[_ngcontent-%COMP%]   .slot.character[_ngcontent-%COMP%], .board.compact[_ngcontent-%COMP%]   .slot.catacomb[_ngcontent-%COMP%], .board.compact[_ngcontent-%COMP%]   .slot.relic[_ngcontent-%COMP%]{display:none}.board.compact[_ngcontent-%COMP%]   .slot.enemy[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:1}.board.compact[_ngcontent-%COMP%]   .slot.enemy-action[_ngcontent-%COMP%]{grid-column-start:3;grid-row-start:1}.board.compact[_ngcontent-%COMP%]   .slot.gold[_ngcontent-%COMP%]{grid-column-start:1;grid-row-start:2;grid-row-end:span 2}.board.compact[_ngcontent-%COMP%]   .slot.hero[_ngcontent-%COMP%]{grid-column-start:2;grid-row-start:2}.board.compact[_ngcontent-%COMP%]   .slot.hero-action[_ngcontent-%COMP%]{grid-column-start:3;grid-row-start:2}.board.compact[_ngcontent-%COMP%]   .slot.aid[_ngcontent-%COMP%]{grid-column-start:2;grid-column-end:span 2;grid-row-start:3}.board.compact[_ngcontent-%COMP%]   .slot.obtained-relic[_ngcontent-%COMP%]{grid-column-start:4;grid-column-end:span 2;grid-row-start:3}"]});let t=e;return t})();var TM=["*"],qt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-popup"]],standalone:!0,features:[ee],ngContentSelectors:TM,decls:3,vars:0,consts:[[1,"popup-backdrop"],[1,"popup"]],template:function(i,o){i&1&&(_d(),p(0,"div",0)(1,"div",1),wd(2),m()())}});let t=e;return t})();var Yy=(()=>{let e=class e{constructor(){this.newGame=new _e}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-game-over-popup"]],outputs:{newGame:"newGame"},standalone:!0,features:[ee],decls:7,vars:0,consts:[["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-asterisk"],["d","M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),C(2,"Game over"),m(),p(3,"button",0),U("click",function(){return o.newGame.emit()}),we(),p(4,"svg",1),O(5,"path",2),m(),C(6," New game "),m()())},dependencies:[qt]});let t=e;return t})();var Ky=(()=>{let e=class e{constructor(){this.newGame=new _e}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-game-won-popup"]],outputs:{newGame:"newGame"},standalone:!0,features:[ee],decls:7,vars:0,consts:[["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-asterisk"],["d","M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),C(2,"You won!"),m(),p(3,"button",0),U("click",function(){return o.newGame.emit()}),we(),p(4,"svg",1),O(5,"path",2),m(),C(6," New game "),m()())},dependencies:[qt]});let t=e;return t})();var Qy=(()=>{let e=class e{constructor(n){this.menuFacade=n}onNewGame(){this.menuFacade.newGame()}onSettings(){this.menuFacade.settings()}onAbout(){this.menuFacade.about()}};e.\u0275fac=function(i){return new(i||e)(X(Qe))},e.\u0275cmp=J({type:e,selectors:[["app-main-menu"]],standalone:!0,features:[ee],decls:22,vars:0,consts:[[1,"main-menu"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-asterisk"],["d","M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-info-circle"],["d","M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"],["d","m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"]],template:function(i,o){i&1&&(p(0,"nav",0)(1,"ul")(2,"li")(3,"button",1),U("click",function(){return o.onNewGame()}),we(),p(4,"svg",2),O(5,"path",3),m(),Fe(),p(6,"span"),C(7,"New game"),m()()(),p(8,"li")(9,"button",1),U("click",function(){return o.onSettings()}),we(),p(10,"svg",4),O(11,"path",5)(12,"path",6),m(),Fe(),p(13,"span"),C(14,"Settings"),m()()(),p(15,"li")(16,"button",1),U("click",function(){return o.onAbout()}),we(),p(17,"svg",7),O(18,"path",8)(19,"path",9),m(),Fe(),p(20,"span"),C(21,"About"),m()()()()())},styles:[".main-menu[_ngcontent-%COMP%]{position:fixed;top:0;left:0;min-width:var(--rd-menu-width);bottom:0;z-index:9;background-color:var(--rd-bg-dark);overflow:hidden}.main-menu[_ngcontent-%COMP%]:hover{width:fit-content;box-shadow:var(--rd-shadow)}.main-menu[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline}.main-menu[_ngcontent-%COMP%]:hover   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:.5rem}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:.5em 1em .5em .5em;list-style-type:none;width:fit-content}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%;font-size:0}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{white-space:nowrap;background-color:transparent;color:#fff;border:1px solid transparent;border-radius:.25em;padding:.375em;width:100%;text-align:left}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{border-color:#fff}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin-right:-.5em}.main-menu[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}"]});let t=e;return t})();function MM(t,e){if(t&1){let r=De();p(0,"div",1)(1,"button",2),U("click",function(){pe(r);let i=A();return me(i.onLayout("classic"))}),we(),p(2,"svg",5),O(3,"path",6),m(),C(4," Use classic layout "),m(),Fe(),p(5,"button",2),U("click",function(){pe(r);let i=A();return me(i.onLayout("compact"))}),we(),p(6,"svg",7),O(7,"path",8),m(),C(8," Use compact layout "),m(),Fe(),p(9,"p"),C(10," Classic layout is how Ruba Dungeon was created. Compact layout hide decks that are not stricly necessary and allows to display the board game on smaller screens. "),m()()}if(t&2){let r=e;x(),lt("selected",r==="classic"),x(4),lt("selected",r==="compact")}}var Jy=(()=>{let e=class e{constructor(n){this.menuFacade=n,this.layout$=this.menuFacade.layout$}onClose(){this.menuFacade.settings()}onLayout(n){this.menuFacade.setLayout(n)}};e.\u0275fac=function(i){return new(i||e)(X(Qe))},e.\u0275cmp=J({type:e,selectors:[["app-settings-popup"]],standalone:!0,features:[ee],decls:11,vars:3,consts:[[1,"settings"],[1,"form-group"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-check-lg"],["d","M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-grid-3x3"],["d","M0 1.5A1.5 1.5 0 0 1 1.5 0h13A1.5 1.5 0 0 1 16 1.5v13a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 14.5zM1.5 1a.5.5 0 0 0-.5.5V5h4V1zM5 6H1v4h4zm1 4h4V6H6zm-1 1H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4v-4zm5 0v4h3.5a.5.5 0 0 0 .5-.5V11zm0-1h4V6h-4zm0-5h4V1.5a.5.5 0 0 0-.5-.5H11zm-1 0V1H6v4z"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-grid-3x2"],["d","M0 3.5A1.5 1.5 0 0 1 1.5 2h13A1.5 1.5 0 0 1 16 3.5v8a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 11.5zM1.5 3a.5.5 0 0 0-.5.5V7h4V3zM5 8H1v3.5a.5.5 0 0 0 .5.5H5zm1 0v4h4V8zm4-1V3H6v4zm1 1v4h3.5a.5.5 0 0 0 .5-.5V8zm0-1h4V3.5a.5.5 0 0 0-.5-.5H11z"]],template:function(i,o){if(i&1&&(p(0,"app-popup")(1,"h1"),C(2,"Settings"),m(),p(3,"div",0),N(4,MM,11,4,"div",1),L(5,"async"),m(),p(6,"div")(7,"button",2),U("click",function(){return o.onClose()}),we(),p(8,"svg",3),O(9,"path",4),m(),C(10," Close "),m()()()),i&2){let s;x(4),B(4,(s=j(5,1,o.layout$))?4:-1,s)}},dependencies:[_t,qt],styles:[".settings[_ngcontent-%COMP%]{text-align:left}.form-group[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid var(--rd-button-bg)}button.selected[_ngcontent-%COMP%], button.selected[_ngcontent-%COMP%]:hover{background-color:var(--rd-bg-dark);color:#fff}label[_ngcontent-%COMP%]{display:block}"]});let t=e;return t})();var Xy="0.10.0";function AM(t,e){if(t&1){let r=De();p(0,"button",6),U("click",function(){pe(r);let i=A();return me(i.onNewGame())}),we(),p(1,"svg",10),O(2,"path",11),m(),C(3," New game "),m()}}function RM(t,e){if(t&1){let r=De();p(0,"button",6),U("click",function(){pe(r);let i=A();return me(i.onClose())}),we(),p(1,"svg",7),O(2,"path",8)(3,"path",9),m(),C(4," Continue "),m()}}var e_=(()=>{let e=class e{constructor(n,i,o){this.gameFacade=n,this.menuFacade=i,this.tutorialFacade=o,this.GameStatus=ne,this.status$=this.gameFacade.status$,this.version=Xy}onNewGame(){this.gameFacade.start()}onClose(){this.menuFacade.about(!1)}onTutorial(){this.tutorialFacade.tutorialStart()}};e.\u0275fac=function(i){return new(i||e)(X(Ct),X(Qe),X(Wt))},e.\u0275cmp=J({type:e,selectors:[["app-about-popup"]],standalone:!0,features:[ee],decls:33,vars:4,consts:[[1,"version"],["href","https://radicalfiction.itch.io/ruba-dungeon"],["href","https://lucavicidomini.com"],["href","https://creativecommons.org/licenses/by-nc/4.0/deed.en"],["href","https://beavers.it/"],["type","button"],["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-dice-5"],["d","M13 1a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2zM3 0a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3z"],["d","M5.5 4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m0 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m-8 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m4-4a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-asterisk"],["d","M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),C(2,"Welcome to Ruba Dungeon! "),p(3,"span",0),C(4),m()(),p(5,"p"),C(6," A game by "),p(7,"a",1),C(8,"Diego Sacchetti and Ivan Preziosi"),m(),C(9," (aka the Rolling Papers Team). "),m(),p(10,"p"),C(11," Web version by "),p(12,"a",2),C(13,"Luca Vicidomini"),m(),C(14,". "),m(),p(15,"p"),C(16," Ruba Dungeon, its manual and the web version are released under the CC-BY-NC license for any personal, non-profit use. Any other type of use must be agreed with the authors. "),O(17,"br"),p(18,"a",3),C(19," Attribution-NonCommercial 4.0 International (CC BY-NC 4.0) "),m()(),p(20,"p"),C(21,"Special thank to "),p(22,"a",4),C(23,"Marco Giammetti"),m(),C(24,"."),m(),N(25,AM,4,0,"button",5),L(26,"async"),N(27,RM,5,0),p(28,"button",6),U("click",function(){return o.onTutorial()}),we(),p(29,"svg",7),O(30,"path",8)(31,"path",9),m(),C(32," Tutorial "),m()()),i&2&&(x(4),Bt("v.",o.version,""),x(21),B(25,j(26,2,o.status$)===o.GameStatus.GAME_INIT?25:27))},dependencies:[_t,qt],styles:[".version[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;color:#555}"]});let t=e;return t})();var t_=(()=>{let e=class e{constructor(){this.newGame=new _e}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-new-game-popup"]],outputs:{newGame:"newGame"},standalone:!0,features:[ee],decls:9,vars:0,consts:[["type","button",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-asterisk"],["d","M8 0a1 1 0 0 1 1 1v5.268l4.562-2.634a1 1 0 1 1 1 1.732L10 8l4.562 2.634a1 1 0 1 1-1 1.732L9 9.732V15a1 1 0 1 1-2 0V9.732l-4.562 2.634a1 1 0 1 1-1-1.732L6 8 1.438 5.366a1 1 0 0 1 1-1.732L7 6.268V1a1 1 0 0 1 1-1"]],template:function(i,o){i&1&&(p(0,"app-popup")(1,"h1"),C(2,"Are you sure you want to start a new game?"),m(),p(3,"p"),C(4,"Your current game will be lost."),m(),p(5,"button",0),U("click",function(){return o.newGame.emit()}),we(),p(6,"svg",1),O(7,"path",2),m(),C(8," New game "),m()())},dependencies:[qt]});let t=e;return t})();function n_(t,e=0){return OM(t)?Number(t):e}function OM(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function st(t){return t instanceof Nt?t.nativeElement:t}var ah;try{ah=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ah=!1}var r_=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?kv(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||ah)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(i){return new(i||e)(D(En))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ho;function NM(){if(Ho==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ho=!0}))}finally{Ho=Ho||!1}return Ho}function Uo(t){return NM()?t:!!t.capture}var sh;function kM(){if(sh==null){let t=typeof document<"u"?document.head:null;sh=!!(t&&(t.createShadowRoot||t.attachShadow))}return sh}function ch(t){if(kM()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Go(t){return t.composedPath?t.composedPath()[0]:t.target}var FM=new E("cdk-dir-doc",{providedIn:"root",factory:LM});function LM(){return w(Re)}var jM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function $M(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?jM.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var i_=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new _e,n){let i=n.body?n.body.dir:null,o=n.documentElement?n.documentElement.dir:null;this.value=$M(i||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(i){return new(i||e)(D(FM,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var BM=20,o_=(()=>{let e=class e{constructor(n,i,o){this._platform=n,this._change=new V,this._changeListener=s=>{this._change.next(s)},this._document=o,i.runOutsideAngular(()=>{if(n.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:i,height:o}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+o,right:n.left+i,height:o,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,i=this._getWindow(),o=n.documentElement,s=o.getBoundingClientRect(),a=-s.top||n.body.scrollTop||i.scrollY||o.scrollTop||0,c=-s.left||n.body.scrollLeft||i.scrollX||o.scrollLeft||0;return{top:a,left:c}}change(n=BM){return n>0?this._change.pipe(yl(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(i){return new(i||e)(D(r_),D(be),D(Re,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var s_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=gt({});let t=e;return t})();function a_(t){return t.buttons===0||t.detail===0}function c_(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}function gh(t,e,r){for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];i?t.setProperty(n,i,r?.has(n)?"important":""):t.removeProperty(n)}return t}function Di(t,e){let r=e?"":"none";gh(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":r,"-ms-user-select":r,"-webkit-user-select":r,"-moz-user-select":r})}function l_(t,e,r){gh(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},r)}function qc(t,e){return e&&e!="none"?t+" "+e:t}function u_(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Zc(e.left,e.top)}function Zc(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function vh(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function uh(t,e,r){let{top:n,bottom:i,left:o,right:s}=t;return r>=n&&r<=i&&e>=o&&e<=s}function Wo(t,e,r){t.top+=e,t.bottom=t.top+t.height,t.left+=r,t.right=t.left+t.width}function d_(t,e,r,n){let{top:i,right:o,bottom:s,left:a,width:c,height:l}=t,u=c*e,d=l*e;return n>i-d&&n<s+d&&r>a-u&&r<o+u}var Yc=class{constructor(e){this._document=e,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(r=>{this.positions.set(r,{scrollPosition:{top:r.scrollTop,left:r.scrollLeft},clientRect:vh(r)})})}handleScroll(e){let r=Go(e),n=this.positions.get(r);if(!n)return null;let i=n.scrollPosition,o,s;if(r===this._document){let l=this.getViewportScrollPosition();o=l.top,s=l.left}else o=r.scrollTop,s=r.scrollLeft;let a=i.top-o,c=i.left-s;return this.positions.forEach((l,u)=>{l.clientRect&&r!==u&&r.contains(u)&&Wo(l.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function b_(t){let e=t.cloneNode(!0),r=e.querySelectorAll("[id]"),n=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<r.length;i++)r[i].removeAttribute("id");return n==="canvas"?p_(t,e):(n==="input"||n==="select"||n==="textarea")&&h_(t,e),f_("canvas",t,e,p_),f_("input, textarea, select",t,e,h_),e}function f_(t,e,r,n){let i=e.querySelectorAll(t);if(i.length){let o=r.querySelectorAll(t);for(let s=0;s<i.length;s++)n(i[s],o[s])}}var UM=0;function h_(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${UM++}`)}function p_(t,e){let r=e.getContext("2d");if(r)try{r.drawImage(t,0,0)}catch{}}function E_(t,e){let r=t.rootNodes;if(r.length===1&&r[0].nodeType===e.ELEMENT_NODE)return r[0];let n=e.createElement("div");return r.forEach(i=>n.appendChild(i)),n}function m_(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function GM(t){let e=getComputedStyle(t),r=lh(e,"transition-property"),n=r.find(a=>a==="transform"||a==="all");if(!n)return 0;let i=r.indexOf(n),o=lh(e,"transition-duration"),s=lh(e,"transition-delay");return m_(o[i])+m_(s[i])}function lh(t,e){return t.getPropertyValue(e).split(",").map(n=>n.trim())}var zM=new Set(["position"]),dh=class{constructor(e,r,n,i,o,s,a,c,l){this._document=e,this._rootElement=r,this._direction=n,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return GM(this._preview)}addEventListener(e,r){this._preview.addEventListener(e,r)}removeEventListener(e,r){this._preview.removeEventListener(e,r)}_createPreview(){let e=this._previewTemplate,r=this._previewClass,n=e?e.template:null,i;if(n&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(n,e.context);s.detectChanges(),i=E_(s,this._document),this._previewEmbeddedView=s,e.matchSize?u_(i,o):i.style.transform=Zc(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=b_(this._rootElement),u_(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return gh(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},zM),Di(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),r&&(Array.isArray(r)?r.forEach(o=>i.classList.add(o)):i.classList.add(r)),i}},g_=Uo({passive:!0}),Gc=Uo({passive:!1}),v_=Uo({passive:!1,capture:!0}),WM=800,y_=new Set(["position"]),fh=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(r=>Di(r,e)))}constructor(e,r,n,i,o,s){this._config=r,this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new V,this._pointerMoveSubscription=Ce.EMPTY,this._pointerUpSubscription=Ce.EMPTY,this._scrollSubscription=Ce.EMPTY,this._resizeSubscription=Ce.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new V,this.started=new V,this.released=new V,this.ended=new V,this.entered=new V,this.exited=new V,this.dropped=new V,this.moved=this._moveEvents,this._pointerDown=a=>{if(this.beforeStarted.next(),this._handles.length){let c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&this._initializeDragSequence(c,a)}else this.disabled||this._initializeDragSequence(this._rootElement,a)},this._pointerMove=a=>{let c=this._getPointerPositionOnPage(a);if(!this._hasStartedDragging){let u=Math.abs(c.x-this._pickupPositionOnPage.x),d=Math.abs(c.y-this._pickupPositionOnPage.y);if(u+d>=this._config.dragStartThreshold){let h=Date.now()>=this._dragStartTime+this._getDragStartDelay(a),g=this._dropContainer;if(!h){this._endDragSequence(a);return}(!g||!g.isDragging()&&!g.isReceiving())&&(a.cancelable&&a.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(a)))}return}a.cancelable&&a.preventDefault();let l=this._getConstrainedPointerPosition(c);if(this._hasMoved=!0,this._lastKnownPointerPosition=c,this._updatePointerDirectionDelta(l),this._dropContainer)this._updateActiveDropContainer(l,c);else{let u=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,d=this._activeTransform;d.x=l.x-u.x+this._passiveTransform.x,d.y=l.y-u.y+this._passiveTransform.y,this._applyRootElementTransform(d.x,d.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:l,event:a,distance:this._getDragDistance(l),delta:this._pointerDirectionDelta})})},this._pointerUp=a=>{this._endDragSequence(a)},this._nativeDragStart=a=>{if(this._handles.length){let c=this._getTargetHandle(a);c&&!this._disabledHandles.has(c)&&!this.disabled&&a.preventDefault()}else this.disabled||a.preventDefault()},this.withRootElement(e).withParent(r.parentDragRef||null),this._parentPositions=new Yc(n),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(n=>st(n)),this._handles.forEach(n=>Di(n,this.disabled)),this._toggleNativeDragInteractions();let r=new Set;return this._disabledHandles.forEach(n=>{this._handles.indexOf(n)>-1&&r.add(n)}),this._disabledHandles=r,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let r=st(e);return r!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{r.addEventListener("mousedown",this._pointerDown,Gc),r.addEventListener("touchstart",this._pointerDown,g_),r.addEventListener("dragstart",this._nativeDragStart,Gc)}),this._initialTransform=void 0,this._rootElement=r),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?st(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Di(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Di(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",w_,v_)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let r=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(r),dropPoint:r,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){zo(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let r=this._getShadowRoot(),n=this._dropContainer;if(r&&this._ngZone.runOutsideAngular(()=>{r.addEventListener("selectstart",w_,v_)}),n){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new dh(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(o,r)),l_(i,!1,y_),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}_initializeDragSequence(e,r){this._parentDragRef&&r.stopPropagation();let n=this.isDragging(),i=zo(r),o=!i&&r.button!==0,s=this._rootElement,a=Go(r),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+WM>Date.now(),l=i?c_(r):a_(r);if(a&&a.draggable&&r.type==="mousedown"&&r.preventDefault(),n||o||c||l)return;if(this._handles.length){let f=s.style;this._rootElementTapHighlight=f.webkitTapHighlightColor||"",f.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(f=>this._updateOnScroll(f)),this._boundaryElement&&(this._boundaryRect=vh(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,r);let d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(r);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,r)}_cleanupDragArtifacts(e){l_(this._rootElement,!0,y_),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let r=this._dropContainer,n=r.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=r._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:r,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),r.drop(this,n,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:r},{x:n,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,r);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,r)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,r,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,r,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,r):this._applyPreviewTransform(e-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let r=this._preview.getTransitionDuration();return r===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(n=>{let i=s=>{(!s||Go(s)===this._preview&&s.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),n(),clearTimeout(o))},o=setTimeout(i,r*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,r=e?e.template:null,n;return r?(this._placeholderRef=e.viewContainer.createEmbeddedView(r,e.context),this._placeholderRef.detectChanges(),n=E_(this._placeholderRef,this._document)):n=b_(this._rootElement),n.style.pointerEvents="none",n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,r,n){let i=r===this._rootElement?null:r,o=i?i.getBoundingClientRect():e,s=zo(n)?n.targetTouches[0]:n,a=this._getViewportScrollPosition(),c=s.pageX-o.left-a.left,l=s.pageY-o.top-a.top;return{x:o.left-e.left+c,y:o.top-e.top+l}}_getPointerPositionOnPage(e){let r=this._getViewportScrollPosition(),n=zo(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-r.left,o=n.pageY-r.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let r=this._dropContainer?this._dropContainer.lockAxis:null,{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||r==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||r==="y")&&(n=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),u=a.top+s,d=a.bottom-(l-s),f=a.left+o,h=a.right-(c-o);n=__(n,f,h),i=__(i,u,d)}return{x:n,y:i}}_updatePointerDirectionDelta(e){let{x:r,y:n}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(r-o.x),a=Math.abs(n-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=r>o.x?1:-1,o.x=r),a>this._config.pointerDirectionChangeThreshold&&(i.y=n>o.y?1:-1,o.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Di(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Gc),e.removeEventListener("touchstart",this._pointerDown,g_),e.removeEventListener("dragstart",this._nativeDragStart,Gc)}_applyRootElementTransform(e,r){let n=Zc(e,r),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=qc(n,this._initialTransform)}_applyPreviewTransform(e,r){let n=this._previewTemplate?.template?void 0:this._initialTransform,i=Zc(e,r);this._preview.setTransform(qc(i,n))}_getDragDistance(e){let r=this._pickupPositionOnPage;return r?{x:e.x-r.x,y:e.y-r.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:r}=this._passiveTransform;if(e===0&&r===0||this.isDragging()||!this._boundaryElement)return;let n=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||n.width===0&&n.height===0)return;let o=i.left-n.left,s=n.right-i.right,a=i.top-n.top,c=n.bottom-i.bottom;i.width>n.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>n.height?(a>0&&(r+=a),c>0&&(r-=c)):r=0,(e!==this._passiveTransform.x||r!==this._passiveTransform.y)&&this.setFreeDragPosition({y:r,x:e})}_getDragStartDelay(e){let r=this.dragStartDelay;return typeof r=="number"?r:zo(e)?r.touch:r?r.mouse:0}_updateOnScroll(e){let r=this._parentPositions.handleScroll(e);if(r){let n=Go(e);this._boundaryRect&&n!==this._boundaryElement&&n.contains(this._boundaryElement)&&Wo(this._boundaryRect,r.top,r.left),this._pickupPositionOnPage.x+=r.left,this._pickupPositionOnPage.y+=r.top,this._dropContainer||(this._activeTransform.x-=r.left,this._activeTransform.y-=r.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=ch(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,r){let n=this._previewContainer||"global";if(n==="parent")return e;if(n==="global"){let i=this._document;return r||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return st(n)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(e){return this._handles.find(r=>e.target&&(e.target===r||r.contains(e.target)))}};function __(t,e,r){return Math.max(e,Math.min(r,t))}function zo(t){return t.type[0]==="t"}function w_(t){t.preventDefault()}function qM(t,e,r){let n=D_(e,t.length-1),i=D_(r,t.length-1);if(n===i)return;let o=t[n],s=i<n?-1:1;for(let a=n;a!==i;a+=s)t[a]=t[a+s];t[i]=o}function D_(t,e){return Math.max(0,Math.min(e,t))}var hh=class{constructor(e,r){this._element=e,this._dragDropRegistry=r,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(e){this.withItems(e)}sort(e,r,n,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,r,n,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",c=o.findIndex(b=>b.drag===e),l=o[s],u=o[c].clientRect,d=l.clientRect,f=c>s?1:-1,h=this._getItemOffsetPx(u,d,f),g=this._getSiblingOffsetPx(c,o,f),v=o.slice();return qM(o,c,s),o.forEach((b,M)=>{if(v[M]===b)return;let z=b.drag===e,ve=z?h:g,G=z?e.getPlaceholderElement():b.drag.getRootElement();b.offset+=ve,a?(G.style.transform=qc(`translate3d(${Math.round(b.offset)}px, 0, 0)`,b.initialTransform),Wo(b.clientRect,0,ve)):(G.style.transform=qc(`translate3d(0, ${Math.round(b.offset)}px, 0)`,b.initialTransform),Wo(b.clientRect,ve,0))}),this._previousSwap.overlaps=uh(d,r,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:s}}enter(e,r,n,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,r,n):i,s=this._activeDraggables,a=s.indexOf(e),c=e.getPlaceholderElement(),l=s[o];if(l===e&&(l=s[o+1]),!l&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(r,n)&&(l=s[0]),a>-1&&s.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){let u=l.getRootElement();u.parentElement.insertBefore(c,u),s.splice(o,0,e)}else st(this._element).appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables.forEach(e=>{let r=e.getRootElement();if(r){let n=this._itemPositions.find(i=>i.drag===e)?.initialTransform;r.style.transform=n||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(n=>n.drag===e)}updateOnScroll(e,r){this._itemPositions.forEach(({clientRect:n})=>{Wo(n,e,r)}),this._itemPositions.forEach(({drag:n})=>{this._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(r=>{let n=r.getVisibleElement();return{drag:r,offset:0,initialTransform:n.style.transform||"",clientRect:vh(n)}}).sort((r,n)=>e?r.clientRect.left-n.clientRect.left:r.clientRect.top-n.clientRect.top)}_getItemOffsetPx(e,r,n){let i=this.orientation==="horizontal",o=i?r.left-e.left:r.top-e.top;return n===-1&&(o+=i?r.width-e.width:r.height-e.height),o}_getSiblingOffsetPx(e,r,n){let i=this.orientation==="horizontal",o=r[e].clientRect,s=r[e+n*-1],a=o[i?"width":"height"]*n;if(s){let c=i?"left":"top",l=i?"right":"bottom";n===-1?a-=s.clientRect[c]-o[l]:a+=o[c]-s.clientRect[l]}return a}_shouldEnterAsFirstChild(e,r){if(!this._activeDraggables.length)return!1;let n=this._itemPositions,i=this.orientation==="horizontal";if(n[0].drag!==this._activeDraggables[0]){let s=n[n.length-1].clientRect;return i?e>=s.right:r>=s.bottom}else{let s=n[0].clientRect;return i?e<=s.left:r<=s.top}}_getItemIndexFromPointerPosition(e,r,n,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let l=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return o?r>=Math.floor(c.left)&&r<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},C_=.05,I_=.05,bt=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(bt||{}),et=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(et||{}),ph=class{constructor(e,r,n,i,o){this._dragDropRegistry=r,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new V,this.entered=new V,this.exited=new V,this.dropped=new V,this.sorted=new V,this.receivingStarted=new V,this.receivingStopped=new V,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Ce.EMPTY,this._verticalScrollDirection=bt.NONE,this._horizontalScrollDirection=et.NONE,this._stopScrollTimers=new V,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),vl(0,ls).pipe(je(this._stopScrollTimers)).subscribe(()=>{let s=this._scrollNode,a=this.autoScrollStep;this._verticalScrollDirection===bt.UP?s.scrollBy(0,-a):this._verticalScrollDirection===bt.DOWN&&s.scrollBy(0,a),this._horizontalScrollDirection===et.LEFT?s.scrollBy(-a,0):this._horizontalScrollDirection===et.RIGHT&&s.scrollBy(a,0)})},this.element=st(e),this._document=n,this.withScrollableParents([this.element]),r.registerDropContainer(this),this._parentPositions=new Yc(n),this._sortStrategy=new hh(this.element,r),this._sortStrategy.withSortPredicate((s,a)=>this.sortPredicate(s,a,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,r,n,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,r,n,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,r,n,i,o,s,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:r,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(e){let r=this._draggables;return this._draggables=e,e.forEach(n=>n._withDropContainer(this)),this.isDragging()&&(r.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._sortStrategy.direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._sortStrategy.orientation=e,this}withScrollableParents(e){let r=st(this.element);return this._scrollableElements=e.indexOf(r)===-1?[r,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,r,n,i){if(this.sortingDisabled||!this._domRect||!d_(this._domRect,C_,r,n))return;let o=this._sortStrategy.sort(e,r,n,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,r){if(this.autoScrollDisabled)return;let n,i=bt.NONE,o=et.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||n||d_(s.clientRect,C_,e,r)&&([i,o]=ZM(a,s.clientRect,this._sortStrategy.direction,e,r),(i||o)&&(n=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};i=S_(c,r),o=x_(c,e),n=window}n&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||n!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=n,(i||o)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=st(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let e=st(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(e).clientRect}_reset(){this._isDragging=!1;let e=st(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(r=>r._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(e,r){return this._domRect!=null&&uh(this._domRect,e,r)}_getSiblingContainerFromPosition(e,r,n){return this._siblings.find(i=>i._canReceive(e,r,n))}_canReceive(e,r,n){if(!this._domRect||!uh(this._domRect,r,n)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(r,n);if(!i)return!1;let o=st(this.element);return i===o||o.contains(i)}_startReceiving(e,r){let n=this._activeSiblings;!n.has(e)&&r.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(n.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:r}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let r=this._parentPositions.handleScroll(e);r&&this._sortStrategy.updateOnScroll(r.top,r.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=ch(st(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(r=>r.isDragging());this._siblings.forEach(r=>r._startReceiving(this,e))}};function S_(t,e){let{top:r,bottom:n,height:i}=t,o=i*I_;return e>=r-o&&e<=r+o?bt.UP:e>=n-o&&e<=n+o?bt.DOWN:bt.NONE}function x_(t,e){let{left:r,right:n,width:i}=t,o=i*I_;return e>=r-o&&e<=r+o?et.LEFT:e>=n-o&&e<=n+o?et.RIGHT:et.NONE}function ZM(t,e,r,n,i){let o=S_(e,i),s=x_(e,n),a=bt.NONE,c=et.NONE;if(o){let l=t.scrollTop;o===bt.UP?l>0&&(a=bt.UP):t.scrollHeight-l>t.clientHeight&&(a=bt.DOWN)}if(s){let l=t.scrollLeft;r==="rtl"?s===et.RIGHT?l<0&&(c=et.RIGHT):t.scrollWidth+l>t.clientWidth&&(c=et.LEFT):s===et.LEFT?l>0&&(c=et.LEFT):t.scrollWidth-l>t.clientWidth&&(c=et.RIGHT)}return[a,c]}var zc=Uo({passive:!1,capture:!0}),Wc=new Set,YM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[ee],decls:0,vars:0,template:function(i,o){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0});let t=e;return t})(),KM=(()=>{let e=class e{constructor(n,i){this._ngZone=n,this._appRef=w(Yn),this._environmentInjector=w(it),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=o=>o.isDragging(),this.pointerMove=new V,this.pointerUp=new V,this.scroll=new V,this._preventDefaultWhileDragging=o=>{this._activeDragInstances.length>0&&o.preventDefault()},this._persistentTouchmoveListener=o=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&o.preventDefault(),this.pointerMove.next(o))},this._document=i}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zc)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zc)}startDragging(n,i){if(!(this._activeDragInstances.indexOf(n)>-1)&&(this._loadResets(),this._activeDragInstances.push(n),this._activeDragInstances.length===1)){let o=i.type.startsWith("touch");this._globalListeners.set(o?"touchend":"mouseup",{handler:s=>this.pointerUp.next(s),options:!0}).set("scroll",{handler:s=>this.scroll.next(s),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zc}),o||this._globalListeners.set("mousemove",{handler:s=>this.pointerMove.next(s),options:zc}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((s,a)=>{this._document.addEventListener(a,s.handler,s.options)})})}}stopDragging(n){let i=this._activeDragInstances.indexOf(n);i>-1&&(this._activeDragInstances.splice(i,1),this._activeDragInstances.length===0&&this._clearGlobalListeners())}isDragging(n){return this._activeDragInstances.indexOf(n)>-1}scrolled(n){let i=[this.scroll];return n&&n!==this._document&&i.push(new W(o=>this._ngZone.runOutsideAngular(()=>{let a=c=>{this._activeDragInstances.length&&o.next(c)};return n.addEventListener("scroll",a,!0),()=>{n.removeEventListener("scroll",a,!0)}}))),tt(...i)}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((n,i)=>{this._document.removeEventListener(i,n.handler,n.options)}),this._globalListeners.clear()}_loadResets(){if(!Wc.has(this._appRef)){Wc.add(this._appRef);let n=Dv(YM,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Wc.delete(this._appRef),Wc.size===0&&n.destroy()})}}};e.\u0275fac=function(i){return new(i||e)(D(be),D(Re))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),QM={dragStartThreshold:5,pointerDirectionChangeThreshold:5},T_=(()=>{let e=class e{constructor(n,i,o,s){this._document=n,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s}createDrag(n,i=QM){return new fh(n,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(n){return new ph(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};e.\u0275fac=function(i){return new(i||e)(D(Re),D(be),D(o_),D(KM))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mh=new E("CDK_DRAG_PARENT");var M_=new E("CdkDragHandle"),A_=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}constructor(n,i){this.element=n,this._parentDrag=i,this._stateChanges=new V,this._disabled=!1,i?._addHandle(this)}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}};e.\u0275fac=function(i){return new(i||e)(X(Nt),X(mh,12))},e.\u0275dir=rn({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[Ae.HasDecoratorInputTransform,"cdkDragHandleDisabled","disabled",Qi]},standalone:!0,features:[Ki([{provide:M_,useExisting:e}]),Vr]});let t=e;return t})(),JM=new E("CDK_DRAG_CONFIG"),XM="cdk-drag",eA=new E("CdkDropList"),R_=(()=>{let e=class e{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}constructor(n,i,o,s,a,c,l,u,d,f,h){this.element=n,this.dropContainer=i,this._ngZone=s,this._viewContainerRef=a,this._dir=l,this._changeDetectorRef=d,this._selfHandle=f,this._parentDrag=h,this._destroyed=new V,this._handles=new Te([]),this.started=new _e,this.released=new _e,this.ended=new _e,this.entered=new _e,this.exited=new _e,this.dropped=new _e,this.moved=new W(g=>{let v=this._dragRef.moved.pipe(_(b=>({source:this,pointerPosition:b.pointerPosition,event:b.event,delta:b.delta,distance:b.distance}))).subscribe(g);return()=>{v.unsubscribe()}}),this._dragRef=u.createDrag(n,{dragStartThreshold:c&&c.dragStartThreshold!=null?c.dragStartThreshold:5,pointerDirectionChangeThreshold:c&&c.pointerDirectionChangeThreshold!=null?c.pointerDirectionChangeThreshold:5,zIndex:c?.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),c&&this._assignDefaults(c),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ze(1),je(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(n){let i=n.rootElementSelector,o=n.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),o&&!o.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let n=e._dragInstances.indexOf(this);n>-1&&e._dragInstances.splice(n,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let i=this._handles.getValue();i.push(n),this._handles.next(i)}_removeHandle(n){let i=this._handles.getValue(),o=i.indexOf(n);o>-1&&(i.splice(o,1),this._handles.next(i))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,i=n;this.rootElementSelector&&(i=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):st(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let i=this._dir,o=this.dragStartDelay,s=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,a=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.dragStartDelay=typeof o=="object"&&o?o:n_(o),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(s).withPreviewTemplate(a).withPreviewContainer(this.previewContainer||"global"),i&&n.withDirection(i.value)}}),n.beforeStarted.pipe(Ze(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(XM)){n.withParent(e._dragInstances.find(o=>o.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(n){n.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),n.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),n.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),n.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(n){let{lockAxis:i,dragStartDelay:o,constrainPosition:s,previewClass:a,boundaryElement:c,draggingDisabled:l,rootElementSelector:u,previewContainer:d}=n;this.disabled=l??!1,this.dragStartDelay=o||0,i&&(this.lockAxis=i),s&&(this.constrainPosition=s),a&&(this.previewClass=a),c&&(this.boundaryElement=c),u&&(this.rootElementSelector=u),d&&(this.previewContainer=d)}_setupHandlesListener(){this._handles.pipe(Q(n=>{let i=n.map(o=>o.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),Ue(n=>tt(...n.map(i=>i._stateChanges.pipe(Dr(i))))),je(this._destroyed)).subscribe(n=>{let i=this._dragRef,o=n.element.nativeElement;n.disabled?i.disableHandle(o):i.enableHandle(o)})}};e._dragInstances=[],e.\u0275fac=function(i){return new(i||e)(X(Nt),X(eA,12),X(Re),X(be),X(Zn),X(JM,8),X(i_,8),X(T_),X(ln),X(M_,10),X(mh,12))},e.\u0275dir=rn({type:e,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,o){i&2&&lt("cdk-drag-disabled",o.disabled)("cdk-drag-dragging",o._dragRef.isDragging())},inputs:{data:[Ae.None,"cdkDragData","data"],lockAxis:[Ae.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[Ae.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[Ae.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[Ae.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[Ae.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[Ae.HasDecoratorInputTransform,"cdkDragDisabled","disabled",Qi],constrainPosition:[Ae.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[Ae.None,"cdkDragPreviewClass","previewClass"],previewContainer:[Ae.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Ki([{provide:mh,useExisting:e}]),Vr,Wn]});let t=e;return t})();var O_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=vt({type:e}),e.\u0275inj=gt({providers:[T_],imports:[s_]});let t=e;return t})();function nA(t,e){if(t&1){let r=De();p(0,"button",8),U("click",function(){pe(r);let i=A(2);return me(i.onExitConfirm())}),we(),p(1,"svg",9),O(2,"path",10)(3,"path",11),m(),C(4," Are you sure? "),m()}}function rA(t,e){if(t&1){let r=De();p(0,"button",12),U("click",function(){pe(r);let i=A(2);return me(i.onExit())}),C(1," Exit tutorial "),m()}}function iA(t,e){if(t&1){let r=De();p(0,"div",1)(1,"div",2),we(),p(2,"svg",3),O(3,"path",4),m()(),Fe(),O(4,"div",5),N(5,nA,5,0,"button",6)(6,rA,2,0),p(7,"button",7),U("click",function(){pe(r);let i=A();return me(i.onNext())}),C(8," Next "),m()()}if(t&2){let r=e,n=A();lt("has-action",r.e),x(4),ae("innerHTML",n.format(r),ga),x(),B(5,n.confirmExit?5:6),x(2),ae("disabled",r.e)}}var N_=(()=>{let e=class e{constructor(n){this.tutorialFacade=n,this.confirmExit=!1,this.step$=this.tutorialFacade.step$}format(n){let{m:i}=n;return(Array.isArray(i)?i:[i]).map(s=>typeof s=="object"&&"content"in s?`<p>${s.content}</p>`:`<p>${s}</p>`).join("")}onNext(){this.confirmExit=!1,this.tutorialFacade.tutorialNext()}onExit(){this.confirmExit=!0}onExitConfirm(){this.confirmExit=!1,this.tutorialFacade.tutorialExit()}};e.\u0275fac=function(i){return new(i||e)(X(Wt))},e.\u0275cmp=J({type:e,selectors:[["app-tutorial-popup"]],standalone:!0,features:[ee],decls:2,vars:3,consts:[["cdkDrag","",1,"popup",3,"has-action"],["cdkDrag","",1,"popup"],["cdkDragHandle","",1,"drag-handle"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-arrows-move"],["fill-rule","evenodd","d","M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10M.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8"],[3,"innerHTML"],["type","button","id","tutorial-exit-confirm"],["type","button","id","tutorial-next",3,"click","disabled"],["type","button","id","tutorial-exit-confirm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-exclamation-triangle"],["d","M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017.2.2 0 0 1-.054-.06.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"],["d","M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"],["type","button","id","tutorial-exit",3,"click"]],template:function(i,o){if(i&1&&(N(0,iA,9,5,"div",0),L(1,"async")),i&2){let s;B(0,(s=j(1,1,o.step$))?0:-1,s)}},dependencies:[_t,O_,R_,A_],styles:[".popup[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%);width:fit-content;max-width:50%;margin:0;z-index:255;opacity:.75;transition:opacity .25s ease-out}.popup[_ngcontent-%COMP%]:not(.has-action){opacity:1}.popup[_ngcontent-%COMP%]:hover{opacity:1}.popup[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;top:0;right:0;left:0;padding:.5rem .5rem 0 0;text-align:right;cursor:move}.popup[_ngcontent-%COMP%]   #tutorial-exit-confirm[_ngcontent-%COMP%]{color:#fa0;border-color:#fa0}.popup[_ngcontent-%COMP%]   #tutorial-exit[_ngcontent-%COMP%]:not(:hover), .popup[_ngcontent-%COMP%]   #tutorial-exit-confirm[_ngcontent-%COMP%]:not(:hover){border-color:var(--rd-button-bg);background-color:#fff}.popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled, .popup[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled:hover{border-color:var(--rd-button-bg);background-color:var(--rd-button-bg-hover);color:var(--rd-button-bg)}"]});let t=e;return t})();function oA(t,e){t&1&&(p(0,"div"),C(1,"Error: "),p(2,"samp"),C(3),L(4,"json"),m()()),t&2&&(x(3),ut(j(4,1,e)))}function sA(t,e){t&1&&O(0,"app-about-popup")}function aA(t,e){if(t&1){let r=De();p(0,"app-game-over-popup",2),U("newGame",function(){pe(r);let i=A();return me(i.onNewGame())}),m()}}function cA(t,e){if(t&1){let r=De();p(0,"app-game-won-popup",2),U("newGame",function(){pe(r);let i=A();return me(i.onNewGame())}),m()}}function lA(t,e){if(t&1){let r=De();p(0,"app-new-game-popup",2),U("newGame",function(){pe(r);let i=A();return me(i.onNewGame())}),m()}}function uA(t,e){t&1&&O(0,"app-settings-popup")}function dA(t,e){t&1&&O(0,"app-board",1),t&2&&ae("layout",e)}var k_=(()=>{let e=class e{constructor(n,i){this.gameFacade=n,this.menuFacade=i,this.GameStatus=ne,this.layout$=this.menuFacade.layout$,this.error$=this.gameFacade.error$,this.status$=this.gameFacade.status$,this.showAbout$=this.menuFacade.about$,this.showGameOver$=this.gameFacade.status$.pipe(_(o=>o===ne.GAME_OVER)),this.showGameWon$=this.gameFacade.status$.pipe(_(o=>o===ne.GAME_WON)),this.showNewGame$=this.menuFacade.newGame$,this.showSettings$=this.menuFacade.settings$}onNewGame(){this.gameFacade.start()}};e.\u0275fac=function(i){return new(i||e)(X(Ct),X(Qe))},e.\u0275cmp=J({type:e,selectors:[["app-game"]],standalone:!0,features:[ee],decls:18,vars:21,consts:[[1,"game"],[3,"layout"],[3,"newGame"]],template:function(i,o){if(i&1&&(N(0,oA,5,3,"div"),L(1,"async"),p(2,"div",0),N(3,sA,1,0,"app-about-popup"),L(4,"async"),N(5,aA,1,0,"app-game-over-popup"),L(6,"async"),N(7,cA,1,0,"app-game-won-popup"),L(8,"async"),N(9,lA,1,0,"app-new-game-popup"),L(10,"async"),N(11,uA,1,0,"app-settings-popup"),L(12,"async"),N(13,dA,1,1,"app-board",1),L(14,"async"),O(15,"app-action-bar")(16,"app-main-menu")(17,"app-tutorial-popup"),m()),i&2){let s,a;B(0,(s=j(1,7,o.error$))?0:-1,s),x(3),B(3,j(4,9,o.showAbout$)?3:-1),x(2),B(5,j(6,11,o.showGameOver$)?5:-1),x(2),B(7,j(8,13,o.showGameWon$)?7:-1),x(2),B(9,j(10,15,o.showNewGame$)?9:-1),x(2),B(11,j(12,17,o.showSettings$)?11:-1),x(2),B(13,(a=j(14,19,o.layout$))?13:-1,a)}},dependencies:[_t,Nv,e_,Uy,Zy,Yy,Ky,Qy,t_,Jy,N_],styles:['.game[_ngcontent-%COMP%]{background:url("./media/engin-akyurt-HEMIBJ8QQuA-unsplash-S6L5MUAL.jpg") repeat;background-size:100%}']});let t=e;return t})();var P_=(()=>{let e=class e{constructor(){this.KEY_SETTINGS="rb-settings",this.settings=this.loadFromStorage()}clearStorage(){localStorage.clear()}loadFromStorage(){let n=localStorage.getItem(this.KEY_SETTINGS);return n?JSON.parse(n):{}}saveToStorage(){localStorage.setItem(this.KEY_SETTINGS,JSON.stringify(this.settings))}load(n){return this.settings[n]}save(n,i){this.settings[n]!==i&&(this.settings[n]=i,this.saveToStorage())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var F_=(()=>{let e=class e{ngrxOnInitEffects(){return ih()}constructor(n,i,o){this.actions$=n,this.menuFacade=i,this.storageService=o,this.KEY_LAYOUT="layout",this.ifsetting=(s,a)=>{let c=this.storageService.load(s);c&&a(c)},this.init$=ce(()=>this.actions$.pipe(le(ih),Q(()=>this.ifsetting(this.KEY_LAYOUT,s=>this.menuFacade.setLayout(s)))),{dispatch:!1}),this.setLayout$=ce(()=>this.actions$.pipe(le(_i),Q(({layout:s})=>this.storageService.save(this.KEY_LAYOUT,s))),{dispatch:!1})}};e.\u0275fac=function(i){return new(i||e)(D(ii),D(Qe),D(P_))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();var L_=[{m:["Welcome to Ruba Dungeon, a solitaire dungeon crawler-style card game.","I will teach you the basics of the game."]},{m:"This tutorial covers the rules for EASY mode, but it will highlight differences with NORMAL mode."},{m:"Note: use the icon on top right of this window to drag it around and have a better view of the game board."},{m:"Let\u2019s start the game by setting up the board\u2026"},{m:"I picked a random card among Jacks and Knights. This will be the Hero. The Hero starts with 12 hit points.",h:".hero.slot"},{m:"All remaining Jacks, Knights and Kings will form the Character Deck (the character deck is hidden in compact layout).",h:".character.slot"},{m:"Aces will form the Relic Deck (hidden in compact layout). Later in the game you will se how to obtain relics and what powers they grant you.",h:".relic.slot"},{m:"The rest of the cards will form the Dungeon Deck (hidden in compact layout).",h:".dungeon.slot"},{m:"Now that the board is all set up, you can start the Crawling phase."},{m:"Draw an Event Card from the Dungeon Deck to see what surprise it holds\u2026",e:"#button-draw"},{m:"Good! Gold cards are among your best allies in the dungeon.",h:".event.slot"},{m:"Collect the card now.",e:"#button-collect"},{m:"Draw another card\u2026",e:"#button-draw"},{m:"What a fortunate day! Collect the Gold Card.",e:"#button-collect"},{m:"Collected gold is saved in the Gold Deck for later use.",h:".gold.slot"},{m:"Continue by drawing another card from the Dungeon Deck.",e:"#button-draw"},{m:"When an Event Card is Clubs, you are facing a trap.",h:".event.slot"},{m:"If you had at least 7 Gold to spend in your Gold Deck, you could avoid the trap, but you only have 5 Gold.",h:".gold.slot"},{m:"You have to face the trap by throwing a Dice.",e:"#button-dice"},{m:"Five! Good shot\u2026 but unfortunately not enough. To avoid a trap, you have to throw a 6, or a value that is at least the value of the Event Card. In this case the Event Card Value is 7, so the only way to avoid the trap was to achieve a 6 on your dice."},{m:"When you face a trap and lose, the Hero will lose health equal to half of the Event Card Value (the half of 7 is 3\u2026 we are not taking half values into account). When you face a trap and win, the Hero will pass through unharmed."},{m:"Click the action button to go on...",e:"#button-dice-fb"},{m:"Draw the next Event Card from the Dungeon Deck.",e:"#button-draw"},{m:"Not bad! Cups Event Card represent a concoction. You can always skip a cup card if you want. Otherwise you can challenge the concoction by throwing a dice, or you can buy it by spending an amount of Gold that is equal or greater than the Event Card Value."},{m:"If you win against Cups (either by dice of by buying it), the Hero will recover health equal to the Event Card Value (in this case, 4), but if your dice value is less that the Event Card value the Hero will lose health equal to half of the Event Card Value (in this case, the half of 4 is 2)."},{m:"Winning against a 4 requires throwing a 4, 5 or 6 with the dice. Let\u2019s spend some money instead."},{m:"When spending at least as much Gold as the Event Card Value, the Event Card is automatically resolved with success. You will lose some money but recover some health. Select the 3 Coins from your gold deck",e:".gold.slot .c3.ccoins"},{m:"Now select the 2 Coins, too.",e:".gold.slot .c2.ccoins"},{m:"The total is 5: enough to buy the healing potion. Click the Buy button.",e:"#button-spend"},{m:"The Hero\u2019s health was restored! Note that the Hero HP can never exceed its starting value of 12.",h:".hero .hp"},{m:"Let\u2019s draw another card\u2026",e:"#button-draw"},{m:"Ouch! Sword Event Cards are enemy encounters. You can skip combats if you have enough Gold, but this time you have to fight the enemy. Choose combat to start the fight.",e:"#button-combat"},{m:"This is your opponent. Enemies will always have a maximum of 6 HP.",h:".enemy.slot"},{m:"Each combat turn consists of 3 actions. The enemy will play an Action Card at each turn. You will only see the next action card, the others will be covered.",h:".enemy-action.slot"},{m:"These are the Hero Actions. At each turn you have to choose a card to play against the next enemy card.",h:".hero-action.slot"},{m:"Next Enemy Action Card is 5 Swords. In combat, Swords cards represent an attack. In this case, after the attack the Hero would lose 5 HP.",h:".enemy-action.slot .c5.cswords"},{m:"Coin cards in combat represent shields. Select 4 Golds: you will oppose a Shield of value 4 against an attack of value 5, hence losing only 1 HP.",e:".hero-action.slot .c4.ccoins"},{m:"Click Play Coins to play the action card",e:"#button-play-coins"},{m:"Next Enemy Action card is 4 Clubs. In combat, Clubs represent a particular type of attack that you can parry if you play a Club on your turn.",h:".enemy-action.slot .c4.cclubs"},{m:"You can attack with 6 Clubs. Since the Enemy will attack with 4 Clubs, he will parry 4 points of your attack but still suffer a damage of 2 HP.",e:".hero-action.slot .c6.cclubs"},{m:"Click Play Clubs to play the action card",e:"#button-play-clubs"},{m:"Now the enemy will attack with 6 Swords. You must respond with 3 Clubs. Remember that Clubs can only parry another Clubs attack. This clash will result in you losing 6 HP and the Enemy losing 3 HP.",e:".hero-action.slot .c3.cclubs"},{m:"Click Play Clubs to play the action card",e:"#button-play-clubs"},{m:"You are still both alive, so a new Turn of 3 Actions will start."},{m:"Next Enemy Action Card is 7 Cups. In combat, Cups heal the character. Attack with 4 Swords. As result, the Enemy will only recover 3 HP.",e:".hero-action.slot .c4.cswords"},{m:"Click Play Swords to play the action card",e:"#button-play-swords"},{m:"Next Enemy Action Card is 2 Cups: the enemy can heal again. Let\u2019s put an end to this fight. When you have two or three cards of the same value, you can play them as Combo. Select your 4 Clubs",e:".hero-action.slot .c4.cclubs"},{m:"Now select yout 4 Coins",e:".hero-action.slot .c4.ccoins"},{m:"When you create a combo, you have to choose a suit among the ones of selected cards. In this case you can choose to play the combo as Gold (thus using a total of 8 shields) or as Clubs (thus dealing a total attack of 8). Choose to play as Clubs: this will defeat the enemy.",e:"#button-play-clubs"},{m:"Your Enemy had 4 HP and healed by 2. By attacking with 8 Clubs, his health went to zero. You can also play a combo in the first action of a turn. In this case, you may have no cards left to respond and will have to withstand the enemy's actions."},{m:"When you defeat an enemy, he will temporarily join your side and wait for your call in the Aid Deck.",h:".aid.slot"},{m:"When you defeat an enemy King, you will permanently acquire his Relic. We will see what relics are useful for in your next fight.",h:".obtained-relic.slot"},{m:"When you defeat an enemy, you can choose to keep unused Hero Action Cards in your hands if you have them. With the last combo you used all cards in you hand. Let\u2019s the crawling continue\u2026",e:"#button-draw"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-collect"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-draw"},{m:"Another encounter. If you can spend an exact amount of Gold you can skip the fight altogether. Select your 5 Gold and go on",e:".gold.slot .c5.ccoins"},{m:"Another encounter. If you can spend an exact amount of Gold you can skip the fight altogether. Select your 5 Gold and go on",e:"#button-spend"},{m:"Draw another card\u2026",e:"#button-draw"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-collect"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-draw"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-collect"},{m:"Collect the Gold and continue crawling\u2026",e:"#button-draw"},{m:"Swords, again. If you spend more Gold than the Event Card Value, you can try to bribe the enemy. Select your 6 Gold and go on\u2026",e:".gold.slot .c6.ccoins"},{m:"Swords, again. If you spend more Gold than the Event Card Value, you can try to bribe the enemy. Select your 6 Gold and go on\u2026",e:"#button-spend"},{m:"When you bribe an enemy, it will join your aids.",e:"#button-accept-aid"},{m:"Draw another card\u2026",e:"#button-draw"},{m:"Another encounter. Try to bribe your enemy again\u2026",e:".gold.slot .c7.ccoins"},{m:"Another encounter. Try to bribe your enemy again\u2026",e:"#button-spend"},{m:"Kings cannot be bribed: you lost you gold and must fight your opponent",e:"#button-reveal-combat"},{m:"Oh no. The enemy is attacking with 7 Swords. Even if you use 2 Coins for shielding or 2 Cups for healing, you will be left with no HP and die..."},{m:"But wait! You have an ally on your side. You can spend one or more aid cards having the same suit as your selected card to increase its effect."},{m:"You want to ask to the Jack of Cups for help, so you have to play the 2 Cups. Select it...",e:".hero-action.slot .c2.ccups"},{m:"Now select your ally...",e:".aid.slot .c8.ccups"},{m:"By using this combination, you will face 7 damage but heal for 3 HP, leaving you with 1 HP.",e:"#button-play-cups"},{m:"Once used, your allies are discarded, so you can use them only once.",h:".aid.slot"},{m:"Now your enemy is attacking you with 4 Clubs. Select your 3 Clubs...",e:".hero-action.slot .c3.cclubs"},{m:"Since you possess a Clubs relic, all your Clubs cards will be automatically increased by 1.",h:".obtained-relic.slot"},{m:"By playing your 3 Clubs now, you will parry a total amount of 4, leaving your HP untouched.",e:"#button-play-clubs"},{m:"The enemy won' attack you with this action. Unfortunately, you can' attack either.",e:".hero-action.slot .c2.ccoins"},{m:"The enemy won' attack you with this action. Unfortunately, you can' attack either.",e:"#button-play-coins"},{m:"That is you change. Select 6 Clubs...",e:".hero-action.slot .c6.cclubs"},{m:"The enemy will parry 2 of you attack. Even with your relic, he will survive with 2 HP."},{m:"Fortunately you can combine relics and aids. Select your ally.",e:".aid.slot .c10.cclubs"},{m:"With this combination you will inflict a total damage of 8. The enemy will parry 2 but still suffer 6 damage, thus defeating it.",e:"#button-play-clubs"},{m:"Remember that after a combat you can select one or more of your action cards and keep them for your next encounter.",h:".hero-action.slot"},{m:"Choose to keep your 5 Coins.",e:".hero-action.slot .c5.ccoins"},{m:"Choose to keep your 5 Coins.",e:"#button-keep"},{m:"This concludes the tutorial."},{m:"To win the game, you have to defeat all 4 kings and collect their relics."},{m:"Now, click next to go back to the game."}];var Kc=(()=>{let e=class e{constructor(n,i){this.document=n,this.tutorialFacade=i,this.enableAutoClick=!1,this.constrainEl=null,this.resizeDebounce=null,this.highlightId="tutorial-highlight",this.highlightEl=null,this.highlightedEl=null,this.steps=L_,this.clickListener=o=>{let s=o.target;if(s.id.startsWith("tutorial-"))return!0;for(;s;){if(s===this.constrainEl)return this.tutorialFacade.tutorialNext(),!0;s=s.parentElement}return o.stopImmediatePropagation(),!1},this.resizeListener=()=>{this.resizeDebounce&&clearTimeout(this.resizeDebounce),this.resizeDebounce=window.setTimeout(()=>this.updateHighlight(),100)}}getStep(n){return this.steps[(n??0)-1]}start(){this.highlightEl=document.createElement("div"),this.highlightEl.id=this.highlightId,document.body.append(this.highlightEl),this.document.addEventListener("click",this.clickListener,{capture:!0}),addEventListener("resize",this.resizeListener)}stop(){this.unconstrain(),this.unhighlight(),this.highlightEl&&(this.document.body.removeChild(this.highlightEl),this.highlightEl=null),removeEventListener("resize",this.resizeListener),console.log("TUT SEREVICE STOP")}constrain(n){let i=n?.e;i?window.setTimeout(()=>this.constrainEl=this.selectElement(i),250):this.constrainEl=null}unconstrain(){this.document.removeEventListener("click",this.clickListener,{capture:!0}),this.constrainEl=null}highlight(n){let i=n?.h||n?.e;window.setTimeout(()=>{this.highlightedEl=i?this.selectElement(i):null,this.updateHighlight()},i?250:0)}unhighlight(){this.highlightedEl=null,this.updateHighlight()}updateHighlight(){if(this.highlightEl)if(this.highlightedEl){this.highlightEl.style.display="block";let n=this.highlightedEl.getBoundingClientRect();this.highlightEl.style.top=`${n.top}px`,this.highlightEl.style.left=`${n.left}px`,this.highlightEl.style.width=`${n.width}px`,this.highlightEl.style.height=`${n.height}px`}else this.highlightEl.style.display="none"}autoClick(n){n?.autoclick!==void 0&&(this.enableAutoClick=n.autoclick),this.enableAutoClick&&setTimeout(()=>{let i=this.constrainEl||this.document.getElementById("tutorial-next");if(n&&i){let o=new Event("click",{bubbles:!0});i.dispatchEvent(o)}},300)}selectElement(n){return this.document.querySelector(n)}};e.\u0275fac=function(i){return new(i||e)(D(Re),D(Wt))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var j_=(()=>{let e=class e{constructor(n,i,o,s,a){this.actions$=n,this.gameFacade=i,this.menuFacade=o,this.store=s,this.tutorialService=a,this.exit$=ce(()=>this.actions$.pipe(le(or),Q(()=>this.menuFacade.about(!0)),Q(()=>this.gameFacade.reset()),Q(()=>this.tutorialService.stop())),{dispatch:!1}),this.start$=ce(()=>this.actions$.pipe(le(hi),Q(()=>this.gameFacade.start()),Q(()=>this.tutorialService.start()),_(()=>ir()))),this.step$=ce(()=>this.actions$.pipe(le(ir),ye(this.store.select(Vo)),_(([,c])=>this.tutorialService.getStep(c)),Q(c=>this.tutorialService.highlight(c)),Q(c=>this.tutorialService.constrain(c)),Q(c=>this.tutorialService.autoClick(c)),_(c=>Oo({step:c})))),this.nextReady$=ce(()=>this.actions$.pipe(le(Oo),ye(this.store.select(Vo)),_(([,c])=>this.tutorialService.getStep(c)),re(c=>!c),_(()=>or())))}};e.\u0275fac=function(i){return new(i||e)(D(ii),D(Ct),D(Qe),D(We),D(Kc))},e.\u0275prov=S({token:e,factory:e.\u0275fac});let t=e;return t})();var $_=[{path:"game",component:k_,providers:[Lf({name:mi,reducer:Ay}),Lf({name:Vc,reducer:ky}),xy(Hy,F_,j_),Ct,Qe,Wt,Uc,Kc]},{path:"",pathMatch:"full",redirectTo:"game"}];var V_={providers:[I0($_),X0(),Cy({maxAge:25,logOnly:!Sa()})]};var B_=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=J({type:e,selectors:[["app-root"]],standalone:!0,features:[ee],decls:1,vars:0,template:function(i,o){i&1&&O(0,"router-outlet")},dependencies:[_f]});let t=e;return t})();Hv(B_,V_).catch(t=>console.error(t));
